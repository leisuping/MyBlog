<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>js æ—¥æœŸæ ¼å¼è½¬æ¢</title>
      <link href="/MyBlog/jsnote-one/"/>
      <url>/MyBlog/jsnote-one/</url>
      
        <content type="html"><![CDATA[<h2 id="1ã€js-è·å–å½“å‰æ—¥æœŸå‰åå‡ åˆ†é’Ÿï¼ˆ-n-nåˆ†é’Ÿï¼‰"><a href="#1ã€js-è·å–å½“å‰æ—¥æœŸå‰åå‡ åˆ†é’Ÿï¼ˆ-n-nåˆ†é’Ÿï¼‰" class="headerlink" title="1ã€js è·å–å½“å‰æ—¥æœŸå‰åå‡ åˆ†é’Ÿï¼ˆ+n/-nåˆ†é’Ÿï¼‰"></a>1ã€js è·å–å½“å‰æ—¥æœŸå‰åå‡ åˆ†é’Ÿï¼ˆ+n/-nåˆ†é’Ÿï¼‰</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// æ—¥æœŸæ ¼å¼ï¼š'YYYY-MM-DD HH:mm:ss'</span><span class="token keyword">const</span> <span class="token function-variable function">nowTime</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">minut</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> date<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//1. jsè·å–å½“å‰æ—¶é—´</span>  <span class="token keyword">var</span> min<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//2. è·å–å½“å‰åˆ†é’Ÿ</span>  date<span class="token punctuation">.</span><span class="token function">setMinutes</span><span class="token punctuation">(</span>min<span class="token operator">+</span> <span class="token punctuation">(</span>minut <span class="token operator">?</span> minut <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//3. è®¾ç½®å½“å‰æ—¶é—´+10åˆ†é’Ÿï¼šæŠŠå½“å‰åˆ†é’Ÿæ•°+10åçš„å€¼é‡æ–°è®¾ç½®ä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•°</span>  <span class="token keyword">var</span> y <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token string">"0"</span> <span class="token operator">+</span> <span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> d <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token string">"0"</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> h <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token string">'0'</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token keyword">var</span> f <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token string">'0'</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token keyword">var</span> s <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token string">'0'</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getseconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token keyword">var</span> formatdate <span class="token operator">=</span> y<span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span>m<span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span>d <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> h <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> f <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> s<span class="token punctuation">;</span>  <span class="token keyword">return</span> formatdate<span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">nowTime</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–10åˆ†é’Ÿåçš„æ—¥æœŸæ—¶é—´æ ¼å¼ï¼š'YYYY-MM-DD HH:mm:ss'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2ã€js-å°†æ—¥æœŸæ—¶é—´è½¬æ¢ä¸ºâ€œåˆšåˆšâ€ã€â€œå‡ åˆ†é’Ÿå‰â€ã€â€œå‡ å¤©å‰â€ç­‰"><a href="#2ã€js-å°†æ—¥æœŸæ—¶é—´è½¬æ¢ä¸ºâ€œåˆšåˆšâ€ã€â€œå‡ åˆ†é’Ÿå‰â€ã€â€œå‡ å¤©å‰â€ç­‰" class="headerlink" title="2ã€js å°†æ—¥æœŸæ—¶é—´è½¬æ¢ä¸ºâ€œåˆšåˆšâ€ã€â€œå‡ åˆ†é’Ÿå‰â€ã€â€œå‡ å¤©å‰â€ç­‰"></a>2ã€js å°†æ—¥æœŸæ—¶é—´è½¬æ¢ä¸ºâ€œåˆšåˆšâ€ã€â€œå‡ åˆ†é’Ÿå‰â€ã€â€œå‡ å¤©å‰â€ç­‰</h2><blockquote><p>dateä¸ºä¼ å…¥æ—¶é—´ ä¾‹ï¼šâ€2023/5/10 11:32:01â€ 2023-02-01 09:32:01<br>typeä¸ºè¿”å›ç±»å‹ ä¾‹ï¼š- / å¹´æœˆæ—¥ å¹´<br>é»˜è®¤è§„åˆ™ï¼Œå¤§äºç­‰äºä¸€å¤©(24å°æ—¶)å±•ç¤ºâ€™Xå¤©å‰ï¼›å¤§äºç­‰äº30å¤©ä¸”å°äº365å¤©å±•ç¤ºâ€™Xä¸ªæœˆå‰â€™ï¼›å¤§äºç­‰äº365å¤©ä¸”å±•ç¤ºâ€™xå¹´å‰â€™ï¼Œå¦åˆ™æŒ‰ç…§ä¼ å…¥å‚æ•°è§„åˆ™å±•ç¤º<br>zeroFillFlagå‚æ•°ä¸ºæ˜¯å¦æ•°å­—è¡¥é›¶ï¼Œé»˜è®¤è¡¥é›¶<br>æ—¶é—´å‚æ•°dateä¸ºå¿…å†™å‚æ•° <a href="https://juejin.cn/post/7317704519160266779">åŸæ–‡é“¾æ¥</a></p></blockquote><p>æ—¶é—´å¤„ç†å…¬å¼ä¾æ®ï¼š<br>â— 10ç§’ï¼š  10 * 1000<br>â— 1åˆ†é’Ÿï¼š 60 * 1000<br>â— 1å°æ—¶ï¼š 60 * 60 * 1000<br>â— 24å°æ—¶ï¼ˆä¸€å¤©ï¼‰ï¼š60 * 60 * 24 * 1000</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> formatPast <span class="token operator">=</span> <span class="token punctuation">(</span>date<span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">"default"</span><span class="token punctuation">,</span> zeroFillFlag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">// å®šä¹‰countTimeå˜é‡ï¼Œç”¨äºå­˜å‚¨è®¡ç®—åçš„æ•°æ®</span>  <span class="token keyword">let</span> countTime<span class="token punctuation">;</span>  <span class="token comment">// è·å–å½“å‰æ—¶é—´æˆ³</span>  <span class="token keyword">let</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è½¬æ¢ä¼ å…¥å‚æ•°ä¸ºæ—¶é—´æˆ³</span>  <span class="token keyword">let</span> afferentTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å½“å‰æ—¶é—´æˆ³ - ä¼ å…¥æ—¶é—´æˆ³</span>  time <span class="token operator">=</span> Number<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>time <span class="token operator">-</span> afferentTime<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 10ç§’å†…</span>    <span class="token keyword">return</span> <span class="token string">"åˆšåˆš"</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">&lt;</span> <span class="token number">60000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// è¶…è¿‡10ç§’å°‘äº1åˆ†é’Ÿå†…</span>    countTime <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>time <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>countTime<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ç§’å‰</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">&lt;</span> <span class="token number">3600000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// è¶…è¿‡1åˆ†é’Ÿå°‘äº1å°æ—¶</span>    countTime <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>time <span class="token operator">/</span> <span class="token number">60000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>countTime<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">åˆ†é’Ÿå‰</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">&lt;</span> <span class="token number">86400000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// è¶…è¿‡1å°æ—¶å°‘äº24å°æ—¶</span>    countTime <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>time <span class="token operator">/</span> <span class="token number">3600000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>countTime<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">å°æ—¶å‰</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">&gt;=</span> <span class="token number">86400000</span> <span class="token operator">&amp;&amp;</span> type <span class="token operator">==</span> <span class="token string">"default"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// è¶…è¿‡äºŒåå››å°æ—¶ï¼ˆä¸€å¤©ï¼‰ä¸”æ ¼å¼å‚æ•°ä¸ºé»˜è®¤"default"</span>    countTime <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>time <span class="token operator">/</span> <span class="token number">86400000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//å¤§äºç­‰äº365å¤©</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>countTime <span class="token operator">&gt;=</span> <span class="token number">365</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>countTime <span class="token operator">/</span> <span class="token number">365</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">å¹´å‰</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">//å¤§äºç­‰äº30å¤©</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>countTime <span class="token operator">&gt;=</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>countTime <span class="token operator">/</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ä¸ªæœˆå‰</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>countTime<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">å¤©å‰</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token comment">// ä¸€å¤©ï¼ˆ24å°æ—¶ï¼‰ä»¥ä¸Šä¸”æ ¼å¼ä¸ä¸º"default"åˆ™æŒ‰ä¼ å…¥æ ¼å¼å‚æ•°æ˜¾ç¤ºä¸åŒæ ¼å¼</span>    <span class="token comment">// æ•°å­—è¡¥é›¶</span>    <span class="token keyword">let</span> <span class="token constant">Y</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> <span class="token constant">M</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> zeroFillM <span class="token operator">=</span> <span class="token constant">M</span> <span class="token operator">&gt;</span> <span class="token number">9</span> <span class="token operator">?</span> <span class="token constant">M</span> <span class="token operator">:</span> <span class="token string">"0"</span> <span class="token operator">+</span> <span class="token constant">M</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> <span class="token constant">D</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> zeroFillD <span class="token operator">=</span> <span class="token constant">D</span> <span class="token operator">&gt;</span> <span class="token number">9</span> <span class="token operator">?</span> <span class="token constant">D</span> <span class="token operator">:</span> <span class="token string">"0"</span> <span class="token operator">+</span> <span class="token constant">D</span><span class="token punctuation">;</span>    <span class="token comment">// ä¼ å…¥æ ¼å¼ä¸º"-" "/" "."</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">"-"</span> <span class="token operator">||</span> type <span class="token operator">==</span> <span class="token string">"/"</span> <span class="token operator">||</span> type <span class="token operator">==</span> <span class="token string">"."</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> zeroFillFlag            <span class="token operator">?</span> <span class="token constant">Y</span> <span class="token operator">+</span> type <span class="token operator">+</span> zeroFillM <span class="token operator">+</span> type <span class="token operator">+</span> zeroFillD            <span class="token operator">:</span> <span class="token constant">Y</span> <span class="token operator">+</span> type <span class="token operator">+</span> <span class="token constant">M</span> <span class="token operator">+</span> type <span class="token operator">+</span> <span class="token constant">D</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// ä¼ å…¥æ ¼å¼ä¸º"å¹´æœˆæ—¥"</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">"å¹´æœˆæ—¥"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> zeroFillFlag            <span class="token operator">?</span> <span class="token constant">Y</span> <span class="token operator">+</span> type<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> zeroFillM <span class="token operator">+</span> type<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> zeroFillD <span class="token operator">+</span> type<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>            <span class="token operator">:</span> <span class="token constant">Y</span> <span class="token operator">+</span> type<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token constant">M</span> <span class="token operator">+</span> type<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token constant">D</span> <span class="token operator">+</span> type<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// ä¼ å…¥æ ¼å¼ä¸º"æœˆæ—¥"</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">"æœˆæ—¥"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> zeroFillFlag            <span class="token operator">?</span> zeroFillM <span class="token operator">+</span> type<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> zeroFillD <span class="token operator">+</span> type<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>            <span class="token operator">:</span> <span class="token constant">M</span> <span class="token operator">+</span> type<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token constant">D</span> <span class="token operator">+</span> type<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>    <span class="token punctuation">}</span>    <span class="token comment">// ä¼ å…¥æ ¼å¼ä¸º"å¹´"</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">"å¹´"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token constant">Y</span> <span class="token operator">+</span> type    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">formatPast</span><span class="token punctuation">(</span><span class="token string">"2024-1-1 11:11:11"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3å¤©å‰</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">formatPast</span><span class="token punctuation">(</span><span class="token string">"2023-11-1 11:11:11"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2ä¸ªæœˆå‰</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">formatPast</span><span class="token punctuation">(</span><span class="token string">"2015-07-10 21:32:01"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8å¹´å‰</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">formatPast</span><span class="token punctuation">(</span><span class="token string">"2023-02-01 09:32:01"</span><span class="token punctuation">,</span> <span class="token string">"-"</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2023-2-1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">formatPast</span><span class="token punctuation">(</span><span class="token string">"2023.12.8 19:32:01"</span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2023/12/08</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">formatPast</span><span class="token punctuation">(</span><span class="token string">"2023.12.8 19:32:01"</span><span class="token punctuation">,</span> <span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2023.12.08</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">formatPast</span><span class="token punctuation">(</span><span class="token string">"2023/5/10 11:32:01"</span><span class="token punctuation">,</span> <span class="token string">"å¹´æœˆæ—¥"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2023å¹´05æœˆ10æ—¥</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">formatPast</span><span class="token punctuation">(</span><span class="token string">"2023/6/25 11:32:01"</span><span class="token punctuation">,</span> <span class="token string">"æœˆæ—¥"</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6æœˆ25æ—¥</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">formatPast</span><span class="token punctuation">(</span><span class="token string">"2023/8/08 11:32:01"</span><span class="token punctuation">,</span> <span class="token string">"å¹´"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2023å¹´</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆè¯†arkUI</title>
      <link href="/MyBlog/arkts-1/"/>
      <url>/MyBlog/arkts-1/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€ä»‹ç»"><a href="#ä¸€ã€ä»‹ç»" class="headerlink" title="ä¸€ã€ä»‹ç»"></a>ä¸€ã€ä»‹ç»</h2><blockquote><p>ğŸ¯ ä»€ä¹ˆï¼ŸHarmonyOS NEXTä¸å…¼å®¹å®‰å“APPå•¦ï¼<br>ä»Šå¹´çš„åä¸ºå¼€å‘è€…å¤§ä¼šä¸­ï¼Œæå‡ºäº†HarmonyOS NEXTçš„æ¦‚å¿µï¼Œæ„åœ¨æ‰“é€ å‡ºâ€œä¸€å¥—çº¯æ­£çš„é¸¿è’™ç³»ç»Ÿâ€ã€‚æ•´ä¸ªç³»ç»Ÿè¿ç”¨çš„å…¨è‡ªç ”çš„å†…æ ¸ï¼Œå‡å°‘å†—ä½™æé«˜è½¯ä»¶æµç•…æ€§ç­‰ç­‰<br>é‚£ä¹ˆä»Šå¤©æˆ‘ä»¬æ¥è®¤è¯†ä¸€ä¸‹HarmonyOS arkUIè¿™ä¸ªæ¡†æ¶</p></blockquote><h2 id="äºŒã€å‡†å¤‡"><a href="#äºŒã€å‡†å¤‡" class="headerlink" title="äºŒã€å‡†å¤‡"></a>äºŒã€å‡†å¤‡</h2>]]></content>
      
      
      <categories>
          
          <category> arkTs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> arkTs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨termuxåœ¨å®‰å“ç³»ç»Ÿä¸Šæ­å»ºç½‘ç«™</title>
      <link href="/MyBlog/termux/"/>
      <url>/MyBlog/termux/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€ä»‹ç»"><a href="#ä¸€ã€ä»‹ç»" class="headerlink" title="ä¸€ã€ä»‹ç»"></a>ä¸€ã€ä»‹ç»</h2><blockquote><p>ğŸ¯ â€œTermux æ˜¯ä¸€æ¬¾ Android ç»ˆç«¯æ¨¡æ‹Ÿå™¨å’Œ Linux ç¯å¢ƒåº”ç”¨ç¨‹åºï¼Œæ— éœ€ root æˆ–è®¾ç½®å³å¯ç›´æ¥è¿è¡Œã€‚è‡ªåŠ¨å®‰è£…æœ€å°çš„åŸºæœ¬ç³»ç»Ÿï¼Œä½¿ç”¨åŒ…ç®¡ç†å™¨å¯ä»¥ä½¿ç”¨å…¶ä»–åŒ…ã€‚â€<br>å®ƒå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„APPï¼Œå¯ä»¥åœ¨æ‰‹æœºçš„åº”ç”¨å•†åŸä¸‹è½½å®‰è£…ï¼Œä¸éœ€è¦ä»»ä½•é…ç½®ï¼Œæ‰“å¼€å³ç”¨ã€‚</p></blockquote><h2 id="äºŒã€å‡†å¤‡ç¯å¢ƒ"><a href="#äºŒã€å‡†å¤‡ç¯å¢ƒ" class="headerlink" title="äºŒã€å‡†å¤‡ç¯å¢ƒ"></a>äºŒã€å‡†å¤‡ç¯å¢ƒ</h2><h3 id="1-å®‰è£…-Termux"><a href="#1-å®‰è£…-Termux" class="headerlink" title="1.å®‰è£… Termux"></a>1.å®‰è£… Termux</h3><blockquote><p>åœ¨æ‰‹æœºçš„åº”ç”¨å•†åŸä¸‹è½½å¹¶å®‰è£…ï¼Œæ‰“å¼€åæ˜¯ä¸€ä¸ªå…¨å±çš„å‘½ä»¤é¢æ¿ã€‚<br>1.æ›´æ–°ç³»ç»Ÿ</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># è¿æ¥è¿œç¨‹ä»“åº“ï¼Œè·å–è½¯ä»¶åŒ…ä¿¡æ¯</span>$ <span class="token function">apt</span> update<span class="token comment"># æ›´æ–°æœ¬åœ°å·²ç»å®‰è£…çš„è½¯ä»¶åŒ…</span>$ <span class="token function">apt</span> upgrade<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>2.æµ‹è¯•ç³»ç»Ÿ</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å®‰è£… sl è½¯ä»¶åŒ…</span>$ <span class="token function">apt</span> <span class="token function">install</span> sl<span class="token comment"># è¿è¡Œ(æ­£å¸¸ä¼šæ˜¾ç¤ºä¸€ä¸ªç«è½¦çš„å‘½ä»¤è¡ŒåŠ¨ç”»)</span>$ sl<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>3.è®¿é—®æœ¬æœºå­˜å‚¨</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># è®¿é—®æœ¬æœºå­˜å‚¨ï¼Œæ‰‹æœºä¼šå¼¹å‡ºå¯¹è¯æ¡†ï¼Œè¯¢é—®æ˜¯å¦å…è®¸ Termux è®¿é—®æ‰‹æœºå­˜å‚¨ï¼Œç‚¹å‡»"å…è®¸"ã€‚</span><span class="token comment"># ä¹‹åä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆstorageå­ç›®å½•ï¼Œå®ƒæ˜¯æ‰‹æœºå­˜å‚¨çš„ç¬¦å·é“¾æ¥ï¼Œä¸‹è½½æ–‡ä»¶å°±æ˜¯åˆ°è¿™ä¸ªç›®å½•å»ä¸‹è½½ã€‚</span>$ termux-setup-storage<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>Termuxé™¤äº†å°è£…äº†aptå‘½ä»¤ï¼Œè¿˜å°è£…äº†pkgä¸€äº›åŸºç¡€å‘½ä»¤ï¼Œæ¯”å¦‚ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pkg search <span class="token operator">&lt;</span>query<span class="token operator">&gt;</span>              <span class="token comment"># æœç´¢åŒ…</span>pkg <span class="token function">install</span> <span class="token operator">&lt;</span>package<span class="token operator">&gt;</span>           <span class="token comment"># å®‰è£…åŒ…</span>pkg uninstall <span class="token operator">&lt;</span>package<span class="token operator">&gt;</span>         <span class="token comment"># å¸è½½åŒ…</span>pkg reinstall <span class="token operator">&lt;</span>package<span class="token operator">&gt;</span>         <span class="token comment"># é‡æ–°å®‰è£…åŒ…</span>pkg list-all                    <span class="token comment"># åˆ—å‡ºå¯ä¾›å®‰è£…çš„æ‰€æœ‰åŒ…</span>pkg list-installed              <span class="token comment"># åˆ—å‡ºå·²ç»å®‰è£…çš„åŒ…</span>pkg show <span class="token operator">&lt;</span>package<span class="token operator">&gt;</span>              <span class="token comment"># æ˜¾ç¤ºæŸä¸ªåŒ…çš„è¯¦ç»†ä¿¡æ¯</span>pkg files <span class="token operator">&lt;</span>package<span class="token operator">&gt;</span>             <span class="token comment"># æ˜¾ç¤ºæŸä¸ªåŒ…çš„ç›¸å…³æ–‡ä»¶å¤¹è·¯å¾„</span>pkg update                      <span class="token comment"># æ›´æ–°æºï¼ˆè‡ªåŠ¨åˆ‡æ¢æºï¼‰</span>pkg upgrade                     <span class="token comment"># å‡çº§è½¯ä»¶åŒ…</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>4.å®‰è£…nodejs</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">apt</span> <span class="token function">install</span> nodejs<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>(æœªå®Œå¾…ç»­â€¦)</p>]]></content>
      
      
      <categories>
          
          <category> nodejs </category>
          
          <category> termux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> termux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤šä¸ªnodejsç‰ˆæœ¬åˆ‡æ¢</title>
      <link href="/MyBlog/nvm-change-node/"/>
      <url>/MyBlog/nvm-change-node/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å¼•æ–‡"><a href="#ä¸€ã€å¼•æ–‡" class="headerlink" title="ä¸€ã€å¼•æ–‡"></a>ä¸€ã€å¼•æ–‡</h2><blockquote><p>ğŸ¯ nodejsæ˜¯å‰ç«¯å¼€å‘å¿…å¤‡çš„ç¯å¢ƒä¹‹ä¸€ï¼Œä½†å…¶ç‰ˆæœ¬è¿­ä»£æ›´æ–°æ¯”è¾ƒè¿…é€Ÿ(å½“å‰æœ€æ–°çš„ç‰ˆæœ¬21.1.0)<br>æ‰€ä»¥å¯èƒ½ä¼šç¢°åˆ°è¿è¡Œè€é¡¹ç›®ï¼Œå‡ºç°å½“å‰nodejsç‰ˆæœ¬è¿‡é«˜çš„æƒ…å†µã€‚<br>ä¸ºäº†å…¼å®¹æ–°è€é¡¹ç›®ï¼Œä¿è¯å…¶æ­£å¸¸è¿è¡Œï¼Œé€šå¸¸æˆ‘ä»¬éƒ½ä¼šåœ¨æœ¬åœ°å®‰è£…å¤šä¸ªç‰ˆæœ¬çš„nodejsã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¥èŠèŠå¦‚ä½•å®‰è£…å¤šä¸ªç‰ˆæœ¬å¹¶åˆ‡æ¢å§~</p></blockquote><h3 id="éœ€è¦ç”¨çš„ç®¡ç†å·¥å…·nvm"><a href="#éœ€è¦ç”¨çš„ç®¡ç†å·¥å…·nvm" class="headerlink" title="éœ€è¦ç”¨çš„ç®¡ç†å·¥å…·nvm"></a>éœ€è¦ç”¨çš„ç®¡ç†å·¥å…·nvm</h3><blockquote><p>nvm æ˜¯ä¸€ä¸ªç®€å•çš„bashè„šæœ¬ï¼Œä¸»è¦ç”¨å®ƒæ¥ç®¡ç†ç³»ç»Ÿä¸­å¤šä¸ªnodejsç‰ˆæœ¬ã€‚<br>å®‰è£…ï¼šgithubä¸‹è½½åœ°å€[<a href="https://github.com/coreybutler/nvm-windows/releases]">https://github.com/coreybutler/nvm-windows/releases]</a><br>windows é€‰æ‹©å®‰è£…exeåç¼€çš„å³å¯ã€‚ï¼ˆå®‰è£…ä¹‹åä¼šè‡ªåŠ¨é…ç½®ç¯å¢ƒä¿¡æ¯ï¼‰</p></blockquote><p><img src="./GitHub.png"></p><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml">## å®‰è£…nvmåï¼Œå¯æŸ¥çœ‹ä¸€ä¸‹ç‰ˆæœ¬ä¿¡æ¯nvm -v## nvmç®¡ç†nodeå¸¸ç”¨å‘½ä»¤## å®‰è£…æœ€æ–°ç‰ˆ$ nvm install stable## å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„$ nvm install [ç‰ˆæœ¬å·]## åˆ‡æ¢åˆ°æŒ‡å®šç‰ˆæœ¬çš„nodenvm use [ç‰ˆæœ¬å·]## è®¾ç½®é»˜è®¤ç‰ˆæœ¬nvm alias default [ç‰ˆæœ¬å·]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="./nvmlist.png"><br><img src="./nvmuse.png"><br><img src="./nvm.png"></p><h2 id="äºŒã€å…·ä½“æ“ä½œ"><a href="#äºŒã€å…·ä½“æ“ä½œ" class="headerlink" title="äºŒã€å…·ä½“æ“ä½œ"></a>äºŒã€å…·ä½“æ“ä½œ</h2><h3 id="1-Windowsç³»ç»Ÿ"><a href="#1-Windowsç³»ç»Ÿ" class="headerlink" title="1.Windowsç³»ç»Ÿ"></a>1.Windowsç³»ç»Ÿ</h3><h4 id="å®‰è£…æŒ‡å®šçš„nodejsç‰ˆæœ¬å¹¶åˆ‡æ¢ç‰ˆæœ¬"><a href="#å®‰è£…æŒ‡å®šçš„nodejsç‰ˆæœ¬å¹¶åˆ‡æ¢ç‰ˆæœ¬" class="headerlink" title="å®‰è£…æŒ‡å®šçš„nodejsç‰ˆæœ¬å¹¶åˆ‡æ¢ç‰ˆæœ¬"></a>å®‰è£…æŒ‡å®šçš„nodejsç‰ˆæœ¬å¹¶åˆ‡æ¢ç‰ˆæœ¬</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">## æŸ¥çœ‹nodejsç‰ˆæœ¬</span>$ nvm list available<span class="token comment">## å®‰è£…nodejs(æˆ‘è¿™é‡Œå®‰è£…çš„æ˜¯é•¿æœŸç»´æŠ¤ç‰ˆæœ¬)</span>$ nvm <span class="token function">install</span> <span class="token number">18.18</span>.0<span class="token comment">## æŸ¥çœ‹å·²å®‰è£…çš„nodejsç‰ˆæœ¬</span>$ nvm list<span class="token comment">## åˆ‡æ¢nodejsç‰ˆæœ¬</span>$ nvm use <span class="token number">18.18</span>.0<span class="token comment">## æŸ¥çœ‹nodejsç‰ˆæœ¬</span>$ node -v<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-MACç³»ç»Ÿ"><a href="#2-MACç³»ç»Ÿ" class="headerlink" title="2.MACç³»ç»Ÿ"></a>2.MACç³»ç»Ÿ</h3><h4 id="ç®¡ç†å·¥å…·ï¼Œå¯ä»¥æ˜¯nvmæˆ–è€…n"><a href="#ç®¡ç†å·¥å…·ï¼Œå¯ä»¥æ˜¯nvmæˆ–è€…n" class="headerlink" title="ç®¡ç†å·¥å…·ï¼Œå¯ä»¥æ˜¯nvmæˆ–è€…n"></a>ç®¡ç†å·¥å…·ï¼Œå¯ä»¥æ˜¯nvmæˆ–è€…n</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">## nvmå®‰è£…æ–¹å¼åŒä¸Š</span><span class="token comment">## å®‰è£…nç®¡ç†å·¥å…·</span>$ <span class="token function">npm</span> <span class="token function">install</span> -g n<span class="token comment">## æŸ¥çœ‹næ˜¯å¦å®‰è£…æˆåŠŸ</span>$ n --version<span class="token comment">## å®‰è£…nodejs(sudoæ˜¯ä½¿ç”¨çš„è¶…çº§ç®¡ç†å‘˜æƒé™)</span>$ n <span class="token number">18.18</span>.0$ <span class="token function">sudo</span> n <span class="token number">18.18</span>.0<span class="token comment">## å®‰è£…æœ€æ–°ç‰ˆæœ¬</span>$ n latest<span class="token comment">## æŸ¥çœ‹å·²å®‰è£…çš„ç‰ˆæœ¬ï¼Œç»“æœç”¨é”®ç›˜ä¸Šä¸‹é”®ï¼Œå›è½¦åˆ‡æ¢ç‰ˆæœ¬</span>$ <span class="token function">sudo</span> n<span class="token comment">## å¸è½½å·²å®‰è£…çš„ç‰ˆæœ¬</span>$ n <span class="token function">rm</span> <span class="token number">18.18</span>.0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="./hexo02.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> nodejs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nodejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡å°ç¨‹åºnpmæ„å»ºæŠ¥é”™ï¼Œæ— æ³•ç”Ÿæˆminiprogram_npm</title>
      <link href="/MyBlog/wechat-miniprogram-npm/"/>
      <url>/MyBlog/wechat-miniprogram-npm/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€éšè®°"><a href="#ä¸€ã€éšè®°" class="headerlink" title="ä¸€ã€éšè®°"></a>ä¸€ã€éšè®°</h2><blockquote><p>ğŸ¯ é—®é¢˜ï¼šå¾®ä¿¡å°ç¨‹åºåœ¨åˆå§‹åŒ–é¡¹ç›®åæ„å»ºnpmæ²¡æœ‰ç”Ÿæˆminiprogram_npmæ–‡ä»¶</p></blockquote><h3 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h3><blockquote><p>1ã€åˆå§‹åŒ–npm init<br>2ã€å®‰è£…ä¾èµ– npm install XXXX<br>3ã€è®¾ç½®project.config.jsonæ–‡ä»¶</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">## åˆå§‹åŒ–npm init</span>$ <span class="token function">npm</span> init<span class="token comment">## å®‰è£…ä¾èµ– npm install XXXX</span>$ <span class="token function">npm</span> i<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>è®¾ç½®å¥½project.config.jsonæ–‡ä»¶ä¹‹åå†æ¬¡æ„å»ºnpm<br>å¼€å‘è€…å·¥å…·â€“&gt;å·¥å…·â€“&gt;æ„å»ºnpm å°±ä¼šç”Ÿæˆ miniprogram_npm æ–‡ä»¶å¤¹äº†</p></blockquote><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml">## project.config.json"packNpmManually": false,"packNpmRelationList": [    {    "packageJsonPath": "./package.json",    "miniprogramNpmDistDir": "./"    }]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>é¡µé¢ä¸­å¼•å…¥ç»„ä»¶ä½¿ç”¨åœ°å€è·¯å¾„</p></blockquote><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>  <span class="token property">"navigationBarTitleText"</span><span class="token operator">:</span> <span class="token string">"æµ‹è¯•é¡µé¢"</span><span class="token punctuation">,</span>   <span class="token property">"usingComponents"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"van-image"</span><span class="token operator">:</span> <span class="token string">"@vant/weapp/image/index"</span><span class="token punctuation">,</span>    <span class="token property">"van-tag"</span><span class="token operator">:</span><span class="token string">"@vant/weapp/tag/index"</span><span class="token punctuation">,</span>    <span class="token property">"van-cell"</span><span class="token operator">:</span> <span class="token string">"@vant/weapp/cell/index"</span><span class="token punctuation">,</span>    <span class="token property">"van-cell-group"</span><span class="token operator">:</span> <span class="token string">"@vant/weapp/cell-group/index"</span><span class="token punctuation">,</span>    <span class="token property">"van-row"</span><span class="token operator">:</span> <span class="token string">"@vant/weapp/row/index"</span><span class="token punctuation">,</span>    <span class="token property">"van-col"</span><span class="token operator">:</span> <span class="token string">"@vant/weapp/col/index"</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> nodejs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nodejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sourcetreeä½¿ç”¨è¯¦è§£</title>
      <link href="/MyBlog/sourcetree-note/"/>
      <url>/MyBlog/sourcetree-note/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å‰è¨€"><a href="#ä¸€ã€å‰è¨€" class="headerlink" title="ä¸€ã€å‰è¨€"></a>ä¸€ã€å‰è¨€</h2><blockquote><p>ğŸ¯ æœ€è¿‘é‡åˆ°ä¸€ä¸ªå¾ˆå¥‡æ€ªçš„é—®é¢˜ï¼Œä½¿ç”¨sourcetreeè¿™ä¹ˆå¤šå¹´ï¼Œç¬¬ä¸€æ¬¡é‡åˆ°<br>ä¹‹å‰å¸¸ç”¨çš„éƒ½æ˜¯ä½¿ç”¨sourcetreeè¿æ¥çš„è¿œç¨‹ä»“åº“ï¼ˆGitlabã€GitHubã€Giteeä¹‹ç±»çš„ï¼‰<br>è¿™æ¬¡æ˜¯è¿æ¥æœ¬åœ°æœåŠ¡å™¨ç§æœ‰åº“ï¼Œåœ¨Macä¸Šé…ç½®å¥½ä¿¡æ¯ä¹‹åä½¿ç”¨ä¹Ÿæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½†æ˜¯åœ¨Windowsä¸Šå§‹ç»ˆæ— æ³•è¿æ¥åˆ°æœåŠ¡å™¨ï¼Œå‘ƒï¼Œéƒ½ä¸æ¸…æ¥šæ˜¯å•¥åŸå› ï¼Œç›®å‰æ­£åœ¨æ¢ç´¢ä¸­â€¦</p></blockquote><h2 id="äºŒã€Tips"><a href="#äºŒã€Tips" class="headerlink" title="äºŒã€Tips"></a>äºŒã€Tips</h2><h3 id="1ã€Sourcetreeä¸­çš„åŸºæœ¬åè¯è¯´æ˜ï¼š"><a href="#1ã€Sourcetreeä¸­çš„åŸºæœ¬åè¯è¯´æ˜ï¼š" class="headerlink" title="1ã€Sourcetreeä¸­çš„åŸºæœ¬åè¯è¯´æ˜ï¼š"></a>1ã€Sourcetreeä¸­çš„åŸºæœ¬åè¯è¯´æ˜ï¼š</h3><p> å…‹éš†/æ–°å»º(clone)ï¼šä»è¿œç¨‹ä»“åº“URLåŠ è½½åˆ›å»ºä¸€ä¸ªä¸è¿œç¨‹ä»“åº“ä¸€æ ·çš„æœ¬åœ°ä»“åº“ã€‚<br> æäº¤(commit)ï¼šå°†æš‚å­˜åŒºæ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“ ï¼Œç›¸å½“äºgit commit -m â€˜æäº¤çš„å†…å®¹â€™ã€‚<br> æ‹‰å–(pull)ï¼šä»è¿œç¨‹ä»“åº“è·å–ä¿¡æ¯å¹¶åŒæ­¥è‡³æœ¬åœ°ä»“åº“ï¼Œå¹¶ä¸”è‡ªåŠ¨æ‰§è¡Œåˆå¹¶ï¼ˆmergeï¼‰æ“ä½œï¼ˆgit pull=git fetch+git mergeï¼‰ã€‚git pull<br> æ¨é€(push)ï¼šå°†æœ¬åœ°ä»“åº“åŒæ­¥è‡³è¿œç¨‹ä»“åº“ï¼Œä¸€èˆ¬æ¨é€ï¼ˆpushï¼‰å‰å…ˆæ‹‰å–ï¼ˆpullï¼‰ä¸€æ¬¡ï¼Œç¡®ä¿ä¸€è‡´ã€‚git push<br> è·å–(fetch)ï¼šä»è¿œç¨‹ä»“åº“è·å–ä¿¡æ¯å¹¶åŒæ­¥è‡³æœ¬åœ°ä»“åº“ã€‚<br> åˆ†æ”¯(branch)ï¼šåˆ›å»º/ä¿®æ”¹/åˆ é™¤åˆ†æã€‚<br> åˆå¹¶(merge)ï¼šå°†å¤šä¸ªåŒåæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åŒ…å«å¤šä¸ªåŒåæ–‡ä»¶çš„æ‰€æœ‰å†…å®¹ï¼Œç›¸åŒå†…å®¹æŠµæ¶ˆã€‚<br> è´®è—(git stash)ï¼šä¿å­˜å·¥ä½œç°åœºã€‚<br> ä¸¢å¼ƒ(Discard)ï¼šä¸¢å¼ƒæ›´æ”¹,æ¢å¤æ–‡ä»¶æ”¹åŠ¨/é‡ç½®æ‰€æœ‰æ”¹åŠ¨,å³å°†å·²æš‚å­˜çš„æ–‡ä»¶ä¸¢å›æœªæš‚å­˜çš„æ–‡ä»¶ã€‚<br> æ ‡ç­¾(tag)ï¼šç»™é¡¹ç›®å¢æ·»æ ‡ç­¾ã€‚<br> å·¥ä½œæµ(Git Flow)ï¼šå›¢é˜Ÿå·¥ä½œæ—¶ï¼Œæ¯ä¸ªäººåˆ›å»ºå±äºè‡ªå·±çš„åˆ†æï¼ˆbranchï¼‰ï¼Œç¡®å®šæ— è¯¯åæäº¤åˆ°masteråˆ†æ”¯ã€‚<br> ç»ˆç«¯(terminal)ï¼šå¯ä»¥è¾“å…¥gitå‘½ä»¤è¡Œã€‚æ¯æ¬¡æ‹‰å–å’Œæ¨é€çš„æ—¶å€™ä¸ç”¨æ¯æ¬¡è¾“å…¥å¯†ç çš„å‘½ä»¤è¡Œï¼šgit config credential.helper osxkeychain sourcetreeã€‚<br> æ£€å‡º(checkout)ï¼šåˆ‡æ¢ä¸åŒåˆ†æ”¯ã€‚<br> æ·»åŠ ï¼ˆaddï¼‰ï¼šæ·»åŠ æ–‡ä»¶åˆ°ç¼“å­˜åŒºã€‚<br> ç§»é™¤ï¼ˆremoveï¼‰ï¼šç§»é™¤æ–‡ä»¶è‡³ç¼“å­˜åŒºã€‚<br> é‡ç½®(reset)ï¼šå›åˆ°æœ€è¿‘æ·»åŠ (add)/æäº¤(commit)çŠ¶æ€ã€‚<br> æŠ“å–ï¼šæ£€æµ‹è¿œç¨‹æ˜¯å¦æœ‰æ›´æ–°ï¼Œå¦‚æœæœ‰å˜åŠ¨ä¼šåœ¨æ‹‰å–å³ä¸Šè§’å‡ºç°æ•°å­—è§’æ ‡ã€‚ä»è¿œç¨‹è·å–æœ€æ–°ç‰ˆæœ¬åˆ°æœ¬åœ° , ä¸ä¼šè‡ªåŠ¨åˆå¹¶ ç›¸å½“äºgit</p><p> <a href="https://cloud.tencent.com/developer/article/1650541">å‚è€ƒ</a></p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//ä¹Ÿå¯ä»¥æ‰“å¼€sourcetreeå³ä¸Šè§’çš„gité¢æ¿ä½¿ç”¨å‘½ä»¤è¡Œæäº¤ä»£ç </span><span class="token comment">// 1.æäº¤æ¨é€</span>git add file_1 file_2 <span class="token comment">//æ·»åŠ æš‚å­˜æ–‡ä»¶</span>git commit <span class="token operator">-</span>m <span class="token string">'æäº¤çš„å†…å®¹'</span> <span class="token comment">//å°†æœ¬åœ°æ”¹åŠ¨ä»£ç å­˜å‚¨åˆ°æœ¬åœ°ä»“åº“</span>git pull <span class="token comment">// è·å–æœ€æ–°çš„ä»£ç </span>git push <span class="token comment">//æ¨é€è‡³è¿œç¨‹</span><span class="token comment">// 2.è´®è—å·¥ä½œåŒº</span>git stash <span class="token comment">//å­˜å‚¨å·¥ä½œåŒº</span>git stash save <span class="token string">'msg1'</span> <span class="token comment">// å­˜å‚¨å·¥ä½œåŒºå¹¶å¤‡æ³¨</span>git stash list <span class="token comment">//å±•ç¤ºå­˜å‚¨åŒºåˆ—è¡¨</span>git stash apply <span class="token comment">//åº”ç”¨å­˜å‚¨åŒºç¬¬ä¸€ä¸ª ï¼ˆä¸åˆ é™¤ï¼‰</span>git stash pop <span class="token comment">//åº”ç”¨å­˜å‚¨åŒºç¬¬ä¸€ä¸ª ï¼ˆå¹¶åˆ é™¤ï¼‰</span>git stash drop <span class="token comment">//åˆ é™¤å­˜å‚¨åŒºæœ€æ–°çš„å†…å®¹</span>git stash@<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token operator">*</span>apply <span class="token operator">/</span> pop <span class="token operator">/</span> drop ç¬¬<span class="token number">1</span>ä¸ª ï¼Œgit stash listè·å–ä¸‹æ ‡<span class="token comment">// 3.å›æ’¤ç‰ˆæœ¬</span>git reset <span class="token operator">--</span>soft <span class="token number">34524234</span> <span class="token comment">// å°†ç‰ˆæœ¬é‡ç½®åˆ°34524234 ç‰ˆæœ¬ï¼Œ</span>git reset <span class="token operator">--</span>soft <span class="token constant">HEAD</span><span class="token operator">^</span> å°†ç‰ˆæœ¬é‡ç½®åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬git reset <span class="token operator">--</span>hard <span class="token number">34524234</span><span class="token comment">// 4.å…¶ä»–</span>git remote update origin <span class="token operator">--</span>prune <span class="token comment">// æ‹‰å–/æ›´æ–°è¿œç¨‹åˆ†æ”¯</span>git fetch <span class="token operator">--</span>unshallow <span class="token comment">// æ‹‰å–å±¥å†</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2ã€git-å¸¸ç”¨æ“ä½œå‘½ä»¤"><a href="#2ã€git-å¸¸ç”¨æ“ä½œå‘½ä»¤" class="headerlink" title="2ã€git å¸¸ç”¨æ“ä½œå‘½ä»¤"></a>2ã€git å¸¸ç”¨æ“ä½œå‘½ä»¤</h3><blockquote><p>åˆ†æ”¯æ“ä½œï¼š<br>1.git branch //æŸ¥çœ‹å½“å‰ä½¿ç”¨åˆ†æ”¯(ç»“æœåˆ—è¡¨ä¸­å‰é¢æ ‡*å·çš„è¡¨ç¤ºå½“å‰ä½¿ç”¨åˆ†æ”¯)<br>2.git branch -a //æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯(åˆ—å‡ºè¿œç¨‹åˆ†æ”¯ä»¥åŠæœ¬åœ°åˆ†æ”¯å)<br>3.git branch -r  //åˆ—å‡ºè¿œç¨‹åˆ†æ”¯(è¿œç¨‹æ‰€æœ‰åˆ†æ”¯å)<br>4.git branch -v // æŸ¥çœ‹åˆ†æ”¯ä»¥åŠæäº¤hashå€¼å’Œcommitä¿¡æ¯</p></blockquote><blockquote><p>1.git branch åˆ†æ”¯å //æ–°å»ºåˆ†æ”¯ï¼Œæœ¬åœ°æ²¡æœ‰å°±åˆ›å»º/è·å–<br>2.git checkout åˆ†æ”¯å  //åˆ‡æ¢åˆ†æ”¯ æˆ– æ£€å‡ºåˆ†æ”¯<br>3.git checkout -b åˆ†æ”¯å //åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯ï¼Œä¾‹å¦‚ï¼šgit checkout -b test c6f68a8 åœ¨æäº¤è®°å½•ï¼ˆc6f68a8ï¼‰ä¸Šåˆ›å»ºä¸€ä¸ªåä¸ºtestçš„åˆ†æ”¯<br>4.git branch -d åˆ†æ”¯å //åˆ é™¤åˆ†æ”¯<br>5.git branch -D åˆ†æ”¯å // å¼ºåˆ¶åˆ é™¤ è‹¥æ²¡æœ‰å…¶ä»–åˆ†æ”¯åˆå¹¶å°±åˆ é™¤ dä¼šæç¤º Dä¸ä¼š<br>6.git branch -m æ—§åˆ†æ”¯å æ–°åˆ†æ”¯å // ä¿®æ”¹åˆ†æ”¯å<br>7.git branch -M æ—§åˆ†æ”¯å æ–°åˆ†æ”¯å // ä¿®æ”¹åˆ†æ”¯å Må¼ºåˆ¶ä¿®æ”¹ è‹¥ä¸å…¶ä»–åˆ†æ”¯æœ‰å†²çªä¹Ÿä¼šåˆ›å»º(æ…ç”¨)<br>8.git push  origin åˆ†æ”¯å // å°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹<br>9.git merge åˆ†æ”¯å // æŠŠè¯¥åˆ†æ”¯çš„å†…å®¹åˆå¹¶åˆ°ç°æœ‰åˆ†æ”¯ä¸Š</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> sourcetree </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> sourcetree </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>goè¯­è¨€ç¯å¢ƒæ­å»ºåŠæœ¬åœ°é¡¹ç›®è¿è¡Œç¬”è®°</title>
      <link href="/MyBlog/go/"/>
      <url>/MyBlog/go/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å¼•é¢˜"><a href="#ä¸€ã€å¼•é¢˜" class="headerlink" title="ä¸€ã€å¼•é¢˜"></a>ä¸€ã€å¼•é¢˜</h2><blockquote><p>ğŸ¯ æ˜¨å¤©å¼„äº†ä¸€ä¸‹go ä»Šå¤©ç¨ç¨æ•´ç†ä¸€ä¸‹ï¼Œåšä¸ªç¬”è®°ã€‚<br>å‡†å¤‡ç¯å¢ƒå¯ä»¥å‚è€ƒä¸€ä¸‹ï¼Œè¿è¡Œé¡¹ç›®å•¥çš„å¯ä»¥å¿½ç•¥ï¼Œå› ä¸ºå¯èƒ½å¯¹å…¶ä»–å…¬å¸é¡¹ç›®å¹¶ä¸é€‚ç”¨ï¼ˆæœåŠ¡å™¨ä¸Šçš„ç¯å¢ƒä¸åŒï¼‰</p></blockquote><h2 id="äºŒã€å‡†å¤‡ç¯å¢ƒ"><a href="#äºŒã€å‡†å¤‡ç¯å¢ƒ" class="headerlink" title="äºŒã€å‡†å¤‡ç¯å¢ƒ"></a>äºŒã€å‡†å¤‡ç¯å¢ƒ</h2><blockquote><p>å®‰è£… <a href="https://golang.google.cn/dl/">go</a><br>é…ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡<br>é…ç½® GOPROXY ç¯å¢ƒå˜é‡</p></blockquote><img src="./001.png" width="98%" title="ä¸‹è½½å®‰è£…åŒ…"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token comment"># å®‰è£…æˆåŠŸä¹‹åï¼ŒæŸ¥çœ‹ç‰ˆæœ¬</span>go version<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><img src="./004.png" width="98%" title="æŸ¥çœ‹goç‰ˆæœ¬"><img src="./002.png" width="98%" title="é…ç½®ç¯å¢ƒå˜é‡"><p>é…ç½® GOPROXY ç¯å¢ƒå˜é‡ï¼Œ<a href="https://learnku.com/go/wikis/38122">å¯å‚è€ƒå®˜æ–¹æ–‡æ¡£</a></p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token comment"># å¯ç”¨ Go Modules åŠŸèƒ½</span>go <span class="token function">env</span> -w <span class="token assign-left variable">GO111MODULE</span><span class="token operator">=</span>on<span class="token comment"># é…ç½® GOPROXY ç¯å¢ƒå˜é‡ï¼Œä»¥ä¸‹ä¸‰é€‰ä¸€</span><span class="token comment"># 1. ä¸ƒç‰› CDN</span>go <span class="token function">env</span> -w  <span class="token assign-left variable">GOPROXY</span><span class="token operator">=</span>https://goproxy.cn,direct<span class="token comment"># 2. é˜¿é‡Œäº‘</span>go <span class="token function">env</span> -w <span class="token assign-left variable">GOPROXY</span><span class="token operator">=</span>https://mirrors.aliyun.com/goproxy/,direct<span class="token comment"># 3. å®˜æ–¹(ä¸ªäººæ¨èä½¿ç”¨å®˜æ–¹é•œåƒ)</span>go <span class="token function">env</span> -w  <span class="token assign-left variable">GOPROXY</span><span class="token operator">=</span>https://goproxy.io,direct<span class="token comment"># é…ç½®æˆåŠŸä¹‹åï¼ŒæŸ¥çœ‹ä¸€ä¸‹æ˜¯å¦é…ç½®æˆåŠŸ</span>go <span class="token function">env</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="./003.png" width="98%" title="æŸ¥çœ‹goç¯å¢ƒé…ç½®"><h2 id="ä¸‰ã€è¿è¡Œæœ¬åœ°é¡¹ç›®"><a href="#ä¸‰ã€è¿è¡Œæœ¬åœ°é¡¹ç›®" class="headerlink" title="ä¸‰ã€è¿è¡Œæœ¬åœ°é¡¹ç›®"></a>ä¸‰ã€è¿è¡Œæœ¬åœ°é¡¹ç›®</h2><blockquote><p>åœ¨goè¯­è¨€ç¯å¢ƒéƒ½æ­å»ºå¥½çš„æƒ…å†µä¸‹ï¼Œè¿™é‡Œè¿è¡Œä¸€ä¸‹æœ¬åœ°çš„é¡¹ç›®ï¼ˆå¯å¿½ç•¥ï¼‰<br>å› ä¸ºæˆ‘æœ¬åœ°çš„é¡¹ç›®ï¼Œä½¿ç”¨çš„æ¡†æ¶ç‰ˆæœ¬ç‰¹æ®Šï¼Œå› æ­¤æœ‰äº›æ“ä½œéœ€è¦æ‰‹åŠ¨æ›¿æ¢ä¸€ä¸‹æ¡†æ¶åŒ…</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// åˆå§‹åŒ–go.mod (å¦‚å·²æœ‰.modæ–‡ä»¶åˆ™å¿½ç•¥)</span>go mod init<span class="token comment">// å®‰è£…ä¸€ä¸ªé¡¹ç›®ä¸‹çš„æ‰€æœ‰ä¾èµ– (å»ºè®®é…ç½®å¥½é•œåƒå†è¿›è¡Œä¾èµ–ä¸‹è½½)</span>go get <span class="token operator">-</span>v <span class="token punctuation">.</span><span class="token operator">/</span><span class="token operator">...</span><span class="token comment">// goå‘½ä»¤æ‰‹åŠ¨åŠ è½½æ‰€æœ‰çš„å®‰è£…åŒ…</span>go get <span class="token operator">-</span>d <span class="token operator">-</span>v <span class="token punctuation">.</span><span class="token operator">/</span><span class="token operator">...</span><span class="token comment">// å¯åŠ¨é¡¹ç›®</span>go run é¡¹ç›®å…¥å£æ–‡ä»¶<span class="token punctuation">.</span>go<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¼‚å¸¸1ï¼š<br>ä¼šå‡ºç°app.StaicWebä¹‹ç±»çš„è¯­æ³•é”™è¯¯ï¼Œæ˜¯å› ä¸ºä½ irisä¾èµ–çš„ç‰ˆæœ¬å’Œä»£ç ä¸åŒ¹é…ï¼Œå…¬å¸é¡¹ç›®ç”¨çš„ä¸€ç‚¹å‡ ç‰ˆæœ¬ï¼Œç›®å‰æœ€æ–°æ˜¯äºŒç‚¹å‡ ç‰ˆæœ¬ã€‚<br>è§£å†³ï¼š<br>1ã€å‘½ä»¤è¡Œä¸‹è½½æœåŠ¡å™¨ä¸Šçš„ä¾èµ–ï¼šscp&nbsp;<a href="mailto:root@tiny.fndroid.com">root@tiny.fndroid.com</a>:/home/go-workspace.tar .<br>2ã€å‘½ä»¤è¡Œgo env æ‰¾åˆ°ä½ çš„GOPATHè·¯å¾„<br>3ã€æŠŠGOPATHè·¯å¾„ç›®å½•é‡Œçš„pkg\mod\github.com\katarars çš„irisåŒ…æ›¿æ¢æ‰ï¼ˆå—¯ï¼Œæˆ‘è¿™é‡Œæ˜¯ç›´æ¥å°†getä¸‹æ¥çš„åŒ…é‡å‘½åäº†ï¼Œç„¶åå°†pkg\mod\github.com\katarars çš„irisåŒ…é‡å‘½åä¸ºgetä¸‹æ¥çš„åŒ…åï¼‰<br>4ã€å†æ¬¡è¿è¡Œgo run main.goä¼šæŠ¥è·¯å¾„ä¸Šçš„é”™ï¼ˆæ˜¯å› ä¸ºmodè£…çš„ä¾èµ–åŸå› ï¼ŒæœåŠ¡å™¨æ²¡ç”¨modï¼‰<br>5ã€æŠŠmain.goæ–‡ä»¶é‡Œçš„ handler â€œ./handlerâ€ æ”¹æˆ â€œé¡¹ç›®æ–‡ä»¶å/main.goâ€<br>6ã€å†æ¬¡è¿è¡Œgo run main.goå³å¯</p><p>é¡¹ç›®éƒ¨ç½²:<br>1ã€é¡¹ç›®è¿è¡ŒæˆåŠŸä¹‹åï¼Œå¯ä»¥åœ¨æœ¬åœ°è¿›è¡Œæ”¹åŠ¨ï¼Œæ”¹åŠ¨å®Œä¹‹åæäº¤ä»£ç è‡³ä»“åº“<br>2ã€sshä¸ŠæœåŠ¡å™¨ï¼Œåˆ°å¯¹åº”çš„é¡¹ç›®ç›®å½•ä¸‹ï¼Œæ‹‰å–æœ€æ–°çš„ä»£ç ï¼Œç„¶åç¼–è¯‘ï¼Œé‡å¯å³å¯</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// ç¤ºä¾‹</span><span class="token comment">// æ‹‰å–æœ€æ–°çš„ä»£ç </span>git pull<span class="token comment">// ç¼–è¯‘é¡¹ç›®ï¼ˆæ‰“åŒ…ï¼‰</span>go build wifi<span class="token punctuation">.</span>go<span class="token comment">// é‡å¯</span>pm2 restart wifi<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> nodejs </category>
          
          <category> go </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Happy new year 2023</title>
      <link href="/MyBlog/happy-new-year2023/"/>
      <url>/MyBlog/happy-new-year2023/</url>
      
        <content type="html"><![CDATA[<img src="https://image.dbbqb.com/202301301122/9b45ac73762277515ef49f748c557585/p31X"><h2 id="ä¸€ã€åˆ¶å®šæ–°å¹´flag"><a href="#ä¸€ã€åˆ¶å®šæ–°å¹´flag" class="headerlink" title="ä¸€ã€åˆ¶å®šæ–°å¹´flag"></a>ä¸€ã€åˆ¶å®šæ–°å¹´flag</h2><blockquote><p>æ–°å¹´å¥½å‘€ï½æ¬¢è¿ğŸ‘è¿›å…¥æˆ‘çš„2023ï¼ˆéšè®°ğŸ“ï¼‰<br>å¹´å¤ä¸€å¹´ï¼Œå¸Œæœ›æˆ‘ä»¬å¹´å¯Œä¸€å¹´ï¼è™½ç„¶æˆ‘ä»¬çš„äººç”Ÿè¿›åº¦æ¡ä¸å°½ç›¸åŒï¼Œä½†è¿˜æ˜¯æ„Ÿæ©ğŸ™ä¸€ç›´é™ªä¼´åœ¨èº«è¾¹çš„æœ‹å‹ä»¬ï¼Œæœ‰å¹¸è§è¯å½¼æ­¤äººç”Ÿä¸€äº›é«˜å…‰æ—¶åˆ»ğŸ’—</p></blockquote><blockquote><p>æ–°çš„ä¸€å¹´ï¼Œä¾æ—§æ²¡æœ‰å®ä¼Ÿç›®æ ‡ï¼Œåªæœ‰ä¸€äº›å°å°çš„æ”¹å˜ã€‚ä¸å˜çš„æ˜¯åšæŒè‡ªå·±çš„çˆ±å¥½ï¼Œå°å°æ”¹å˜æ˜¯ä¸°å¯Œè‡ªå·±çš„ç”Ÿæ´»<br>æˆ–è®¸æ˜¯çœŸçš„è€äº†ï¼Œæˆ‘å¯¹å¤–ç•Œçš„ä¸–ç•Œæ²¡æœ‰äº†è¿‡å¤šçš„æœŸå¾…ï¼Œåè€Œå–œæ¬¢å®…åœ¨å®¶é‡Œï¼Œåœ¨å±äºè‡ªå·±çš„ç©ºé—´é‡Œï¼Œåšç‚¹è‡ªå·±çš„äº‹æƒ…ï¼Œæ¶ˆç£¨æ—¶å…‰</p></blockquote><blockquote><p>äºæ˜¯ï¼Œä»Šå¹´ç»™è‡ªå·±å®šäº†ä¸€ä¸ªå°å°çš„ç›®æ ‡ â€”â€” å­¦ä¹ å‰ªè¾‘PSâœŒï¸</p></blockquote><blockquote><p>ä¸“ä¸šäººå£«éƒ½æ˜¯ç»è¿‡å­¦ä¹ æ·±é€ çš„ï¼Œè€Œæˆ‘å…¥é—¨å½“ä¸ªé‡ç”Ÿå‰ªè¾‘erå°±å¥½ã€‚<br>ç”Ÿæ´»é™¤äº†äº«å—ã€è¿åŠ¨è¿˜åº”è¯¥æœ‰äº›å…¶ä»–çš„ä¸œè¥¿æ¥å……å®è‡ªå·±ï¼Œå‘¨æœ«çš„æ—¶å…‰ï¼Œæˆ‘æƒ³å­¦ä¹ psè¿˜æœ‰å‰ªè¾‘ã€‚<br>1ã€è®°å½•ğŸ“è‡ªå·±çš„ç”Ÿæ´»<br>2ã€getæ–°æŠ€èƒ½</p></blockquote><blockquote><p>ä½†è¡Œå¥½äº‹ï¼Œè«é—®å‰ç¨‹ã€‚<br>æˆ‘å§‹ç»ˆç›¸ä¿¡ï¼Œçƒ­çˆ±ç”Ÿæ´»ï¼Œç”Ÿæ´»å°±æ™´æœ—â˜€ï¸å¯çˆ±ã€‚æœŸå¾…ä¸€ä¸‹æˆ‘çš„ç¬¬ä¸€ä¸ªä½œå“å§ï½</p></blockquote><h2 id="äºŒã€æ­£å¼å­¦ä¹ å‰çš„ä¸€äº›å°å‡†å¤‡"><a href="#äºŒã€æ­£å¼å­¦ä¹ å‰çš„ä¸€äº›å°å‡†å¤‡" class="headerlink" title="äºŒã€æ­£å¼å­¦ä¹ å‰çš„ä¸€äº›å°å‡†å¤‡"></a>äºŒã€æ­£å¼å­¦ä¹ å‰çš„ä¸€äº›å°å‡†å¤‡</h2><p><b>è¯¾ç¨‹æ¨èï¼šäº®è™prè¯¾</b><br><b>è§†é¢‘å‰ªè¾‘å››è¦ç´ ï¼šé«˜æ¸…åº¦ã€é…éŸ³ã€å­—å¹•å’ŒBGM</b><br><b>å‰ªè¾‘æ€ç»´ï¼šç³»ç»Ÿè¯¾ç¨‹ã€çŸ¥è¯†å‚¨å¤‡ã€æ¨¡ä»¿å­¦ä¹ ã€å†™è„šæœ¬ï¼ˆæ–‡æ¡ˆ+ç´ æ+åˆ›æ„æ„æ€ï¼‰</b></p><p><b>å‰ªè¾‘å·¥å…·ï¼š</b><br>1ã€å‰ªæ˜ ã€ç®€å•è§†é¢‘å†…å®¹æ¨èä½¿ç”¨ã€‘<br>2ã€premier proã€Pcç”¨æˆ·ä¼˜å…ˆæ¨èä½¿ç”¨ã€‘<br>3ã€Final Cut Pro Xã€è‹¹æœç”¨æˆ·ä¼˜å…ˆæ¨èä½¿ç”¨ã€‘<br>4ã€è¾¾èŠ¬å¥‡ã€å¯¹è°ƒè‰²åŠŸèƒ½è¦æ±‚é«˜æ¨èä½¿ç”¨ã€‘</p><p><b>æ”¶é›†çš„ä¸€äº›ç´ æåº“ï¼š</b><br>1ã€<a href="https://www.aigei.com/sound/">éŸ³æ•ˆ</a><br>2ã€<a href="https://www.dbbqb.com/">è¡¨æƒ…åŒ…</a><br>3ã€<a href="http://www.atoolbox.net/">å·¥å…·ç®±</a><br>4ã€<a href="https://www.btbuluo.net/">å½±è§†èµ„æº</a><br>5ã€<a href="https://sucai.zhiyu.art/">åŸåˆ›ç´ æåº“</a><br>6ã€<a href="https://taira-komori.jpn.org/freesoundcn.html">éŸ³æ•ˆç´ æ</a>  /  <a href="https://www.spark.art/musicFine?id=2">èŠ±ç«éŸ³æ‚¦</a><br>7ã€<a href="http://peiyin.xunfei.cn/">æ–‡å­—è½¬è¯­éŸ³</a><br>8ã€<a href="https://www.pexels.com/zh-cn/">é«˜æ¸…å›¾ç‰‡ç´ æ</a><br>9ã€<a href="https://www.newcger.com/">AEæ¨¡æ¿</a></p><p>ä»¥ä¸Šå°±æ˜¯ç›®å‰æ”¶é›†çš„å…³é”®è¯ä¿¡æ¯å•¦ï½</p><img src="https://image.dbbqb.com/202301301120/f7ebbc19dd015eb5ffa6ac27122d75ee/ON5B">]]></content>
      
      
      
        <tags>
            
            <tag> special push </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SortableJSæ‹–æ‹½æ’åº</title>
      <link href="/MyBlog/client-sort/"/>
      <url>/MyBlog/client-sort/</url>
      
        <content type="html"><![CDATA[<blockquote><p>è¿‘æœŸä½¿ç”¨SortableJSæ’ä»¶å®ç°äº†å‰ç«¯é¡µé¢tableè¡Œæ‹–æ‹½æ’åºï¼Œåœ¨è¿™é‡ŒğŸ“ä¸€ä¸‹<br><a href="http://www.sortablejs.com/index.html">SortableJSå®˜æ–¹æ–‡æ¡£</a></p></blockquote><h2 id="ä¸€ã€å¼•å…¥SortableJS"><a href="#ä¸€ã€å¼•å…¥SortableJS" class="headerlink" title="ä¸€ã€å¼•å…¥SortableJS"></a>ä¸€ã€å¼•å…¥SortableJS</h2><blockquote><p>å¼•å…¥SortableJSå¯ä»¥æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// npm</span>npm i sortablejs<span class="token comment">// yarn</span>yarn add <span class="token operator">-</span><span class="token constant">D</span> sortablejs <span class="token comment">// CDNå¼•å…¥</span><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="äºŒã€ä½¿ç”¨SortableJS"><a href="#äºŒã€ä½¿ç”¨SortableJS" class="headerlink" title="äºŒã€ä½¿ç”¨SortableJS"></a>äºŒã€ä½¿ç”¨SortableJS</h2><blockquote><p>é¡µé¢ï¼šæ­£å¸¸ä½¿ç”¨tableç»„ä»¶</p></blockquote><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- æ­£å¸¸ä½¿ç”¨tableç»„ä»¶å³å¯ --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table</span> <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dataList<span class="token punctuation">"</span></span> <span class="token attr-name">highlight-current-row</span> <span class="token attr-name">v-loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loading<span class="token punctuation">"</span></span>  <span class="token attr-name">border</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>No<span class="token punctuation">"</span></span> <span class="token attr-name">:label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$t(<span class="token punctuation">'</span>index.number<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Room<span class="token punctuation">"</span></span> <span class="token attr-name">:label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$t(<span class="token punctuation">'</span>index.group<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Msg1<span class="token punctuation">"</span></span> <span class="token attr-name">:label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$t(<span class="token punctuation">'</span>list.Info1<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Msg2<span class="token punctuation">"</span></span> <span class="token attr-name">:label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$t(<span class="token punctuation">'</span>list.Info2<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Msg3<span class="token punctuation">"</span></span> <span class="token attr-name">:label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$t(<span class="token punctuation">'</span>list.Info3<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>jséƒ¨åˆ†ï¼š<br>1ã€å¼•å…¥Sortable 2ã€åœ¨methodä¸­å®šä¹‰åˆå§‹åŒ–Sortableå‡½æ•° 3ã€åœ¨mountedç”Ÿå‘½å‘¨æœŸä¸­è°ƒç”¨åˆå§‹åŒ–Sortableå‡½æ•°<br><a href="http://www.sortablejs.com/options.html">SortableJSé…ç½®é¡¹</a></p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 1ã€åœ¨å¯¹åº”çš„é¡µé¢å¼•å…¥Sortable</span><span class="token keyword">import</span> Sortable <span class="token keyword">from</span> <span class="token string">'sortablejs'</span><span class="token comment">// 2ã€åœ¨methodä¸­å®šä¹‰åˆå§‹åŒ–Sortableå‡½æ•°</span><span class="token function">initSortTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// è·å–tableå¯¹è±¡ï¼ˆè¿™é‡Œå¯ä»¥æ ¹æ®è‡ªå·±çš„é¡µé¢ä¸Štableç»„ä»¶æƒ…å†µæ¥è·å–ï¼‰</span>  <span class="token keyword">const</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.el-table__body-wrapper &gt; table &gt; tbody'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>  <span class="token comment">// const sortable = new Sortable(el, options);</span>  <span class="token comment">// æ ¹æ®å…·ä½“éœ€æ±‚é…ç½®optionsé…ç½®é¡¹</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>sortable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sortable</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> <span class="token punctuation">{</span>    group<span class="token operator">:</span> <span class="token string">"name"</span><span class="token punctuation">,</span>    sort<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// boolean å®šä¹‰æ˜¯å¦åˆ—è¡¨å•å…ƒæ˜¯å¦å¯ä»¥åœ¨åˆ—è¡¨å®¹å™¨å†…è¿›è¡Œæ‹–æ‹½æ’åº</span>    animation<span class="token operator">:</span> <span class="token number">150</span><span class="token punctuation">,</span>  <span class="token comment">// ms, number å•ä½ï¼šmsï¼Œå®šä¹‰æ’åºåŠ¨ç”»çš„æ—¶é—´</span>    <span class="token function-variable function">onEnd</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// ç›‘å¬æ‹–åŠ¨ç»“æŸäº‹ä»¶</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// thisæ˜¯å½“å‰vueä¸Šä¸‹æ–‡</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">,</span>evt<span class="token punctuation">.</span>oldIndex<span class="token punctuation">)</span> <span class="token comment">// å½“å‰è¡Œçš„è¢«æ‹–æ‹½å‰çš„é¡ºåº</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">222</span><span class="token punctuation">,</span>evt<span class="token punctuation">.</span>newIndex<span class="token punctuation">)</span> <span class="token comment">// å½“å‰è¡Œçš„è¢«æ‹–æ‹½åçš„é¡ºåº</span>      <span class="token keyword">const</span> currRow <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dataList<span class="token punctuation">[</span>evt<span class="token punctuation">.</span>oldIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>dataList<span class="token punctuation">[</span>evt<span class="token punctuation">.</span>oldIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dataList<span class="token punctuation">[</span>evt<span class="token punctuation">.</span>newIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>dataList<span class="token punctuation">[</span>evt<span class="token punctuation">.</span>newIndex<span class="token punctuation">]</span> <span class="token operator">=</span> currRow<span class="token punctuation">;</span>      <span class="token comment">// å°†æ’åºç»“æœæ›´æ–°åˆ°æ•°æ®åº“ä¸­ï¼Œæ ¹æ®è‡ªå·±é¡¹ç›®çš„é€»è¾‘è¿›è¡Œå®ç°å³å¯ã€‚</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ’åºæˆåŠŸï¼Œå°†ç»“æœä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚ã€‚ã€‚ã€‚ã€‚'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>dataList<span class="token punctuation">)</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initSortTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//é¡µé¢ç»„ä»¶æ¸²æŸ“å®Œæ¯•åˆå§‹åŒ–Sortable</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ•ˆæœå›¾å¦‚ä¸‹ï¼š<br><img src="./sortable.jpg" width="100%"></p>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsæ—¥æœŸæ“ä½œå·¥å…·ç±»</title>
      <link href="/MyBlog/client-date-time-utils/"/>
      <url>/MyBlog/client-date-time-utils/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€è¯´æ˜"><a href="#ä¸€ã€è¯´æ˜" class="headerlink" title="ä¸€ã€è¯´æ˜"></a>ä¸€ã€è¯´æ˜</h2><blockquote><p>ğŸ¯ åœ¨jsä¸­ä¼šæœ‰è®¸å¤šå…³äºæ—¥æœŸçš„æ“ä½œï¼Œæ¯”å¦‚æ—¥æœŸçš„åŠ å‡ã€æ ¼å¼åŒ–ç­‰ç­‰<br>æœ¬æ–‡æ”¶é›†äº†ä¸€äº›å¸¸ç”¨çš„jsæ—¶é—´æ“ä½œï¼Œæœ‰äº›æ˜¯è‡ªå·±å†™çš„æœ‰äº›æ¥æºäºç½‘ç»œä¸Šçš„ä¸€äº›copy<br>å†…å®¹è¾ƒå¤šï¼Œæœ‰äº›ä¹Ÿä¸è®°å¾—æ˜¯ä»å“ªé‡Œæ‰¾çš„ï¼Œå°±æ²¡ä¸€ä¸€ç²˜è´´å‡ºå¤„äº†è¿˜è¯·è§è°…ï¼</p></blockquote><h2 id="äºŒã€å·¥å…·ç±»ä¸­ä¸€äº›å®ç”¨æ–¹æ³•"><a href="#äºŒã€å·¥å…·ç±»ä¸­ä¸€äº›å®ç”¨æ–¹æ³•" class="headerlink" title="äºŒã€å·¥å…·ç±»ä¸­ä¸€äº›å®ç”¨æ–¹æ³•"></a>äºŒã€å·¥å…·ç±»ä¸­ä¸€äº›å®ç”¨æ–¹æ³•</h2><ol><li><p>è·å–å½“å‰æ—¶é—´ï¼šå¹´æœˆæ—¥æ—¶åˆ†ç§’</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// è·å–å½“å‰æ—¶é—´å¹´ä»½</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// è·å–å½“å‰æ—¶é—´æœˆä»½ï¼ˆæœˆä»½æ˜¯ä»0å¼€å§‹çš„ï¼‰</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token comment">// è·å–å½“å‰æ—¶é—´æ—¥æœŸï¼ˆè·å–çš„ç»“æœä¸ºæ•´æ•°ï¼Œå°äº10çš„ä¸ä¼šåœ¨æ•°å­—å‰é¢è‡ªåŠ¨å¡«å……0ï¼‰</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// è·å–å½“å‰æ—¶é—´å°æ—¶ï¼ˆ24å°æ—¶ï¼‰</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// è·å–å½“å‰æ—¶é—´åˆ†é’Ÿ</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// è·å–å½“å‰æ—¶é—´ç§’é’Ÿ</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// è·å–å½“å‰æ—¶é—´æ¯«ç§’æ•°</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMilliseconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>è·å–å½“å‰æ—¶é—´ â€˜å¹´æœˆæ—¥â€™ æ—¶é—´æˆ³</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">' 00:00:00'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><ol start="3"><li><p>å¹´æœˆæ—¥ æ—¥æœŸæ ¼å¼åŒ–</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">/** * é€šç”¨æ—¥æœŸæ ¼å¼åŒ– * @author ckk * @param date * @param fmt å¦‚ï¼š"yyyyMMdd"ã€"yyyy/MM/dd"ã€"yyyy-MM-dd hh:mm:ss"ã€"yyyyå¹´MMæœˆddæ—¥"ã€"yyyy-MM-dd"ç­‰ç­‰ * @returns {*} */</span><span class="token keyword">function</span> <span class="token function">dateFormat</span><span class="token punctuation">(</span><span class="token parameter">date<span class="token punctuation">,</span> fmt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>        <span class="token string">"M+"</span><span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>                      <span class="token comment">// æœˆ</span>        <span class="token string">"d+"</span><span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                           <span class="token comment">// æ—¥</span>        <span class="token string">"h+"</span><span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token comment">// æ—¶</span>        <span class="token string">"m+"</span><span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token comment">// åˆ†</span>        <span class="token string">"s+"</span><span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token comment">// ç§’</span>        <span class="token string">"q+"</span><span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// å­£åº¦</span>        <span class="token string">"S"</span><span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getMilliseconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                     <span class="token comment">// æ¯«ç§’</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(y+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>fmt<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        fmt <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">-</span> RegExp<span class="token punctuation">.</span>$<span class="token number">1.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">"("</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>fmt<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            fmt <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">1.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"00"</span> <span class="token operator">+</span> obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">""</span> <span class="token operator">+</span> obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> fmt<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// è°ƒç”¨ dateFormat(new Date('2022/12/05'),'yyyyMMdd')</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>å¹´æœˆæ—¥ æ—¥æœŸæ ¼å¼åŒ–</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">/** * é€šç”¨æ—¥æœŸåŠ å‡ * @author ckk * @param dateStr * @param type åŠ å‡æ•°çš„ç±»å‹ï¼Œdæ˜¯å¤©ã€hæ˜¯å°æ—¶... * @param num æ­£æ•°åŠ ï¼Œè´Ÿæ•°å‡ã€‚psï¼šæ”¯æŒéæ•´æ•° * @returns {Date} */</span><span class="token keyword">function</span> <span class="token function">addDay</span><span class="token punctuation">(</span><span class="token parameter">dateStr<span class="token punctuation">,</span> type<span class="token punctuation">,</span> num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token number">86400000</span><span class="token punctuation">;</span><span class="token comment">// é»˜è®¤æ˜¯å¤©</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">'h'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        m <span class="token operator">=</span> m <span class="token operator">/</span> <span class="token number">24</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">'m'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        m <span class="token operator">=</span> m <span class="token operator">/</span> <span class="token number">24</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">'s'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        m <span class="token operator">=</span> m <span class="token operator">/</span> <span class="token number">24</span> <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">'ms'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        m <span class="token operator">=</span> m <span class="token operator">/</span> <span class="token number">24</span> <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token comment">// type == 'd'</span>        <span class="token comment">// m = m;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>dateStr<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>m <span class="token operator">*</span> num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// è°ƒç”¨ addDay('2022-12-05','d',2)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>jsè·å–ä»Šå¤©~nå¤©åçš„æ—¶é—´æ—¥æœŸæ•°ç»„</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getWeekDay</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">let</span> today <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> dateArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">let</span> newDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>today<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> i <span class="token operator">*</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token keyword">let</span> year <span class="token operator">=</span> newDate<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">let</span> month <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>newDate<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">9</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>newDate<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">"0"</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>newDate<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">let</span> day <span class="token operator">=</span> <span class="token punctuation">(</span>newDate<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">9</span> <span class="token operator">?</span> newDate<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">"0"</span> <span class="token operator">+</span> newDate<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">let</span> fullDate <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>year<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>month<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>day<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>dateArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>fullDate<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">return</span> dateArr<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Lighter and princess outfit</title>
      <link href="/MyBlog/ase/"/>
      <url>/MyBlog/ase/</url>
      
        <content type="html"><![CDATA[<img src="./l&amp;p.jpg" width="100%" alt="L&amp;P"><blockquote><p>ğŸ‘¸ â€œæˆ‘æœ‰æˆ‘çš„å›½ç‹ï¼Œæˆ‘æ˜¯ä»–ä¸äºŒä¹‹è‡£ï¼›æˆ‘æ„¿ä¸ºä»–æ‘‡æ——å‘å–Šï¼Œä¹Ÿæ„¿ä¸ºä»–æˆ˜æ­»æ²™åœºâ€â€”â€”ã€Šæ‰“ç«æœºä¸å…¬ä¸»è£™ã€‹</p></blockquote><h2 id="ä¸€ã€å” å—‘-CV"><a href="#ä¸€ã€å” å—‘-CV" class="headerlink" title="ä¸€ã€å” å—‘+CV"></a>ä¸€ã€å” å—‘+CV</h2><blockquote><p>æœ€è¿‘æå³‹çš„çˆ±å¿ƒğŸ’—ä»£ç ğŸ”¥çš„ä¸è¡Œï¼Œå…¶å®å®ç°æ–¹å¼å¾ˆç®€å•ï¼Œåªéœ€è¦ä¸åˆ°1åˆ†é’Ÿæ—¶é—´å°±èƒ½æå®šï¼<br>ä½ ä»¥ä¸ºæˆ‘è¦å°†å®ç°åŸç†äº†å—ï¼Ÿä¸ï¼Œä»Šå¤©ä¸è®²åŸç†ï¼Œåªæ˜¯éšä¾¿å¤åˆ¶è¿‡æ¥ç»™æœ‹å‹ä»¬ç©ä¸€ä¸‹å“ˆå“ˆå“ˆ<br>ç½‘ä¸Šä¸€å¤§å †ä»£ç å‘¢ï½</p></blockquote><!-- ![](./ase.jpg) --><img src="./ase.jpg" width="100%" alt="æ•ˆæœå›¾"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>canvasçˆ±å¿ƒ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css"><span class="token selector">html, body</span> <span class="token punctuation">{</span>  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">background</span><span class="token punctuation">:</span> #000<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">canvas</span> <span class="token punctuation">{</span>  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">/* @keyframes heartbeat{    0%{transform: rotate(45deg) scale(0.8,0.8); opacity: 1;}    25%{transform: rotate(45deg) scale(1,1); opacity: 0.8;}    100%{transform: rotate(45deg) scale(0.8,0.8); opacity: 1;}} */</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pinkboard<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token comment">/* * Settings */</span><span class="token keyword">var</span> settings <span class="token operator">=</span> <span class="token punctuation">{</span>  particles<span class="token operator">:</span> <span class="token punctuation">{</span>    length<span class="token operator">:</span>   <span class="token number">500</span><span class="token punctuation">,</span> <span class="token comment">// maximum amount of particles</span>    duration<span class="token operator">:</span>   <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// particle duration in sec</span>    velocity<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token comment">// particle velocity in pixels/sec</span>    effect<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">0.75</span><span class="token punctuation">,</span> <span class="token comment">// play with this for a nice effect</span>    size<span class="token operator">:</span>      <span class="token number">30</span><span class="token punctuation">,</span> <span class="token comment">// particle size in pixels</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">/* * RequestAnimationFrame polyfill by Erik M?ller */</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> b<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">var</span> c<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"ms"</span><span class="token punctuation">,</span><span class="token string">"moz"</span><span class="token punctuation">,</span><span class="token string">"webkit"</span><span class="token punctuation">,</span><span class="token string">"o"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> a<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>a<span class="token operator">&lt;</span>c<span class="token punctuation">.</span>length<span class="token operator">&amp;&amp;</span><span class="token operator">!</span>window<span class="token punctuation">.</span>requestAnimationFrame<span class="token punctuation">;</span><span class="token operator">++</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>window<span class="token punctuation">.</span>requestAnimationFrame<span class="token operator">=</span>window<span class="token punctuation">[</span>c<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">"RequestAnimationFrame"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>window<span class="token punctuation">.</span>cancelAnimationFrame<span class="token operator">=</span>window<span class="token punctuation">[</span>c<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">"CancelAnimationFrame"</span><span class="token punctuation">]</span><span class="token operator">||</span>window<span class="token punctuation">[</span>c<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">"CancelRequestAnimationFrame"</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">.</span>requestAnimationFrame<span class="token punctuation">)</span><span class="token punctuation">{</span>window<span class="token punctuation">.</span><span class="token function-variable function">requestAnimationFrame</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">h<span class="token punctuation">,</span>e</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> d<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> f<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token operator">-</span><span class="token punctuation">(</span>d<span class="token operator">-</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> g<span class="token operator">=</span>window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">h</span><span class="token punctuation">(</span>d<span class="token operator">+</span>f<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>b<span class="token operator">=</span>d<span class="token operator">+</span>f<span class="token punctuation">;</span><span class="token keyword">return</span> g<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">.</span>cancelAnimationFrame<span class="token punctuation">)</span><span class="token punctuation">{</span>window<span class="token punctuation">.</span><span class="token function-variable function">cancelAnimationFrame</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">d</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">clearTimeout</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/* * Point class */</span><span class="token keyword">var</span> Point <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">function</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token operator">?</span> x <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> y <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token operator">?</span> y <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token class-name">Point</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">clone</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token class-name">Point</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">length</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> length <span class="token operator">==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span>      <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">*=</span> length<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">*=</span> length<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token class-name">Point</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">normalize</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> length <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">/=</span> length<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">/=</span> length<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> Point<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/* * Particle class */</span><span class="token keyword">var</span> Particle <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">function</span> <span class="token function">Particle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>velocity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>acceleration <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token class-name">Particle</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">initialize</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> dx<span class="token punctuation">,</span> dy</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>x <span class="token operator">=</span> dx<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>y <span class="token operator">=</span> dy<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>acceleration<span class="token punctuation">.</span>x <span class="token operator">=</span> dx <span class="token operator">*</span> settings<span class="token punctuation">.</span>particles<span class="token punctuation">.</span>effect<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>acceleration<span class="token punctuation">.</span>y <span class="token operator">=</span> dy <span class="token operator">*</span> settings<span class="token punctuation">.</span>particles<span class="token punctuation">.</span>effect<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token class-name">Particle</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">update</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">deltaTime</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>x <span class="token operator">*</span> deltaTime<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>y <span class="token operator">*</span> deltaTime<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>x <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>acceleration<span class="token punctuation">.</span>x <span class="token operator">*</span> deltaTime<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>y <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>acceleration<span class="token punctuation">.</span>y <span class="token operator">*</span> deltaTime<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">+=</span> deltaTime<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token class-name">Particle</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">draw</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> image</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">function</span> <span class="token function">ease</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">--</span>t<span class="token punctuation">)</span> <span class="token operator">*</span> t <span class="token operator">*</span> t <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">var</span> size <span class="token operator">=</span> image<span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token function">ease</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">/</span> settings<span class="token punctuation">.</span>particles<span class="token punctuation">.</span>duration<span class="token punctuation">)</span><span class="token punctuation">;</span>    context<span class="token punctuation">.</span>globalAlpha <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">/</span> settings<span class="token punctuation">.</span>particles<span class="token punctuation">.</span>duration<span class="token punctuation">;</span>    context<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">-</span> size <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">-</span> size <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> Particle<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/* * ParticlePool class */</span><span class="token keyword">var</span> ParticlePool <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> particles<span class="token punctuation">,</span>      firstActive <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>      firstFree   <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>      duration    <span class="token operator">=</span> settings<span class="token punctuation">.</span>particles<span class="token punctuation">.</span>duration<span class="token punctuation">;</span>    <span class="token keyword">function</span> <span class="token function">ParticlePool</span><span class="token punctuation">(</span><span class="token parameter">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// create and populate particle pool</span>    particles <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> particles<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>      particles<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Particle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token class-name">ParticlePool</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> dx<span class="token punctuation">,</span> dy</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    particles<span class="token punctuation">[</span>firstFree<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> dx<span class="token punctuation">,</span> dy<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// handle circular queue</span>    firstFree<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>firstFree   <span class="token operator">==</span> particles<span class="token punctuation">.</span>length<span class="token punctuation">)</span> firstFree   <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>firstActive <span class="token operator">==</span> firstFree       <span class="token punctuation">)</span> firstActive<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>firstActive <span class="token operator">==</span> particles<span class="token punctuation">.</span>length<span class="token punctuation">)</span> firstActive <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token class-name">ParticlePool</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">update</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">deltaTime</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> i<span class="token punctuation">;</span>        <span class="token comment">// update active particles</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>firstActive <span class="token operator">&lt;</span> firstFree<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> firstActive<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> firstFree<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        particles<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>deltaTime<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>firstFree <span class="token operator">&lt;</span> firstActive<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> firstActive<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> particles<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        particles<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>deltaTime<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> firstFree<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        particles<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>deltaTime<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token comment">// remove inactive particles</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>particles<span class="token punctuation">[</span>firstActive<span class="token punctuation">]</span><span class="token punctuation">.</span>age <span class="token operator">&gt;=</span> duration <span class="token operator">&amp;&amp;</span> firstActive <span class="token operator">!=</span> firstFree<span class="token punctuation">)</span> <span class="token punctuation">{</span>      firstActive<span class="token operator">++</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>firstActive <span class="token operator">==</span> particles<span class="token punctuation">.</span>length<span class="token punctuation">)</span> firstActive <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>          <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token class-name">ParticlePool</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">draw</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> image</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// draw active particles</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>firstActive <span class="token operator">&lt;</span> firstFree<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> firstActive<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> firstFree<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        particles<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> image<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>firstFree <span class="token operator">&lt;</span> firstActive<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> firstActive<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> particles<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        particles<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> image<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> firstFree<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        particles<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> image<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> ParticlePool<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/* * Putting it all together */</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">canvas</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      particles <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ParticlePool</span><span class="token punctuation">(</span>settings<span class="token punctuation">.</span>particles<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">,</span>      particleRate <span class="token operator">=</span> settings<span class="token punctuation">.</span>particles<span class="token punctuation">.</span>length <span class="token operator">/</span> settings<span class="token punctuation">.</span>particles<span class="token punctuation">.</span>duration<span class="token punctuation">,</span> <span class="token comment">// particles/sec</span>      time<span class="token punctuation">;</span>    <span class="token comment">// get point on heart with -PI &lt;= t &lt;= PI</span>  <span class="token keyword">function</span> <span class="token function">pointOnHeart</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span>      <span class="token number">160</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token number">130</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">50</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> t<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">20</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">*</span> t<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">10</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">*</span> t<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">25</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>    <span class="token comment">// creating the particle image using a dummy canvas</span>  <span class="token keyword">var</span> image <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> canvas  <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    canvas<span class="token punctuation">.</span>width  <span class="token operator">=</span> settings<span class="token punctuation">.</span>particles<span class="token punctuation">.</span>size<span class="token punctuation">;</span>    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> settings<span class="token punctuation">.</span>particles<span class="token punctuation">.</span>size<span class="token punctuation">;</span>    <span class="token comment">// helper function to create the path</span>    <span class="token keyword">function</span> <span class="token function">to</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">var</span> point <span class="token operator">=</span> <span class="token function">pointOnHeart</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>      point<span class="token punctuation">.</span>x <span class="token operator">=</span> settings<span class="token punctuation">.</span>particles<span class="token punctuation">.</span>size <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> point<span class="token punctuation">.</span>x <span class="token operator">*</span> settings<span class="token punctuation">.</span>particles<span class="token punctuation">.</span>size <span class="token operator">/</span> <span class="token number">350</span><span class="token punctuation">;</span>      point<span class="token punctuation">.</span>y <span class="token operator">=</span> settings<span class="token punctuation">.</span>particles<span class="token punctuation">.</span>size <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> point<span class="token punctuation">.</span>y <span class="token operator">*</span> settings<span class="token punctuation">.</span>particles<span class="token punctuation">.</span>size <span class="token operator">/</span> <span class="token number">350</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> point<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// create the path</span>    context<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> point <span class="token operator">=</span> <span class="token function">to</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>    context<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>x<span class="token punctuation">,</span> point<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>t <span class="token operator">&lt;</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      t <span class="token operator">+=</span> <span class="token number">0.01</span><span class="token punctuation">;</span> <span class="token comment">// baby steps!</span>      point <span class="token operator">=</span> <span class="token function">to</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>      context<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>x<span class="token punctuation">,</span> point<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    context<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// create the fill</span>    context<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#ea80b0'</span><span class="token punctuation">;</span>    context<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// create the image</span>    <span class="token keyword">var</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    image<span class="token punctuation">.</span>src <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> image<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// render that thing!</span>  <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// next animation frame</span>    <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// update time</span>    <span class="token keyword">var</span> newTime   <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">,</span>        deltaTime <span class="token operator">=</span> newTime <span class="token operator">-</span> <span class="token punctuation">(</span>time <span class="token operator">||</span> newTime<span class="token punctuation">)</span><span class="token punctuation">;</span>    time <span class="token operator">=</span> newTime<span class="token punctuation">;</span>        <span class="token comment">// clear canvas</span>    context<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// create new particles</span>    <span class="token keyword">var</span> amount <span class="token operator">=</span> particleRate <span class="token operator">*</span> deltaTime<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> amount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">var</span> pos <span class="token operator">=</span> <span class="token function">pointOnHeart</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">var</span> dir <span class="token operator">=</span> pos<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span>settings<span class="token punctuation">.</span>particles<span class="token punctuation">.</span>velocity<span class="token punctuation">)</span><span class="token punctuation">;</span>      particles<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>canvas<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> pos<span class="token punctuation">.</span>x<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> pos<span class="token punctuation">.</span>y<span class="token punctuation">,</span> dir<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token operator">-</span>dir<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token comment">// update and draw particles</span>    particles<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>deltaTime<span class="token punctuation">)</span><span class="token punctuation">;</span>    particles<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> image<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>    <span class="token comment">// handle (re-)sizing of the canvas</span>  <span class="token keyword">function</span> <span class="token function">onResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    canvas<span class="token punctuation">.</span>width  <span class="token operator">=</span> canvas<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> canvas<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  window<span class="token punctuation">.</span>onresize <span class="token operator">=</span> onResize<span class="token punctuation">;</span>    <span class="token comment">// delay rendering bootstrap</span>  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">onResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'pinkboard'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡å°ç¨‹åº</title>
      <link href="/MyBlog/wx-xiaochengxu-note-one/"/>
      <url>/MyBlog/wx-xiaochengxu-note-one/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å¼•é¢˜"><a href="#ä¸€ã€å¼•é¢˜" class="headerlink" title="ä¸€ã€å¼•é¢˜"></a>ä¸€ã€å¼•é¢˜</h2><blockquote><p>ğŸ¯ å‰è¨€ï¼šä¹‹å‰æ›´å¤šçš„éƒ½æ˜¯åå‘webå‰ç«¯çš„å†…å®¹ï¼Œè¿™æ¬¡ä¹Ÿæ¥ç®€å•äº†è§£ä¸€ä¸‹ç§»åŠ¨ç«¯çš„å°ç¨‹åºï¼ˆå¯¹æ¯”ä¸€ä¸‹ï¼‰<br><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/">å¾®ä¿¡å®˜æ–¹æ–‡æ¡£</a></p></blockquote><h2 id="äºŒã€å†…å®¹"><a href="#äºŒã€å†…å®¹" class="headerlink" title="äºŒã€å†…å®¹"></a>äºŒã€å†…å®¹</h2><blockquote><p>å°ç¨‹åºçš„ç›¸å…³æ–‡ä»¶ç±»å‹ã€é¡¹ç›®ç»“æ„ç­‰æˆ‘å°±ä¸ä¸€ä¸€è§£é‡Šäº†ï¼Œ<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/">å¾®ä¿¡å®˜æ–¹æ–‡æ¡£</a>éƒ½æœ‰å¾ˆè¯¦ç»†çš„è¯´æ˜å“¦ï¼</p></blockquote><h3 id="1ã€å°ç¨‹åºçš„ä¼˜åŠ£åŠ¿"><a href="#1ã€å°ç¨‹åºçš„ä¼˜åŠ£åŠ¿" class="headerlink" title="1ã€å°ç¨‹åºçš„ä¼˜åŠ£åŠ¿"></a>1ã€å°ç¨‹åºçš„ä¼˜åŠ£åŠ¿</h3><blockquote><p>ä¼˜åŠ¿ï¼š<br>1ã€å³ç”¨å³èµ°ï¼Œä¸ç”¨å®‰è£…ï¼Œçœæµé‡ï¼Œçœå®‰è£…æ—¶é—´ï¼Œä¸å ç”¨æ¡Œé¢<br>2ã€ä¾æ‰˜å¾®ä¿¡æµé‡ï¼Œæœ‰æ¨å¹¿ä¼ æ’­ä¼˜åŠ¿<br>3ã€å¼€å‘æˆæœ¬æ¯” App ä½</p></blockquote><blockquote><p>ç¼ºç‚¹ï¼š<br>1ã€é™åˆ¶è¾ƒå¤š,é¡µé¢å¤§å°ä¸èƒ½è¶…è¿‡2M(å¯åˆ†åŒ…)<br>2ã€é¡µé¢æ ˆä¸èƒ½æ‰“å¼€è¶…è¿‡10ä¸ªå±‚çº§çš„é¡µé¢</p></blockquote><h3 id="2ã€å°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸ"><a href="#2ã€å°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="2ã€å°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸ"></a>2ã€å°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸ</h3><blockquote><p>onLoad() é¡µé¢åŠ è½½æ—¶è§¦å‘ã€‚ä¸€ä¸ªé¡µé¢åªä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œå¯ä»¥åœ¨ onLoad çš„å‚æ•°ä¸­è·å–æ‰“å¼€å½“å‰é¡µé¢è·¯å¾„ä¸­çš„å‚æ•°<br>onShow() é¡µé¢æ˜¾ç¤ºæ—¶/åˆ‡å…¥å‰å°æ—¶è§¦å‘ã€‚<br>onReady()é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆæ—¶è§¦å‘ã€‚ä¸€ä¸ªé¡µé¢åªä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œä»£è¡¨é¡µé¢å·²ç»å‡†å¤‡å¦¥å½“ï¼Œå¯ä»¥å’Œè§†å›¾å±‚è¿›è¡Œäº¤äº’<br>onHide() é¡µé¢éšè—/åˆ‡å…¥åå°æ—¶è§¦å‘ã€‚ å¦‚ navigateTo æˆ–åº•éƒ¨ tab åˆ‡æ¢åˆ°å…¶ä»–é¡µé¢ï¼Œå°ç¨‹åºåˆ‡å…¥åå°ç­‰<br>onUnload()é¡µé¢å¸è½½æ—¶è§¦å‘ã€‚å¦‚ redirectTo æˆ– navigateBack åˆ°å…¶ä»–é¡µé¢æ—¶</p></blockquote><h3 id="3ã€wx-navigateTo-wx-redirectTo-wx-switchTab-wx-navigateBack-wx-reLaunch-çš„åŒºåˆ«"><a href="#3ã€wx-navigateTo-wx-redirectTo-wx-switchTab-wx-navigateBack-wx-reLaunch-çš„åŒºåˆ«" class="headerlink" title="3ã€wx.navigateTo(), wx.redirectTo(), wx.switchTab(), wx.navigateBack(), wx.reLaunch()çš„åŒºåˆ«"></a>3ã€wx.navigateTo(), wx.redirectTo(), wx.switchTab(), wx.navigateBack(), wx.reLaunch()çš„åŒºåˆ«</h3><blockquote><p>wx.navigateTo() ä¿ç•™å½“å‰é¡µé¢ï¼Œè·³è½¬åˆ°åº”ç”¨å†…çš„æŸä¸ªé¡µé¢ã€‚ä½†æ˜¯ä¸èƒ½è·³åˆ° tabbar é¡µé¢ã€‚ä½¿ç”¨ wx.navigateBack å¯ä»¥è¿”å›åˆ°åŸé¡µé¢ã€‚å°ç¨‹åºä¸­é¡µé¢æ ˆæœ€å¤šåå±‚<br>wx.redirectTo() å…³é—­å½“å‰é¡µé¢ï¼Œè·³è½¬åˆ°åº”ç”¨å†…çš„æŸä¸ªé¡µé¢ã€‚ä½†æ˜¯ä¸å…è®¸è·³è½¬åˆ° tabbar é¡µé¢ã€‚<br>wx.switchTab() è·³è½¬åˆ° tabBar é¡µé¢ï¼Œå¹¶å…³é—­å…¶ä»–æ‰€æœ‰é tabBar é¡µé¢<br>wx.navigateBack() å…³é—­å½“å‰é¡µé¢ï¼Œè¿”å›ä¸Šä¸€é¡µé¢æˆ–å¤šçº§é¡µé¢ã€‚å¯é€šè¿‡ getCurrentPages è·å–å½“å‰çš„é¡µé¢æ ˆï¼Œå†³å®šéœ€è¦è¿”å›å‡ å±‚<br>wx.reLaunch() å…³é—­æ‰€æœ‰é¡µé¢ï¼Œæ‰“å¼€åˆ°åº”ç”¨å†…çš„æŸä¸ªé¡µé¢</p></blockquote><h3 id="4ã€å°ç¨‹åºçš„åŒå‘ç»‘å®šå’Œvueæœ‰ä»€ä¹ˆä¸ä¸€æ ·"><a href="#4ã€å°ç¨‹åºçš„åŒå‘ç»‘å®šå’Œvueæœ‰ä»€ä¹ˆä¸ä¸€æ ·" class="headerlink" title="4ã€å°ç¨‹åºçš„åŒå‘ç»‘å®šå’Œvueæœ‰ä»€ä¹ˆä¸ä¸€æ ·?"></a>4ã€å°ç¨‹åºçš„åŒå‘ç»‘å®šå’Œvueæœ‰ä»€ä¹ˆä¸ä¸€æ ·?</h3><p>vueæ•°æ®çš„åŒå‘ç»‘å®šæ˜¯å¯ä»¥ç›´æ¥åŒæ­¥åˆ°è§†å›¾çš„ï¼Œè€Œå°ç¨‹åºçš„åŒå‘ç»‘å®šå¿…é¡»é€šè¿‡this.setData({å±æ€§å:å±æ€§å€¼})æ¥è®¾ç½®</p><h3 id="5ã€å°ç¨‹åºé¡µé¢æ•°æ®ä¼ é€’æ–¹å¼"><a href="#5ã€å°ç¨‹åºé¡µé¢æ•°æ®ä¼ é€’æ–¹å¼" class="headerlink" title="5ã€å°ç¨‹åºé¡µé¢æ•°æ®ä¼ é€’æ–¹å¼"></a>5ã€å°ç¨‹åºé¡µé¢æ•°æ®ä¼ é€’æ–¹å¼</h3><h4 id="1-ä½¿ç”¨globalDataå…¨å±€å˜é‡ä¼ é€’æ•°æ®"><a href="#1-ä½¿ç”¨globalDataå…¨å±€å˜é‡ä¼ é€’æ•°æ®" class="headerlink" title="1)ä½¿ç”¨globalDataå…¨å±€å˜é‡ä¼ é€’æ•°æ®"></a>1)ä½¿ç”¨globalDataå…¨å±€å˜é‡ä¼ é€’æ•°æ®</h4><blockquote><p>åœ¨ app.js æ–‡ä»¶ä¸­å®šä¹‰å…¨å±€å˜é‡ globalDataï¼Œ å°†éœ€è¦å­˜å‚¨çš„ä¿¡æ¯å­˜æ”¾åœ¨é‡Œé¢</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// app.js</span><span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token function">onShow</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// è·å–å…¶ä»–å°ç¨‹åºè·³è½¬è¿‡æ¥æºå¸¦çš„å‚æ•°</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>loginSystem <span class="token operator">=</span> <span class="token punctuation">{</span>        user<span class="token operator">:</span> options<span class="token punctuation">.</span>referrerInfo<span class="token punctuation">.</span>extraData<span class="token punctuation">.</span>user<span class="token punctuation">,</span>        passwd<span class="token operator">:</span> options<span class="token punctuation">.</span>referrerInfo<span class="token punctuation">.</span>extraData<span class="token punctuation">.</span>passwd<span class="token punctuation">,</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">onLaunch</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  globalData<span class="token operator">:</span> <span class="token punctuation">{</span>    loginSystem<span class="token operator">:</span><span class="token punctuation">{</span>      user<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>      passwd<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    userInfo<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// åœ¨é¡µé¢jsä½¿ç”¨æ—¶ç›´æ¥ä½¿ç”¨ getApp() æ‹¿åˆ°å­˜å‚¨çš„ä¿¡æ¯</span><span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>loginSystem<span class="token punctuation">.</span>userapp<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>loginSystem<span class="token punctuation">.</span>passwd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="2-ä½¿ç”¨è·¯ç”±ä¼ å€¼"><a href="#2-ä½¿ç”¨è·¯ç”±ä¼ å€¼" class="headerlink" title="2)ä½¿ç”¨è·¯ç”±ä¼ å€¼"></a>2)ä½¿ç”¨è·¯ç”±ä¼ å€¼</h4><blockquote><p>æ¯”å¦‚ï¼šwx.navigateTo ä¸ wx.redirectToè·³è½¬é¡µé¢æ—¶ï¼Œå°†éƒ¨åˆ†æ•°æ®æ”¾åœ¨urlåé¢</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// ç¤ºä¾‹</span>wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/pages/index/index?name=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>params<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;passwd=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>params<span class="token punctuation">.</span>passwd<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;userObj=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// åœ¨indexé¡µé¢çš„jsä¸­ï¼Œè·å–å‚æ•°</span><span class="token function-variable function">onLoad</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> name <span class="token operator">=</span> options<span class="token punctuation">.</span>name    <span class="token keyword">let</span> passwd <span class="token operator">=</span> options<span class="token punctuation">.</span>passwd    <span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>userObj<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// æ³¨æ„ï¼šwx.navigateTo å’Œ wx.redirectTo ä¸å…è®¸è·³è½¬åˆ° tab æ‰€åŒ…å«çš„é¡µé¢ onLoad åªæ‰§è¡Œä¸€æ¬¡</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="3-ä½¿ç”¨æœ¬åœ°ç¼“å­˜-Storage"><a href="#3-ä½¿ç”¨æœ¬åœ°ç¼“å­˜-Storage" class="headerlink" title="3)ä½¿ç”¨æœ¬åœ°ç¼“å­˜ Storage"></a>3)ä½¿ç”¨æœ¬åœ°ç¼“å­˜ Storage</h4><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// æš‚å­˜</span>wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">,</span> userObj<span class="token punctuation">)</span><span class="token comment">// è·å–</span><span class="token keyword">let</span> user <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">)</span><span class="token comment">// å…¶ä»–å‚ç…§å®˜æ–¹æ–‡æ¡£</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="6ã€å°ç¨‹åºäº‹ä»¶ä¼ å€¼"><a href="#6ã€å°ç¨‹åºäº‹ä»¶ä¼ å€¼" class="headerlink" title="6ã€å°ç¨‹åºäº‹ä»¶ä¼ å€¼"></a>6ã€å°ç¨‹åºäº‹ä»¶ä¼ å€¼</h3><blockquote><p>é¡µé¢æ ‡ç­¾ä¸Šé€šè¿‡ ç»‘å®š dataset-key = value ï¼Œ ç„¶åç»‘å®šç‚¹å‡»é€šè¿‡e.currentTarget.dataset.key æ¥è·å–æ ‡ç­¾ä¸Šç»‘å®šçš„å€¼</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>van<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">"primary"</span> bindtap<span class="token operator">=</span><span class="token string">"handelDetail"</span> data<span class="token operator">-</span>item<span class="token operator">=</span><span class="token string">"{{item}}"</span><span class="token operator">&gt;</span>äº‹ä»¶ä¼ å€¼<span class="token operator">&lt;</span><span class="token operator">/</span>van<span class="token operator">-</span>button<span class="token operator">&gt;</span><span class="token comment">// è·å–ç‚¹å‡»äº‹ä»¶çš„å¯¹è±¡</span><span class="token function">handelDetail</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> <span class="token punctuation">{</span>id<span class="token punctuation">,</span>name<span class="token punctuation">}</span> <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>item<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="7ã€wx-if-å’Œ-hidden-çš„åŒºåˆ«"><a href="#7ã€wx-if-å’Œ-hidden-çš„åŒºåˆ«" class="headerlink" title="7ã€wx:if å’Œ hidden çš„åŒºåˆ«"></a>7ã€wx:if å’Œ hidden çš„åŒºåˆ«</h3><blockquote><p>ç±»ä¼¼äºvueçš„ v-if ä¸ v-show<br>wx:if æœ‰æ›´é«˜çš„åˆ‡æ¢æ¶ˆè€—ï¼Œè¿è¡Œæ—¶æ¡ä»¶å˜åŒ–ä½¿ç”¨<br>hidden æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“æ¶ˆè€—ï¼Œé¢‘ç¹åˆ‡æ¢ä½¿ç”¨</p></blockquote><h3 id="8ã€å¦‚ä½•å®ç°ä¸‹æ‹‰åˆ·æ–°"><a href="#8ã€å¦‚ä½•å®ç°ä¸‹æ‹‰åˆ·æ–°" class="headerlink" title="8ã€å¦‚ä½•å®ç°ä¸‹æ‹‰åˆ·æ–°"></a>8ã€å¦‚ä½•å®ç°ä¸‹æ‹‰åˆ·æ–°</h3><h4 id="1ï¼‰é€šè¿‡-enablePullDownRefresh-é…ç½®å¼€å¯å…¨å±€ä¸‹æ‹‰åˆ·æ–°"><a href="#1ï¼‰é€šè¿‡-enablePullDownRefresh-é…ç½®å¼€å¯å…¨å±€ä¸‹æ‹‰åˆ·æ–°" class="headerlink" title="1ï¼‰é€šè¿‡ enablePullDownRefresh é…ç½®å¼€å¯å…¨å±€ä¸‹æ‹‰åˆ·æ–°"></a>1ï¼‰é€šè¿‡ enablePullDownRefresh é…ç½®å¼€å¯å…¨å±€ä¸‹æ‹‰åˆ·æ–°</h4><blockquote><p>1ã€åœ¨å…¨å±€ app.json é…ç½® enablePullDownRefresh ä¸º true (å¦‚æœåªåœ¨å•ä¸ªé¡µé¢å¼€å¯ï¼Œå°±åœ¨å¯¹åº”çš„é¡µé¢jsonä¸­é…ç½®)<br>2ã€åœ¨ Page ä¸­å®šä¹‰ onPullDownRefresh é’©å­å‡½æ•°,åˆ°è¾¾ä¸‹æ‹‰åˆ·æ–°æ¡ä»¶åï¼Œè¯¥é’©å­å‡½æ•°æ‰§è¡Œï¼Œå‘èµ·è¯·æ±‚æ–¹æ³•<br>3ã€è¯·æ±‚è¿”å›åï¼Œè°ƒç”¨ wx.stopPullDownRefresh åœæ­¢ä¸‹æ‹‰åˆ·æ–°</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function-variable function">onPullDownRefresh</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    wx<span class="token punctuation">.</span><span class="token function">showNavigationBarLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//å¯ç”¨æ ‡é¢˜æ æ˜¾ç¤ºåŠ è½½çŠ¶æ€</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//è°ƒç”¨ç›¸å…³æ–¹æ³•</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      wx<span class="token punctuation">.</span><span class="token function">hideNavigationBarLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//éšè—æ ‡é¢˜æ æ˜¾ç¤ºåŠ è½½çŠ¶æ€</span>      wx<span class="token punctuation">.</span><span class="token function">stopPullDownRefresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//åœæ­¢ä¸‹æ‹‰åˆ·æ–°</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è®¾ç½®æ‰§è¡Œæ—¶é—´</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="2ï¼‰é€šè¿‡-scroll-view-æ»šåŠ¨ç»„ä»¶å®ç°è‡ªå®šä¹‰åˆ·æ–°"><a href="#2ï¼‰é€šè¿‡-scroll-view-æ»šåŠ¨ç»„ä»¶å®ç°è‡ªå®šä¹‰åˆ·æ–°" class="headerlink" title="2ï¼‰é€šè¿‡ scroll-view æ»šåŠ¨ç»„ä»¶å®ç°è‡ªå®šä¹‰åˆ·æ–°"></a>2ï¼‰é€šè¿‡ scroll-view æ»šåŠ¨ç»„ä»¶å®ç°è‡ªå®šä¹‰åˆ·æ–°</h4><blockquote><p>é€šè¿‡ç»„ä»¶çš„ bindscrolltoupper å±æ€§æ»šåŠ¨åˆ°é¡¶éƒ¨æ—¶è§¦å‘ scrolltoupper äº‹ä»¶å®ç°åˆ·æ–°åŠŸèƒ½</p></blockquote><h3 id="9ã€bindtapå’Œcatchtapçš„åŒºåˆ«"><a href="#9ã€bindtapå’Œcatchtapçš„åŒºåˆ«" class="headerlink" title="9ã€bindtapå’Œcatchtapçš„åŒºåˆ«"></a>9ã€bindtapå’Œcatchtapçš„åŒºåˆ«</h3><blockquote><p>ç›¸åŒç‚¹ï¼šç‚¹å‡»äº‹ä»¶å‡½æ•°<br>ä¸åŒç‚¹ï¼šbindtap ä¸ä¼šé˜»æ­¢å†’æ³¡ï¼Œcatchtap é˜»æ­¢å†’æ³¡</p></blockquote><h3 id="10ã€ç™»å½•æµç¨‹"><a href="#10ã€ç™»å½•æµç¨‹" class="headerlink" title="10ã€ç™»å½•æµç¨‹"></a>10ã€ç™»å½•æµç¨‹</h3><blockquote><p>1ã€è°ƒwx.loginè·å–codeä¼ ç»™åå°æœåŠ¡å™¨è·å–å¾®ä¿¡ç”¨æˆ·å”¯ä¸€æ ‡è¯†openidåŠæœ¬æ¬¡ç™»å½•çš„ä¼šè¯å¯†é’¥ï¼ˆsession_keyï¼‰<br>2ã€è·å–åˆ°å¼€å‘è€…æœåŠ¡å™¨ä¼ å›æ¥çš„ä¼šè¯å¯†é’¥ï¼ˆsession_keyï¼‰ä¹‹åï¼Œå‰ç«¯å¯ä¿å­˜wx.setStorageSync(â€˜sessionKeyâ€™, â€˜valueâ€™)æŒä¹…ç™»å½•çŠ¶æ€ï¼šsessionä¿¡æ¯å­˜æ”¾åœ¨cookieä¸­ä»¥è¯·æ±‚å¤´çš„æ–¹å¼å¸¦å›ç»™æœåŠ¡ç«¯ï¼Œæ”¾åˆ°request.jsé‡Œçš„wx.requestçš„headeré‡Œ</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js">wx<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> params <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token comment">//è¯·æ±‚å‚æ•°</span>      wx_code<span class="token operator">:</span> res<span class="token punctuation">.</span>code<span class="token punctuation">,</span><span class="token comment">//ç”¨æˆ·ç™»å½•å‡­è¯ï¼ˆæœ‰æ•ˆæœŸäº”åˆ†é’Ÿï¼‰</span>    <span class="token punctuation">}</span>    <span class="token comment">// çœ‹éœ€è¦æ˜¯å¦è¦è¯·æ±‚æœåŠ¡ç«¯ï¼ˆå¯é€‰ï¼‰</span>    http<span class="token punctuation">.</span><span class="token function">postRequest</span><span class="token punctuation">(</span><span class="token string">"user/wxlogin"</span><span class="token punctuation">,</span> params<span class="token punctuation">,</span> <span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>result_msg<span class="token operator">==</span> <span class="token string">"è¯·å…ˆç™»å½•"</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">var</span> pages <span class="token operator">=</span> <span class="token function">getCurrentPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//è·å–åŠ è½½çš„é¡µé¢</span>        <span class="token keyword">var</span> currentPage <span class="token operator">=</span> pages<span class="token punctuation">[</span>pages<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">//è·å–å½“å‰é¡µé¢çš„å¯¹è±¡</span>        <span class="token keyword">var</span> url <span class="token operator">=</span> currentPage<span class="token punctuation">.</span>route <span class="token comment">//å½“å‰é¡µé¢url   </span>        <span class="token keyword">var</span> skipUrl <span class="token operator">=</span> <span class="token string">""</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token constant">I</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token constant">I</span> <span class="token operator">&lt;</span> url<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token constant">I</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>          skipUrl <span class="token operator">=</span> skipUrl <span class="token operator">+</span> <span class="token string">'../'</span>        <span class="token punctuation">}</span>        wx<span class="token punctuation">.</span><span class="token function">reLaunch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>          url<span class="token operator">:</span> skipUrl<span class="token operator">+</span><span class="token string">'login/login'</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>      <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        wx<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">,</span>config<span class="token punctuation">.</span>token<span class="token punctuation">)</span>        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"è¯·æ±‚ç™»å½•å¤±è´¥äº†"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="11ã€å¦‚ä½•å°è£…å°ç¨‹åºè¯·æ±‚"><a href="#11ã€å¦‚ä½•å°è£…å°ç¨‹åºè¯·æ±‚" class="headerlink" title="11ã€å¦‚ä½•å°è£…å°ç¨‹åºè¯·æ±‚"></a>11ã€å¦‚ä½•å°è£…å°ç¨‹åºè¯·æ±‚</h3><blockquote><p>ä»¥ä¸‹å†…å®¹æ¥æºäºç½‘ç»œ</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/**@param {*} url è¯·æ±‚è·¯å¾„ * @param {*} options è¯·æ±‚å‚æ•° * @param {*} isNeedTocken æ˜¯å¦éœ€è¦Tocken * @param {*} isJson æ˜¯å¦å·²jsonå½¢å¼ä¼ ç»™åå°, å¦åˆ™ä»ªè¡¨å•çš„å½¢å¼*/</span><span class="token keyword">const</span> <span class="token function-variable function">request</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> options<span class="token punctuation">,</span>isNeedTocken<span class="token punctuation">,</span>isJson</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>   <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    wx<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>host<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><span class="token comment">//æ‹¼æ¥è¯·æ±‚è·¯å¾„ï¼Œè¯»å–app.jsä¸­çš„å…¨å±€å˜é‡</span>      method<span class="token operator">:</span> options<span class="token punctuation">.</span>method<span class="token punctuation">,</span>      data<span class="token operator">:</span>isJson<span class="token operator">?</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token operator">:</span>options<span class="token punctuation">.</span>data <span class="token punctuation">,</span>      header<span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token string">'Content-Type'</span><span class="token operator">:</span>isJson<span class="token operator">?</span><span class="token string">'application/json'</span><span class="token operator">:</span><span class="token string">'application/x-www-form-urlencoded'</span><span class="token punctuation">,</span>        <span class="token string">'authorization'</span><span class="token operator">:</span> isNeedTocken<span class="token operator">?</span>app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>tocken<span class="token operator">:</span><span class="token string">''</span>  <span class="token comment">// çœ‹è‡ªå·±æ˜¯å¦éœ€è¦</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">request</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//è¯·æ±‚æˆåŠŸçš„çŠ¶æ€ç </span>          <span class="token function">resolve</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>          <span class="token function">reject</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token function">fail</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>data<span class="token punctuation">)</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">/** *å°è£…getè¯·æ±‚ */</span><span class="token keyword">const</span> <span class="token function-variable function">get</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>isNeedTocken <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>isJson <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>method<span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span> data<span class="token operator">:</span> options <span class="token punctuation">}</span><span class="token punctuation">,</span>isNeedTocken<span class="token punctuation">,</span>isJson<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">/** * å°è£…postè¯·æ±‚ */</span><span class="token keyword">const</span> <span class="token function-variable function">post</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> options<span class="token punctuation">,</span>isNeedTocken<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">,</span>isJson <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span> data<span class="token operator">:</span> options <span class="token punctuation">}</span><span class="token punctuation">,</span>isNeedTocken<span class="token punctuation">,</span>isJson<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">//æš´éœ²æ¥å£</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  get<span class="token punctuation">,</span>  post<span class="token punctuation">}</span><span class="token comment">// è°ƒç”¨æ¥å£</span><span class="token keyword">import</span> req <span class="token keyword">from</span> <span class="token string">"../../api/request"</span><span class="token keyword">function</span> <span class="token function-variable function">testPost</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  req<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>login<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">"phoneOrNumber"</span><span class="token operator">:</span>phoneOrNumber<span class="token punctuation">,</span><span class="token string">"possword"</span><span class="token operator">:</span>possword<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>    <span class="token comment">//å¤„ç†æˆåŠŸçš„è¯·æ±‚</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>    <span class="token comment">//è¯·æ±‚æŠ¥é”™ï¼Œæˆ–è€…çŠ¶æ€ç è¿”å›é”™è¯¯ã€‚</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å¾®ä¿¡å°ç¨‹åº </category>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¾®ä¿¡å°ç¨‹åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue-cropperå›¾ç‰‡è£å‰ª</title>
      <link href="/MyBlog/vue-cropper-page/"/>
      <url>/MyBlog/vue-cropper-page/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å¼•é¢˜"><a href="#ä¸€ã€å¼•é¢˜" class="headerlink" title="ä¸€ã€å¼•é¢˜"></a>ä¸€ã€å¼•é¢˜</h2><blockquote><p>ğŸ¯ å‰è¨€ï¼šå‰ç«¯é¡µé¢å¾ˆå¤šéƒ½æ¶‰åŠåˆ°å›¾ç‰‡è£å‰ªçš„é—®é¢˜ï¼Œå¼€æºçš„å›¾ç‰‡è£å‰ªæ’ä»¶ä¹ŸæŒºå¤šçš„ã€‚è¿™æ¬¡ç®€å•æ¥è®²ä¸€ä¸‹Vue-Cropperå§<br><a href="https://github.com/xyxiao001/vue-cropper">vue-cropper GitHubåœ°å€</a></p></blockquote><h2 id="äºŒã€å®ç°"><a href="#äºŒã€å®ç°" class="headerlink" title="äºŒã€å®ç°"></a>äºŒã€å®ç°</h2><h3 id="1ã€å®‰è£…"><a href="#1ã€å®‰è£…" class="headerlink" title="1ã€å®‰è£…"></a>1ã€å®‰è£…</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># npm å®‰è£…</span><span class="token function">npm</span> <span class="token function">install</span> vue-cropper<span class="token comment"># yarn å®‰è£…</span><span class="token function">yarn</span> <span class="token function">add</span> vue-cropper<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2ã€å¼•ç”¨"><a href="#2ã€å¼•ç”¨" class="headerlink" title="2ã€å¼•ç”¨"></a>2ã€å¼•ç”¨</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// Vue 3 å¼•ç”¨</span><span class="token comment">// å…¨å±€å¼•ç”¨</span><span class="token keyword">import</span> VueCropper <span class="token keyword">from</span> <span class="token string">'vue-cropper'</span><span class="token punctuation">;</span> <span class="token keyword">import</span> <span class="token string">'vue-cropper/dist/index.css'</span><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueCropper<span class="token punctuation">)</span>app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span class="token comment">// ç»„å»ºå†…å¼•ç”¨</span>npm install vue<span class="token operator">-</span>cropper@next<span class="token keyword">import</span> <span class="token string">'vue-cropper/dist/index.css'</span><span class="token keyword">import</span> <span class="token punctuation">{</span> VueCropper <span class="token punctuation">}</span>  <span class="token keyword">from</span> <span class="token string">"vue-cropper"</span><span class="token punctuation">;</span><span class="token comment">// Vue 2 å¼•ç”¨</span><span class="token comment">// å…¨å±€å¼•ç”¨</span><span class="token keyword">import</span> VueCropper <span class="token keyword">from</span> <span class="token string">'vue-cropper'</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueCropper<span class="token punctuation">)</span><span class="token comment">// ç»„å»ºå†…å¼•ç”¨</span><span class="token keyword">import</span> <span class="token punctuation">{</span> VueCropper <span class="token punctuation">}</span>  <span class="token keyword">from</span> <span class="token string">'vue-cropper'</span> components<span class="token operator">:</span> <span class="token punctuation">{</span>  VueCropper<span class="token punctuation">}</span><span class="token comment">// CDN æ–¹å¼å¼•å…¥ ä¸ nuxt å¼•å…¥æ–¹å¼ å‚è§GitHubä¸Šçš„ä½¿ç”¨æ–¹å¼</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3ã€é¡µé¢ä¸Šçš„ä½¿ç”¨"><a href="#3ã€é¡µé¢ä¸Šçš„ä½¿ç”¨" class="headerlink" title="3ã€é¡µé¢ä¸Šçš„ä½¿ç”¨"></a>3ã€é¡µé¢ä¸Šçš„ä½¿ç”¨</h3><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cropper-wrapper<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>header-icon<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>el-icon-arrow-left<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$router.push({path: <span class="token punctuation">'</span>/department/list<span class="token punctuation">'</span>})<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span><span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span><span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span> #419fff<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>è¿”å›<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-upload</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upload-demo<span class="token punctuation">"</span></span><span class="token attr-name">accept</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.jpg,.png,.jepg,.bmp<span class="token punctuation">"</span></span><span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token attr-name">drag</span><span class="token attr-name">:auto-upload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token attr-name">:show-file-list</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token attr-name">:on-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>handleChangeUpload<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>el-icon-upload<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>el-upload__text<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»ä¸Šä¼ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>el-upload__tip<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æ”¯æŒ.jpg,.png,.jepg,.bmpå›¾ç‰‡ï¼Œå•å¼ å›¾ç‰‡æœ€å¤§æ”¯æŒ2MB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-upload</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">plain</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>uploadImageToServer<span class="token punctuation">"</span></span> <span class="token attr-name">:loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>addLoading<span class="token punctuation">"</span></span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>previewImgList.length&gt;0<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">margin-left</span><span class="token punctuation">:</span>25px</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>ä¸Šä¼ åˆ°æœåŠ¡å™¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pre-box<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span> <span class="token property">flex-flow</span><span class="token punctuation">:</span>row wrap<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span><span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item, index) in previewImgList<span class="token punctuation">"</span></span><span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">padding</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span> <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4<span class="token punctuation">"</span></span><span class="token attr-name">@mouseenter.native</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menuShow(item)<span class="token punctuation">"</span></span><span class="token attr-name">@mouseleave.native</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HideMenu(item)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>img_div<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.blobUrl<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>imgOptionMenu<span class="token punctuation">"</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.isMenuShow<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>el-icon-delete<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span><span class="token property">margin</span><span class="token punctuation">:</span>40% 40%</span><span class="token punctuation">"</span></span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>deleteImage(index)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token comment">&lt;!-- vueCropper å‰ªè£å›¾ç‰‡å®ç°--&gt;</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dialog</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å›¾ç‰‡å‰ªè£<span class="token punctuation">"</span></span> <span class="token attr-name">:visible.sync</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dialogVisible<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>crop-dialog<span class="token punctuation">"</span></span> <span class="token attr-name">append-to-body</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>70%<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cropper-content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cropper<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">text-align</span><span class="token punctuation">:</span>center</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>vueCropper</span>                        <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cropper<span class="token punctuation">"</span></span>                        <span class="token attr-name">:img</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option.img<span class="token punctuation">"</span></span>                        <span class="token attr-name">:outputSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option.size<span class="token punctuation">"</span></span>                        <span class="token attr-name">:outputType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option.outputType<span class="token punctuation">"</span></span>                        <span class="token attr-name">:info</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option.info<span class="token punctuation">"</span></span>                        <span class="token attr-name">:full</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option.full<span class="token punctuation">"</span></span>                        <span class="token attr-name">:canMove</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option.canMove<span class="token punctuation">"</span></span>                        <span class="token attr-name">:canMoveBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option.canMoveBox<span class="token punctuation">"</span></span>                        <span class="token attr-name">:original</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option.original<span class="token punctuation">"</span></span>                        <span class="token attr-name">:autoCrop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option.autoCrop<span class="token punctuation">"</span></span>                        <span class="token attr-name">:fixed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option.fixed<span class="token punctuation">"</span></span>                        <span class="token attr-name">:fixedNumber</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option.fixedNumber<span class="token punctuation">"</span></span>                        <span class="token attr-name">:centerBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option.centerBox<span class="token punctuation">"</span></span>                        <span class="token attr-name">:infoTrue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option.infoTrue<span class="token punctuation">"</span></span>                        <span class="token attr-name">:fixedBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option.fixedBox<span class="token punctuation">"</span></span>                        <span class="token attr-name">:autoCropWidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option.autoCropWidth<span class="token punctuation">"</span></span>                        <span class="token attr-name">:autoCropHeight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option.autoCropHeight<span class="token punctuation">"</span></span>                        <span class="token attr-name">:high</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>option.high<span class="token punctuation">"</span></span>                        <span class="token attr-name">@cropMoving</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cropMoving<span class="token punctuation">"</span></span>                    <span class="token punctuation">/&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>action-box<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-upload</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upload-demo<span class="token punctuation">"</span></span>                           <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span>                           <span class="token attr-name">:auto-upload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span>                           <span class="token attr-name">:show-file-list</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span>                           <span class="token attr-name">:on-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>handleChangeUpload<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">plain</span><span class="token punctuation">&gt;</span></span>æ›´æ¢å›¾ç‰‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-upload</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">plain</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>clearImgHandle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æ¸…é™¤å›¾ç‰‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">plain</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rotateLeftHandle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>å·¦æ—‹è½¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">plain</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rotateRightHandle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>å³æ—‹è½¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">plain</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeScaleHandle(1)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æ”¾å¤§<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">plain</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeScaleHandle(-1)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ç¼©å°<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">plain</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>downloadHandle(<span class="token punctuation">'</span>blob<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ä¸‹è½½<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>footer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dialog-footer<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dialogVisible = false<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>å– æ¶ˆ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>finish<span class="token punctuation">"</span></span> <span class="token attr-name">:loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loading<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ç¡®è®¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dialog</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>é¡µé¢js</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token string">"Cropper"</span><span class="token punctuation">,</span>    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">{</span>          dialogVisible<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>          previewImgList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">// å›¾ç‰‡é¢„è§ˆåœ°å€</span>          <span class="token comment">// è£å‰ªç»„ä»¶çš„åŸºç¡€é…ç½®option</span>          option<span class="token operator">:</span> <span class="token punctuation">{</span>              img<span class="token operator">:</span> <span class="token string">'https://pic1.zhimg.com/80/v2-366c0aeae2b4050fa2fcbfc09c74aad4_720w.jpg'</span><span class="token punctuation">,</span> <span class="token comment">// è£å‰ªå›¾ç‰‡çš„åœ°å€</span>              info<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// è£å‰ªæ¡†çš„å¤§å°ä¿¡æ¯</span>              outputSize<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// è£å‰ªç”Ÿæˆå›¾ç‰‡çš„è´¨é‡</span>              outputType<span class="token operator">:</span> <span class="token string">'png'</span><span class="token punctuation">,</span> <span class="token comment">// è£å‰ªç”Ÿæˆå›¾ç‰‡çš„æ ¼å¼</span>              canScale<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å›¾ç‰‡æ˜¯å¦å…è®¸æ»šè½®ç¼©æ”¾</span>              autoCrop<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦é»˜è®¤ç”Ÿæˆæˆªå›¾æ¡†</span>              canMoveBox<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æˆªå›¾æ¡†èƒ½å¦æ‹–åŠ¨</span>              autoCropWidth<span class="token operator">:</span> <span class="token number">600</span><span class="token punctuation">,</span> <span class="token comment">// é»˜è®¤ç”Ÿæˆæˆªå›¾æ¡†å®½åº¦</span>              autoCropHeight<span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token comment">// é»˜è®¤ç”Ÿæˆæˆªå›¾æ¡†é«˜åº¦</span>              fixedBox<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// å›ºå®šæˆªå›¾æ¡†å¤§å° ä¸å…è®¸æ”¹å˜</span>              fixed<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦å¼€å¯æˆªå›¾æ¡†å®½é«˜å›ºå®šæ¯”ä¾‹</span>              fixedNumber<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// æˆªå›¾æ¡†çš„å®½é«˜æ¯”ä¾‹</span>              full<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦è¾“å‡ºåŸå›¾æ¯”ä¾‹çš„æˆªå›¾</span>              original<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ä¸Šä¼ å›¾ç‰‡æŒ‰ç…§åŸå§‹æ¯”ä¾‹æ¸²æŸ“</span>              centerBox<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// æˆªå›¾æ¡†æ˜¯å¦è¢«é™åˆ¶åœ¨å›¾ç‰‡é‡Œé¢</span>              infoTrue<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// true ä¸ºå±•ç¤ºçœŸå®è¾“å‡ºå›¾ç‰‡å®½é«˜ false å±•ç¤ºçœ‹åˆ°çš„æˆªå›¾æ¡†å®½é«˜</span>              high<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//æ˜¯å¦æŒ‰ç…§è®¾å¤‡çš„dpr è¾“å‡ºç­‰æ¯”ä¾‹å›¾ç‰‡ã€æ³¨æ„è¿™ä¸ªå±æ€§éå¸¸é‡è¦â€¼ï¸ã€‘</span>          <span class="token punctuation">}</span><span class="token punctuation">,</span>    addLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>          <span class="token comment">// é˜²æ­¢é‡å¤æäº¤</span>          loading<span class="token operator">:</span> <span class="token boolean">false</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// é¡µé¢æ¸²æŸ“å®Œ</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  methods<span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token comment">// ä¸Šä¼ æŒ‰é’® é™åˆ¶å›¾ç‰‡å¤§å°å’Œç±»å‹</span>    <span class="token function">handleChangeUpload</span><span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> fileList</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">const</span> isJPG <span class="token operator">=</span> file<span class="token punctuation">.</span>raw<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'image/jpeg'</span><span class="token punctuation">;</span>      <span class="token keyword">const</span> isGIF <span class="token operator">=</span> file<span class="token punctuation">.</span>raw<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'image/gif'</span><span class="token punctuation">;</span>      <span class="token keyword">const</span> isPNG <span class="token operator">=</span> file<span class="token punctuation">.</span>raw<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'image/png'</span><span class="token punctuation">;</span>      <span class="token keyword">const</span> isBMP <span class="token operator">=</span> file<span class="token punctuation">.</span>raw<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'image/bmp'</span><span class="token punctuation">;</span>      <span class="token keyword">const</span> isLt2M <span class="token operator">=</span> file<span class="token punctuation">.</span>size <span class="token operator">/</span> <span class="token number">1024</span> <span class="token operator">/</span> <span class="token number">1024</span> <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isJPG <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>isGIF <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>isPNG <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>isBMP<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>$message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'ä¸Šä¼ å›¾ç‰‡å¿…é¡»æ˜¯JPG/GIF/PNG/BMP æ ¼å¼!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">return</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isLt2M<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>$message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'ä¸Šä¼ å¤´åƒå›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 2MB!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">return</span> <span class="token boolean">false</span>      <span class="token punctuation">}</span>      <span class="token comment">// ä¸Šä¼ æˆåŠŸåå°†å›¾ç‰‡åœ°å€èµ‹å€¼ç»™è£å‰ªæ¡†æ˜¾ç¤ºå›¾ç‰‡</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>          <span class="token comment">// base64æ–¹å¼</span>          <span class="token comment">// this.option.img = await fileByBase64(file.raw)</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>option<span class="token punctuation">.</span>img <span class="token operator">=</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>raw<span class="token punctuation">)</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">false</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>dialogVisible <span class="token operator">=</span> <span class="token boolean">true</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// æ”¾å¤§/ç¼©å°</span>    <span class="token function">changeScaleHandle</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        num <span class="token operator">=</span> num <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>cropper<span class="token punctuation">.</span><span class="token function">changeScale</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// å·¦æ—‹è½¬</span>    <span class="token function">rotateLeftHandle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>cropper<span class="token punctuation">.</span><span class="token function">rotateLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// å³æ—‹è½¬</span>    <span class="token function">rotateRightHandle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>cropper<span class="token punctuation">.</span><span class="token function">rotateRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// ä¸‹è½½</span>    <span class="token function">downloadHandle</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">let</span> aLink <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>        aLink<span class="token punctuation">.</span>download <span class="token operator">=</span> <span class="token string">'author-img'</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">'blob'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>cropper<span class="token punctuation">.</span><span class="token function">getCropBlob</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                aLink<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>                aLink<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>cropper<span class="token punctuation">.</span><span class="token function">getCropData</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                aLink<span class="token punctuation">.</span>href <span class="token operator">=</span> data<span class="token punctuation">;</span>                aLink<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// æ¸…ç†å›¾ç‰‡</span>    <span class="token function">clearImgHandle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>option<span class="token punctuation">.</span>img <span class="token operator">=</span> <span class="token string">''</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// æˆªå›¾æ¡†ç§»åŠ¨å›è°ƒå‡½æ•°</span>    <span class="token function">cropMoving</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// æˆªå›¾æ¡†çš„å·¦ä¸Šè§’ xï¼Œyå’Œå³ä¸‹è§’åæ ‡xï¼Œy</span>        <span class="token comment">// let cropAxis = [data.axis.x1, data.axis.y1, data.axis.x2, data.axis.y2]</span>        <span class="token comment">// console.log(cropAxis)</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// è·å–æˆªå›¾çš„ blob æ•°æ®</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>cropper<span class="token punctuation">.</span><span class="token function">getCropBlob</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">blob</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">true</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>dialogVisible <span class="token operator">=</span> <span class="token boolean">false</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>previewImgList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>blobUrl<span class="token operator">:</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span><span class="token punctuation">,</span>imgBlob<span class="token operator">:</span> blob<span class="token punctuation">,</span>isMenuShow<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span>      <span class="token comment">// è·å–æˆªå›¾çš„ base64 æ•°æ®</span>      <span class="token comment">// this.$refs.cropper.getCropData(data =&gt; {</span>      <span class="token comment">//     console.log(data)</span>      <span class="token comment">// })</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">menuShow</span><span class="token punctuation">(</span><span class="token parameter">param</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      param<span class="token punctuation">.</span>isMenuShow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">HideMenu</span><span class="token punctuation">(</span><span class="token parameter">param</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      param<span class="token punctuation">.</span>isMenuShow <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">deleteImage</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>previewImgList<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">getFileNameStr</span><span class="token punctuation">(</span><span class="token parameter">imgBlob</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">let</span> infoArr <span class="token operator">=</span> imgBlob<span class="token punctuation">.</span>type<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>        <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'/'</span><span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'/'</span><span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'å›¾'</span><span class="token operator">+</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100000</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">'.'</span><span class="token operator">+</span> infoArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>        <span class="token keyword">return</span> str    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token keyword">async</span> <span class="token function">uploadRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">let</span> desc <span class="token operator">=</span> <span class="token string">''</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>addLoading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>previewImgList<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getFileNameStr</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>previewImgList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>imgBlob<span class="token punctuation">)</span>        <span class="token keyword">let</span> form <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        form<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'image'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>previewImgList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>imgBlob<span class="token punctuation">,</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// console.log('å›¾ç‰‡æ•°æ®',this.previewImgList)</span>            <span class="token keyword">let</span> uploadRes <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$http                <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">API_HOST</span> <span class="token operator">+</span> <span class="token string">'picture/upload?token='</span> <span class="token operator">+</span> sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'&amp;desc='</span> <span class="token operator">+</span> desc<span class="token punctuation">,</span> form<span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>uploadRes<span class="token punctuation">.</span>data<span class="token punctuation">.</span>result_code <span class="token operator">!==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ä¸Šä¼ å¤±è´¥äº†'</span><span class="token punctuation">)</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>addLoading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>previewImgList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>path<span class="token operator">:</span> <span class="token string">'/picture/list'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">uploadImageToServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">uploadRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ä¸Šä¼ åˆ°æœåŠ¡å™¨</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>é¡µé¢CSSæ ·å¼</p></blockquote><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.cropper-wrapper</span> <span class="token punctuation">{</span>    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token selector">.pre-box</span> <span class="token punctuation">{</span>        <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>        <span class="token selector">button</span> <span class="token punctuation">{</span>            <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>            <span class="token property">margin-top</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token selector">.crop-dialog</span> <span class="token punctuation">{</span>    <span class="token selector">.cropper-content</span> <span class="token punctuation">{</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 0 40px<span class="token punctuation">;</span>        <span class="token selector">.cropper</span> <span class="token punctuation">{</span>            <span class="token property">width</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>            <span class="token property">height</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>            <span class="token property">max-width</span><span class="token punctuation">:</span> 1400px<span class="token punctuation">;</span>            <span class="token property">max-height</span><span class="token punctuation">:</span> 900px<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token selector">.action-box</span> <span class="token punctuation">{</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 25px 40px 0 40px<span class="token punctuation">;</span>        <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>        <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>        <span class="token selector">button</span> <span class="token punctuation">{</span>            <span class="token property">width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>            <span class="token property">margin-right</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token selector">.dialog-footer</span> <span class="token punctuation">{</span>        <span class="token selector">button</span> <span class="token punctuation">{</span>            <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token selector">.imgOptionMenu</span><span class="token punctuation">{</span><span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 5%<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 5%<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 90%<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 90%<span class="token punctuation">;</span>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>156<span class="token punctuation">,</span> 155<span class="token punctuation">,</span> 155<span class="token punctuation">,</span> 0.6<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #ffffff<span class="token punctuation">;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 999<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token selector">.img_div:hover .imgOptionMenu</span> <span class="token punctuation">{</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4ã€æ•ˆæœé¢„è§ˆ"><a href="#4ã€æ•ˆæœé¢„è§ˆ" class="headerlink" title="4ã€æ•ˆæœé¢„è§ˆ"></a>4ã€æ•ˆæœé¢„è§ˆ</h3><p><img src="./pic_cropper.jpg"></p><p><img src="./pic_del.jpg"></p><blockquote><p>ä¸ºäº†å›¾ç‰‡è£å‰ªæ›´ç²¾å‡†ï¼Œå…¶ä¸­å‡ ä¸ªé‡è¦å±æ€§å€¼å»ºè®®å¦‚ä¸‹ï¼š<br>1ã€high æ˜¯å¦æŒ‰ç…§è®¾å¤‡çš„dpr è¾“å‡ºç­‰æ¯”ä¾‹å›¾ç‰‡ï¼Œé»˜è®¤æ˜¯trueã€‚å»ºè®®ä½¿ç”¨falseï¼ˆåŸå›¾æ¯”ä¾‹è¾“å‡ºåˆ°é¡µé¢å³å¯ï¼‰<br>2ã€original ä¸Šä¼ å›¾ç‰‡æŒ‰ç…§åŸå§‹æ¯”ä¾‹æ¸²æŸ“ï¼Œé»˜è®¤ä¸ºfalseã€‚å»ºè®®ä½¿ç”¨trueï¼ˆæŒ‰ç…§åŸå§‹å›¾ç‰‡å¤§å°æ¸²æŸ“ï¼‰<br>3ã€infoTrue true ä¸ºå±•ç¤ºçœŸå®è¾“å‡ºå›¾ç‰‡å®½é«˜ false å±•ç¤ºçœ‹åˆ°çš„æˆªå›¾æ¡†å®½é«˜ï¼Œé»˜è®¤ä¸ºfalseã€‚å»ºè®®ä½¿ç”¨trueï¼ˆå±•ç¤ºçœŸå®çš„å›¾ç‰‡å®½é«˜ï¼‰</p></blockquote><img src="https://s1.ax1x.com/2022/07/12/jg4omq.jpg" width="30%">]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> vue-cropperå›¾ç‰‡è£å‰ª </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡å°ç¨‹åºä¸Šä¼ æ–‡ä»¶</title>
      <link href="/MyBlog/wx-xiaochengxu-uploadfile/"/>
      <url>/MyBlog/wx-xiaochengxu-uploadfile/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å¼•é¢˜"><a href="#ä¸€ã€å¼•é¢˜" class="headerlink" title="ä¸€ã€å¼•é¢˜"></a>ä¸€ã€å¼•é¢˜</h2><blockquote><p>ğŸ¯ å‰è¨€ï¼šè¿™æ¬¡çš„éœ€æ±‚æ˜¯è¦åœ¨å°ç¨‹åºé‡Œä¸‹è½½æ¨¡æ¿æ–‡ä»¶ï¼Œç„¶åç¼–è¾‘å¥½æ•°æ®å†ä¸Šä¼ <br>è¿™é‡Œå°±æ¶‰åŠåˆ°å°ç¨‹åºçš„æ–‡ä»¶ä¸‹è½½ã€ä¿å­˜ã€ä¸Šä¼ ç­‰åŠŸèƒ½ã€‚é€šå¸¸æˆ‘ä»¬åœ¨å°ç¨‹åºä¸­å¤„ç†å›¾ç‰‡æ–‡ä»¶çš„ä¸Šä¼ ä¸‹è½½è¿˜æ˜¯å¾ˆokçš„ï¼Œä½†æ˜¯å¦‚æœæ˜¯pdf Excelç­‰æ–‡ä»¶å°±ä¼šç¨å¤æ‚ä¸€äº›ã€‚<br>ä¸ºä»€ä¹ˆä¼šå¤æ‚ä¸€äº›å‘¢ï¼Ÿå› ä¸ºæŒ‰ç…§æˆ‘ä»¬æƒ³æ³•ğŸ’¡åº”è¯¥æ˜¯ä»æœåŠ¡ç«¯ä¸‹è½½æ–‡ä»¶ï¼Œä¿å­˜åœ¨æœ¬åœ°ï¼Œç„¶åä¸Šä¼ æ—¶å†ä»æœ¬åœ°é€‰å–è¯¥æ–‡ä»¶å³å¯ã€‚<br>è€Œäº‹å®å´æ˜¯ï¼šåœ¨å¾®ä¿¡å°ç¨‹åºä¸­ï¼Œå­˜å‚¨æ–‡ä»¶æ˜¯æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ç©ºé—´ï¼Œè™½ç„¶æ˜¯åœ¨å¾®ä¿¡appçš„ç¼“å­˜ä¸­ä¹Ÿæ²¡åŠæ³•åšåˆ°ä¸‹è½½åå¿«æ·è¿›å…¥æ–‡ä»¶ç›®å½•é‡Œã€‚åŒæ—¶ï¼Œå®˜æ–¹æ–‡æ¡£ä¸­ä¹Ÿæœ‰è¯´æ˜ä¸å»ºè®®æŸ¥è¯¢æœ¬åœ°æ–‡ä»¶çš„å­˜å‚¨è·¯å¾„ï¼Œå› æ­¤æˆ‘ä»¬åªæœ‰é‡‡å–å…¶ä»–çš„æ–¹å¼æ¥å®ç°ã€‚<br><a href="https://developers.weixin.qq.com/miniprogram/dev/api/network/upload/wx.uploadFile.html">å¾®ä¿¡å°ç¨‹åºå¼€å‘æ–‡æ¡£</a></p></blockquote><h2 id="äºŒã€å¤„ç†æ–¹å¼"><a href="#äºŒã€å¤„ç†æ–¹å¼" class="headerlink" title="äºŒã€å¤„ç†æ–¹å¼"></a>äºŒã€å¤„ç†æ–¹å¼</h2><blockquote><p>1ã€ä¸‹è½½çš„æ–‡ä»¶æ²¡åŠæ³•å¿«æ·è¿›å…¥æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼Œé‚£æˆ‘ä»¬ä¸‹è½½å®Œå°±æ‰“å¼€é¢„è§ˆæ–‡ä»¶å‘¢ï¼Ÿç„¶åé€šè¿‡åˆ†äº«ï¼Œå°†æ–‡ä»¶ä¿å­˜åœ¨å¾®ä¿¡å®¢æˆ·ç«¯çš„ä¼šè¯ä¸­<br>2ã€åœ¨ç¼–è¾‘å®Œæ–‡ä»¶ä¹‹åï¼Œä»å¾®ä¿¡å®¢æˆ·ç«¯ä¼šè¯ä¸­é€‰å–è¦ä¸Šä¼ çš„æ–‡ä»¶å³å¯ï¼ˆè¿™æ ·æ—¢ä¸ç”¨æŸ¥è¯¢æœ¬åœ°æ–‡ä»¶å­˜å‚¨è·¯å¾„ä¹Ÿå¯ä»¥å®ç°éœ€æ±‚ï¼‰</p></blockquote><p>æŒ‰ç…§å®˜æ–¹æ–‡æ¡£æä¾›çš„API</p><ol><li><p>ä¸‹è½½æ–‡ä»¶ï¼Œå¹¶æ‰“å¼€æ–‡ä»¶é¢„è§ˆ</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// ä¸‹è½½æ–‡ä»¶-é¢„è§ˆæ–‡ä»¶</span><span class="token function">downloadTemp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  wx<span class="token punctuation">.</span><span class="token function">downloadFile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">xxx/xxxxx/test.xlsx</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><span class="token comment">// æ–‡ä»¶ä¸‹è½½è·¯å¾„</span>    <span class="token function">success</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>statusCode <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        wx<span class="token punctuation">.</span><span class="token function">openDocument</span><span class="token punctuation">(</span><span class="token punctuation">{</span>          filePath<span class="token operator">:</span> res<span class="token punctuation">.</span>tempFilePath<span class="token punctuation">,</span>          showMenu<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//å…³é”®ç‚¹ï¼ˆå±•ç¤ºå³ä¸Šè§’ä¸‰ä¸ªç‚¹ï¼Œå¯å°†æ–‡ä»¶åˆ†äº«å‡ºå»ï¼‰</span>          fileType<span class="token operator">:</span><span class="token string">'xlsx'</span><span class="token punctuation">,</span>          <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ‰“å¼€æ–‡æ¡£æˆåŠŸ'</span><span class="token punctuation">)</span>          <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>ä»å¾®ä¿¡å®¢æˆ·ç«¯ä¼šè¯ä¸­é€‰å–æ–‡ä»¶å¹¶ä¸Šä¼ </p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// ä¸Šä¼ æ–‡ä»¶  wx.uploadFile(Object object)</span> <span class="token function">uploadPersonFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">let</span> _this <span class="token operator">=</span> <span class="token keyword">this</span>   wx<span class="token punctuation">.</span><span class="token function">chooseMessageFile</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token comment">// ä»å¾®ä¿¡å®¢æˆ·ç«¯ä¼šè¯ä¸­é€‰å–æ–‡ä»¶</span>     count<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>     type<span class="token operator">:</span> <span class="token string">'file'</span><span class="token punctuation">,</span>     extension<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.xlsx'</span><span class="token punctuation">,</span> <span class="token string">'.xls'</span><span class="token punctuation">,</span> <span class="token string">'.XLSX'</span><span class="token punctuation">,</span> <span class="token string">'.XLS'</span><span class="token punctuation">,</span> <span class="token string">'xlsx'</span><span class="token punctuation">,</span> <span class="token string">'xls'</span><span class="token punctuation">,</span> <span class="token string">'XLSX'</span><span class="token punctuation">,</span> <span class="token string">'XLS'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>     <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token keyword">const</span> tempFilePaths <span class="token operator">=</span> res<span class="token punctuation">.</span>tempFiles <span class="token comment">// è¿”å›çš„æ˜¯æ•°ç»„ï¼Œæ”¯æŒå¤šæ–‡ä»¶ä¸Šä¼ ï¼Œå¯ä»¥è®¾ç½®countå‚æ•°</span>       wx<span class="token punctuation">.</span><span class="token function">uploadFile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>         url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">xxxxxxxx/upload</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><span class="token comment">// æ–‡ä»¶ä¸Šä¼ è·¯å¾„</span>         filePath<span class="token operator">:</span> tempFilePaths<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>path<span class="token punctuation">,</span><span class="token comment">// è¦ä¸Šä¼ æ–‡ä»¶èµ„æºçš„è·¯å¾„ (æœ¬åœ°è·¯å¾„)</span>         name<span class="token operator">:</span> <span class="token string">'doc'</span><span class="token punctuation">,</span><span class="token comment">// æ–‡ä»¶å¯¹åº”çš„åå­— keyï¼Œä¸æœåŠ¡ç«¯å‚æ•°åä¸€è‡´å³å¯</span>         formData<span class="token operator">:</span> <span class="token punctuation">{</span>           <span class="token string">'doc'</span><span class="token operator">:</span> tempFilePaths<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>path         <span class="token punctuation">}</span><span class="token punctuation">,</span>         header<span class="token operator">:</span> <span class="token punctuation">{</span>           token<span class="token operator">:</span> wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>         <span class="token punctuation">}</span><span class="token punctuation">,</span>         <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>           console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è·å–è¿”å›çš„æ•°æ®ä¿¡æ¯'</span><span class="token punctuation">,</span>resp<span class="token punctuation">)</span>           <span class="token keyword">if</span> <span class="token punctuation">(</span>resp<span class="token punctuation">.</span>statusCode <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>               console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ–‡ä»¶ä¸Šä¼ æˆåŠŸ'</span><span class="token punctuation">)</span>           <span class="token punctuation">}</span>         <span class="token punctuation">}</span>       <span class="token punctuation">}</span><span class="token punctuation">)</span>     <span class="token punctuation">}</span>   <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h2></li></ol><blockquote><p>è¸©å‘æç¤ºï¼š<br>1ã€wx.openDocument é¢„è§ˆæ–‡ä»¶æ—¶ï¼Œå¦‚æœä¸æŒ‡å®šé¢„è§ˆæ–‡ä»¶ç±»å‹ fileType:â€™xlsxâ€™<a href="https://developers.weixin.qq.com/miniprogram/dev/api/file/wx.openDocument.html">æ–‡ä»¶ç±»å‹å€¼å‚è€ƒ</a> å°±ä¼šå‡ºç°å¼‚å¸¸æç¤ºï¼š{errMsg: â€œopenDocument:fail filetype not supportedâ€}<br>2ã€ wx.uploadFile ä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œå¦‚æœæœ‰ä½¿ç”¨åˆ° this å…³é”®å­—ï¼Œéœ€è¦åœ¨æ–¹æ³•å‰å®šä¹‰å¥½å˜é‡ä¿å­˜ this (ä½œç”¨åŸŸé—®é¢˜)ï¼Œä¸ç„¶å¯èƒ½ä¼šå‡ºç°å¼‚å¸¸ï¼šTypeError: Cannot read property â€˜xxxâ€™ of undefined</p></blockquote><img src="https://s1.ax1x.com/2022/07/12/jg4omq.jpg" width="30%">]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> å¾®ä¿¡å°ç¨‹åº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¾®ä¿¡å°ç¨‹åº </tag>
            
            <tag> upload </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3 å¼•å…¥ Echart</title>
      <link href="/MyBlog/client-vue3-echarts/"/>
      <url>/MyBlog/client-vue3-echarts/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€Vue3-å¼•å…¥-Echart"><a href="#ä¸€ã€Vue3-å¼•å…¥-Echart" class="headerlink" title="ä¸€ã€Vue3 å¼•å…¥ Echart"></a>ä¸€ã€Vue3 å¼•å…¥ Echart</h2><blockquote><p>ğŸ¯ Echarts ç‰ˆæœ¬5+ æ›´æ–°åå¼•å…¥æ–¹å¼ä¹Ÿå‘ç”Ÿäº†ä¸€ç‚¹å°æ”¹å˜<br>è€ç‰ˆæœ¬ï¼šimport echarts from â€˜echartsâ€™<br>5+ç‰ˆæœ¬ï¼šimport * as echarts from â€˜echartsâ€™<br>è¯¦æƒ…å‚ç…§<a href="https://echarts.apache.org/handbook/zh/basics/import">Echartså®˜ç½‘</a></p></blockquote><h3 id="1-å®‰è£…echartsä¾èµ–"><a href="#1-å®‰è£…echartsä¾èµ–" class="headerlink" title="1. å®‰è£…echartsä¾èµ–"></a>1. å®‰è£…echartsä¾èµ–</h3><pre class="line-numbers language-none"><code class="language-none">npm i echarts<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="2-åœ¨é¡µé¢ä¸Šä½¿ç”¨"><a href="#2-åœ¨é¡µé¢ä¸Šä½¿ç”¨" class="headerlink" title="2. åœ¨é¡µé¢ä¸Šä½¿ç”¨"></a>2. åœ¨é¡µé¢ä¸Šä½¿ç”¨</h3><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">import * as echarts from 'echarts'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>æ³¨æ„ï¼šå¦‚æœå¼•å…¥æ–¹å¼å‡ºé”™å¯èƒ½ä¼šå¯¼è‡´echarts.init()æ–¹æ³•æŠ¥é”™<br>æŠ¥é”™ä¿¡æ¯ï¼šCannot read property â€˜initâ€™ of undefined</p></blockquote><h3 id="3-å®šä¹‰åˆå§‹åŒ–å‡½æ•°æ¸²æŸ“å›¾è¡¨"><a href="#3-å®šä¹‰åˆå§‹åŒ–å‡½æ•°æ¸²æŸ“å›¾è¡¨" class="headerlink" title="3. å®šä¹‰åˆå§‹åŒ–å‡½æ•°æ¸²æŸ“å›¾è¡¨"></a>3. å®šä¹‰åˆå§‹åŒ–å‡½æ•°æ¸²æŸ“å›¾è¡¨</h3><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">&lt;script lang="ts" setup&gt;import * as echarts from 'echarts'type EChartsOption = echarts.EChartsOption// é¥¼å›¾const myPieLoad = () =&gt; {    var myChart = echarts.init(document.getElementById('main'))    var option: EChartsOption    option = {        dataset: [            {                source: [                    ['Product', 'Sales', 'Price', 'Year'],                    ['Cake', 123, 32, 2011],                    ['Cereal', 231, 14, 2011],                    ['Tofu', 235, 5, 2011],                    ['Dumpling', 341, 25, 2011],                    ['Biscuit', 122, 29, 2011],                    ['Cake', 143, 30, 2012],                    ['Cereal', 201, 19, 2012],                    ['Tofu', 255, 7, 2012],                    ['Dumpling', 241, 27, 2012],                    ['Biscuit', 102, 34, 2012],                    ['Cake', 153, 28, 2013],                    ['Cereal', 181, 21, 2013],                    ['Tofu', 395, 4, 2013],                    ['Dumpling', 281, 31, 2013],                    ['Biscuit', 92, 39, 2013],                ]            },            {                transform: {                    type: 'filter',                    config: { dimension: 'Year', value: 2011 }                }            },            {                transform: {                    type: 'filter',                    config: { dimension: 'Year', value: 2012 }                }            },            {                transform: {                    type: 'filter',                    config: { dimension: 'Year', value: 2013 }                }            }        ],        series: [            {            type: 'pie',            radius: 50,            center: ['50%', '25%'],            datasetIndex: 1            },            {            type: 'pie',            radius: 50,            center: ['50%', '50%'],            datasetIndex: 2            },            {            type: 'pie',            radius: 50,            center: ['50%', '75%'],            datasetIndex: 3            }        ],        media: [            {            query: { minAspectRatio: 1 },            option: {                series: [                { center: ['25%', '50%'] },                { center: ['50%', '50%'] },                { center: ['75%', '50%'] }                ]            }            },            {            option: {                series: [                { center: ['50%', '25%'] },                { center: ['50%', '50%'] },                { center: ['50%', '75%'] }                ]            }            }        ]    }    option &amp;&amp; myChart.setOption(option)}// å½“é¡µé¢DOMå…ƒç´ æŒ‚è½½å®Œæ¯•ä¹‹åå¼€å§‹è°ƒç”¨é¥¼å›¾çš„åˆå§‹åŒ–å‡½æ•°onMounted(() =&gt; {    myPieLoad()})&lt;/script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>é¡µé¢htmlåªéœ€è¦æ”¾ç½®ä¸€ä¸ªdivæ ‡ç­¾ç”¨æ¥å±•ç¤ºé¥¼å›¾å³å¯</p></blockquote><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>main<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>å¦‚æœå‡ºç°é”™è¯¯ä¿¡æ¯ï¼šInitialize failed: invalid dom<br>domåŠ è½½å‡ºç°çš„é—®é¢˜ï¼Œé‚£ä¹ˆå¯èƒ½å°±æ˜¯é¡µé¢åœ¨domå…ƒç´ è¿˜æ²¡åŠ è½½å®Œå°±æ‰§è¡Œäº†echarts.init(document.getElementById(â€˜mainâ€™))<br>è€ŒVue3 çš„ setup ä¸­ç›´æ¥è°ƒç”¨ï¼Œæ˜¯åœ¨é¡µé¢åˆå§‹åŒ–æ—¶å°±è°ƒç”¨äº†ï¼ˆbeforeCreat / createdï¼‰<br>å› æ­¤å¼ºçƒˆå»ºè®®åœ¨ onMounted ä¸­å¯¹å›¾è¡¨è¿›è¡Œåˆå§‹åŒ–æ¸²æŸ“ï¼Œç»„è£…æ•°æ®å¯ä»¥åœ¨é¡µé¢åŠ è½½æ—¶å‘æœåŠ¡ç«¯è¯·æ±‚æ•°æ®ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Element+ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨ç§æœåˆ›å»ºç§æœ‰åº“</title>
      <link href="/MyBlog/server-private-library/"/>
      <url>/MyBlog/server-private-library/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å¼•é¢˜"><a href="#ä¸€ã€å¼•é¢˜" class="headerlink" title="ä¸€ã€å¼•é¢˜"></a>ä¸€ã€å¼•é¢˜</h2><blockquote><p>ğŸ¯ å¹³æ—¶ç¼–ç¨‹éƒ½ä¼šæœ‰æŒ‡å®šçš„ä»“åº“å­˜å‚¨ä»£ç ï¼Œé™¤äº†ä¸€äº›å…¬å¼€çš„ï¼Œæ¯”å¦‚ç äº‘ã€GitHubç­‰<br>ä¹Ÿæœ‰åœ¨å…¬å¸è‡ªå·±çš„æœåŠ¡å™¨ä¸Šæ­å»ºçš„gitä»“åº“ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•å°†ä»£ç ä¸Šä¼ åˆ°æˆ‘ä»¬è‡ªå·±æœåŠ¡å™¨çš„ç§æœ‰åº“ä¸Šå‘¢ï¼Ÿ<br>å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p></blockquote><h2 id="äºŒã€å°†ä»£ç ä¸Šä¼ åˆ°è‡ªå·±æœåŠ¡å™¨çš„ç§æœ‰åº“"><a href="#äºŒã€å°†ä»£ç ä¸Šä¼ åˆ°è‡ªå·±æœåŠ¡å™¨çš„ç§æœ‰åº“" class="headerlink" title="äºŒã€å°†ä»£ç ä¸Šä¼ åˆ°è‡ªå·±æœåŠ¡å™¨çš„ç§æœ‰åº“"></a>äºŒã€å°†ä»£ç ä¸Šä¼ åˆ°è‡ªå·±æœåŠ¡å™¨çš„ç§æœ‰åº“</h2><h3 id="1-æœåŠ¡å™¨ç¯å¢ƒ"><a href="#1-æœåŠ¡å™¨ç¯å¢ƒ" class="headerlink" title="1.æœåŠ¡å™¨ç¯å¢ƒ"></a>1.æœåŠ¡å™¨ç¯å¢ƒ</h3><blockquote><p>å®‰è£… git<br>é…ç½®gitçš„SSHè®¿é—®</p></blockquote><h3 id="2-æœ¬åœ°åˆ›å»ºé¡¹ç›®å¹¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ç§æœ‰åº“"><a href="#2-æœ¬åœ°åˆ›å»ºé¡¹ç›®å¹¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ç§æœ‰åº“" class="headerlink" title="2.æœ¬åœ°åˆ›å»ºé¡¹ç›®å¹¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ç§æœ‰åº“"></a>2.æœ¬åœ°åˆ›å»ºé¡¹ç›®å¹¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ç§æœ‰åº“</h3><blockquote><p>aã€æœ¬åœ°å®¢æˆ·ç«¯éªŒè¯è¿æ¥ï¼ˆè¾“å…¥rootè´¦å·çš„å¯†ç è¿æ¥æœåŠ¡å™¨ï¼‰</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js">ssh root@æœåŠ¡å™¨åœ°å€<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>bã€è¿›å…¥åˆ°æŒ‡å®šçš„ç›®å½•ä¸‹åˆ›å»ºç§æœ‰åº“</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 1ã€åˆ›å»ºç§æœ‰åº“ï¼š</span>mkdir repository<span class="token punctuation">.</span>git<span class="token comment">// 2ã€å°†ç§æœ‰åº“è®¾ç½®ä¸ºgitç”¨æˆ·æ‰€æœ‰ï¼š</span>chown <span class="token operator">-</span><span class="token constant">R</span> git<span class="token operator">:</span>git repository<span class="token punctuation">.</span>git<span class="token comment">// 3ã€è¿›å…¥ç§æœ‰ä»“åº“ï¼š</span>cd repository<span class="token punctuation">.</span>git<span class="token comment">// 4ã€åˆå§‹åŒ–gitä»“åº“ï¼š</span>git init <span class="token operator">-</span> <span class="token operator">-</span>bare<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>cã€å°†æœ¬åœ°é¡¹ç›®åˆå§‹åŒ–å…³è”å¹¶ä¸Šä¼ ä»“åº“</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆå§‹åŒ–é¡¹ç›®ï¼š</span>git init<span class="token comment">// å…³è”è¿œç¨‹ä»“åº“ï¼š</span>git remote add origin è¿œç¨‹ä»“åº“åœ°å€<span class="token comment">// (å…³è”ä¸Šè¿œç¨‹ä»“åº“åè¿›å…¥.gitignoreæ–‡ä»¶ä¸‹çœ‹çœ‹è¯¥å¿½ç•¥ä¸Šä¼ çš„æ–‡ä»¶ç›®å½•æ˜¯å¦å·²ç»å¿½ç•¥)æ·»åŠ æ‰€æœ‰æ–‡ä»¶(é™¤å¿½ç•¥æ–‡ä»¶ä¹‹å¤–)ï¼š</span>git add <span class="token punctuation">.</span><span class="token comment">// æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼š</span>git commit <span class="token operator">-</span>m <span class="token string">"å¤‡æ³¨ä¿¡æ¯"</span><span class="token comment">// æ¨é€è‡³è¿œç¨‹ä»“åº“ï¼š</span>git push <span class="token operator">-</span>u origin master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¡¥å……ï¼š</p><p>ç§æœ‰åº“è®¾ä¸ºgitç”¨æˆ·æ‰€æœ‰ï¼šchown -R ç”¨æˆ·:ç”¨æˆ·ç»„ repository.git</p><p>æŸ¥è¯¢æ–‡ä»¶æƒé™ï¼šls -l</p><p>æ ¹æ®ç«¯å£å·æŸ¥çœ‹å¯¹åº”çš„è¿›ç¨‹ï¼ˆè¿è¡Œçš„é¡¹ç›®ï¼‰ï¼šnetstat -apn|grep 6011ï¼ˆç«¯å£ï¼‰</p><p>é€€å‡ºè¿œç¨‹ç™»å½•ï¼šCtrl + D</p><img src="https://s6.jpg.cm/2021/12/08/LdjvgX.png" width="40%">]]></content>
      
      
      <categories>
          
          <category> server </category>
          
          <category> repository </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> ç§æœ‰åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡å°ç¨‹åºçˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•</title>
      <link href="/MyBlog/xiaochengxu-parent-child/"/>
      <url>/MyBlog/xiaochengxu-parent-child/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å¾®ä¿¡å°ç¨‹åºçˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•"><a href="#ä¸€ã€å¾®ä¿¡å°ç¨‹åºçˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•" class="headerlink" title="ä¸€ã€å¾®ä¿¡å°ç¨‹åºçˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•"></a>ä¸€ã€å¾®ä¿¡å°ç¨‹åºçˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•</h2><h3 id="1-åœ¨å­ç»„ä»¶çš„methodsé‡Œå®šä¹‰æ–¹æ³•"><a href="#1-åœ¨å­ç»„ä»¶çš„methodsé‡Œå®šä¹‰æ–¹æ³•" class="headerlink" title="1.åœ¨å­ç»„ä»¶çš„methodsé‡Œå®šä¹‰æ–¹æ³•"></a>1.åœ¨å­ç»„ä»¶çš„methodsé‡Œå®šä¹‰æ–¹æ³•</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    data<span class="token operator">:</span> <span class="token punctuation">{</span>        selectSizeShow<span class="token operator">:</span><span class="token boolean">false</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    properties<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span> <span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    methods<span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token function">selectSizeshowPopup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> selectSizeShow<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token function">selectSizeonClose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> selectSizeShow<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-çˆ¶ç»„ä»¶è°ƒç”¨"><a href="#2-çˆ¶ç»„ä»¶è°ƒç”¨" class="headerlink" title="2.çˆ¶ç»„ä»¶è°ƒç”¨"></a>2.çˆ¶ç»„ä»¶è°ƒç”¨</h3><blockquote><p>åœ¨wxmlé‡Œå®šä¹‰ä¸€ä¸ªidå”¯ä¸€æ ‡è¯†<br>showSelectSize ç”¨æ¥è§¦å‘å­ç»„ä»¶çš„æ–¹æ³•<br>çˆ¶ç»„ä»¶index.jsä¸­é€šè¿‡idæ ‡è¯†è·å–å­ç»„ä»¶å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>selectSize id<span class="token operator">=</span><span class="token string">"selectSize"</span> options<span class="token operator">=</span><span class="token string">"{{optionsSize}}"</span> atSize<span class="token operator">=</span><span class="token string">"{{atSize}}"</span>  bind<span class="token operator">:</span>switchSize<span class="token operator">=</span><span class="token string">"switchSize"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>selectSize<span class="token operator">&gt;</span><span class="token operator">&lt;</span>van<span class="token operator">-</span>icon name<span class="token operator">=</span><span class="token string">"setting-o"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"headerIcon"</span> bindtap<span class="token operator">=</span><span class="token string">"showSelectSize"</span><span class="token operator">/</span><span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    data<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span> <span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// æ¿€æ´»åˆ‡æ¢åˆ†è¾¨ç‡/å°ºå¯¸çš„ç»„ä»¶</span>    <span class="token function">showSelectSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">var</span> selectSizeObj <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">selectComponent</span><span class="token punctuation">(</span><span class="token string">"#selectSize"</span><span class="token punctuation">)</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>selectSizeObj<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token comment">//å­ç»„ä»¶çš„æ•°æ®</span>        selectSizeObj<span class="token punctuation">.</span><span class="token function">selectSizeshowPopup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//å­ç»„ä»¶çš„æ–¹æ³•</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å°ç¨‹åº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å°ç¨‹åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>el-uploadè‡ªå®šä¹‰æ–‡ä»¶ä¸Šä¼ </title>
      <link href="/MyBlog/element-upload-file/"/>
      <url>/MyBlog/element-upload-file/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€ä¸ºå•¥ä¼šæœ‰è¿™ç¯‡çƒ‚æ–‡"><a href="#ä¸€ã€ä¸ºå•¥ä¼šæœ‰è¿™ç¯‡çƒ‚æ–‡" class="headerlink" title="ä¸€ã€ä¸ºå•¥ä¼šæœ‰è¿™ç¯‡çƒ‚æ–‡"></a>ä¸€ã€ä¸ºå•¥ä¼šæœ‰è¿™ç¯‡çƒ‚æ–‡</h2><blockquote><p>ğŸ¯ æœ€è¿‘æ²¡æœ‰ä»€ä¹ˆå¯ä»¥è¾“å…¥çš„åšå®¢ï¼Œä½†æ˜¯åˆä¸æƒ³æŒç»­æ–­æ›´ï¼Œæ‰€ä»¥å°±æœ‰äº†ğŸ‘‡ä¸‹é¢è¿™ç¯‡æ–‡ç« æ¥å‡‘å­—æ•°äº†<br>ä»Šå¤©å†™ç‚¹å¸¸è§çš„é—®é¢˜å§ï¼æ–‡ä»¶ä¸Šä¼ ï¼Œè™½ç„¶UIæ¡†æ¶å·²ç»æä¾›ç»™æˆ‘ä»¬å¾ˆå®Œå–„çš„æ–‡ä»¶ä¸Šä¼ ç»„ä»¶äº†ï¼Œä½†æ˜¯å¤§å¤šæ•°æ—¶å€™æˆ‘ä»¬è¿˜æ˜¯éœ€è¦è‡ªå®šä¹‰ä¸Šä¼ æ–¹æ³•æ¥å®ç°å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚<br>çœ‹å®Œç¬¬äºŒå¥è¯å…¶å®ï¼Œä¸‹æ–‡å°±å¯ä»¥çœç•¥äº†ã€‚ï¼ˆå¦‚æœæ‚¨æ­£å¥½æœ‰ç©ºï¼Œæ„¿æ„èµå…‰çœ‹å®Œä¸‹é¢çš„åºŸè¯æ–‡å­—ï¼Œå°ç¼–è¡¨ç¤ºä¸‡åˆ†çš„æ„Ÿè°¢ğŸ™ï¼‰</p></blockquote><h2 id="äºŒã€å›å½’æ­£é¢˜"><a href="#äºŒã€å›å½’æ­£é¢˜" class="headerlink" title="äºŒã€å›å½’æ­£é¢˜"></a>äºŒã€å›å½’æ­£é¢˜</h2><h3 id="1-elementå®˜ç½‘API"><a href="#1-elementå®˜ç½‘API" class="headerlink" title="1. elementå®˜ç½‘API"></a>1. elementå®˜ç½‘API</h3><p>è€è§„çŸ©å…ˆæ¥è´´ä¸€ä¸ªå®˜ç½‘é“¾æ¥ï¼š<a href="https://element.eleme.cn/#/zh-CN/component/upload">ElementUI æ–‡ä»¶ä¸Šä¼ </a><br>æœ‰éœ€è¦çš„è‡ªè¡Œä¸‹å•å“ˆå“ˆå“ˆå“ˆå“ˆ</p><h3 id="2-å…·ä½“å®ç°"><a href="#2-å…·ä½“å®ç°" class="headerlink" title="2. å…·ä½“å®ç°"></a>2. å…·ä½“å®ç°</h3><blockquote><p>1ã€é…ç½®å¥½ç»„ä»¶çš„å¿…è¦å±æ€§å€¼ï¼Œæ¯”å¦‚ï¼šactionã€acceptã€auto-uploadã€on-changeç­‰<br>2ã€è‡ªå®šä¹‰æ–‡ä»¶ä¸Šä¼ ã€æäº¤æ–¹æ³•ï¼Œè¦†ç›– http-request å¯¹åº”çš„ä¸Šä¼ æ–¹æ³•<br>3ã€å®ç°è‡ªå®šä¹‰çš„æ–¹æ³•<br>4ã€å¦‚æœæ˜¯æ‰¹é‡ä¸Šä¼ åˆ™éœ€è¦é…åˆï¼Œon-changeã€on-removeæ¥è·å–ä¸Šä¼ æ–‡ä»¶listã€‚å› ä¸ºel-uploadæ˜¯é€šè¿‡æ¨¡æ‹Ÿè¡¨å•æ¥ä¸Šä¼ æ–‡ä»¶çš„ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬new FormData() å°†æ–‡ä»¶åˆ—è¡¨appendåˆ°è¡¨å•ä¸­å†æäº¤</p></blockquote><pre class="line-numbers language-none"><code class="language-none"> &lt;el-upload   accept=".jpg,.png,.jepg,.bmp"   class="avatar-uploader"   action="api/picture/xxx"   :show-file-list="false"   :http-request="uploadSectionFile"   :auto-upload="true"   :on-change="handleChange"   :file-list="fileList" &gt;   &lt;img :src="imageUrl" class="avatar"/&gt;&lt;/el-upload&gt; &lt;el-button type="primary" @click="submitUpload"&gt;æäº¤&lt;/el-button&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// æ·»åŠ æ–‡ä»¶ã€æ–‡ä»¶çŠ¶æ€æ”¹å˜æ—¶çš„é’©å­ï¼Œæ·»åŠ æ–‡ä»¶ã€ä¸Šä¼ æˆåŠŸå’Œä¸Šä¼ å¤±è´¥æ—¶éƒ½ä¼šè¢«è°ƒç”¨ã€‘</span><span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> fileList</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  fileList <span class="token operator">=</span> fileList<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    obj<span class="token punctuation">[</span>next<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> obj<span class="token punctuation">[</span>next<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> item<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>imageUrl <span class="token operator">=</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>raw<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// è‡ªå®šä¹‰ä¸Šä¼ æ–¹æ³•</span><span class="token function">uploadSectionFile</span><span class="token punctuation">(</span><span class="token parameter">param</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> fileObj <span class="token operator">=</span> param<span class="token punctuation">.</span>file<span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>formObj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>formObj<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'image'</span><span class="token punctuation">,</span> fileObj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">// æäº¤ä¸Šä¼ å›¾ç‰‡</span><span class="token function">submitUpload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">API_HOST</span> <span class="token operator">+</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">picture/xxx?params1=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>params1<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;color=+</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>formObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>result_code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// å›¾ç‰‡ä¸Šä¼ æˆåŠŸ</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>url<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>      <span class="token comment">// ä¸Šä¼ å¤±è´¥</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>aã€auto-upload æ˜¯å¦åœ¨é€‰å–æ–‡ä»¶åç«‹å³è¿›è¡Œä¸Šä¼ ï¼Œé»˜è®¤ä¸ºtrueã€‚ä¸Šä¼ æ–‡ä»¶åä¼šè‡ªåŠ¨è§¦å‘ä¸Šä¼ æ–¹æ³•<br>bã€å¤šæ–‡ä»¶ä¸Šä¼ ï¼Œå¦‚æœå°†æäº¤æ–¹æ³•åœ¨è‡ªå®šä¹‰ä¸Šä¼  http-request ä¸­å®ç°ï¼Œä¼šæŒ‰ç…§æ–‡ä»¶æ•°é‡å‘é€å¤šæ¬¡è¯·æ±‚ã€‚ï¼ˆå¦‚æœæ˜¯åŒä¸€ä¸ªæ–‡ä»¶ç‚¹å‡»å¤šæ¬¡æäº¤ï¼Œå‘é€è¯·æ±‚ä¹Ÿåªæœ‰ç¬¬ä¸€æ¬¡ç‚¹å‡»æ—¶å‡ºå‘ï¼‰ä¸€æ¬¡æäº¤ä¸Šä¼ å¤šä¸ªæ–‡ä»¶éœ€è¦å°†å…¶ä¸Šä¼ ä¸æäº¤åˆ†å¼€å®ç°ï¼Œä¸Šä¼ æ–‡ä»¶å¤„ç†æ–‡ä»¶liståˆ—è¡¨ï¼Œæäº¤ä¸Šä¼ åˆ™å°†å‚æ•°ä¸€æ¬¡æäº¤åˆ°åå°å¤„ç†</p></blockquote><p><img src="https://s4.ax1x.com/2022/02/11/HU5hu9.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue </category>
          
          <category> ElementUI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> ElementUI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NodeJSåŒ…ç®¡ç†å·¥å…· n çš„ä½¿ç”¨</title>
      <link href="/MyBlog/nodejs-package-note/"/>
      <url>/MyBlog/nodejs-package-note/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€NodeJSåŒ…ç®¡ç†å·¥å…·-n-çš„ä½¿ç”¨"><a href="#ä¸€ã€NodeJSåŒ…ç®¡ç†å·¥å…·-n-çš„ä½¿ç”¨" class="headerlink" title="ä¸€ã€NodeJSåŒ…ç®¡ç†å·¥å…· n çš„ä½¿ç”¨"></a>ä¸€ã€NodeJSåŒ…ç®¡ç†å·¥å…· n çš„ä½¿ç”¨</h2><blockquote><p>åœ¨åšé¡¹ç›®è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶å€™ä¼šé‡åˆ°ä¸€äº›ä¾èµ–åŒ…åªèƒ½åœ¨æŒ‡å®šçš„ç¯å¢ƒä¸‹ä½¿ç”¨<br>æ¯”å¦‚ï¼š<a href="https://github.com/sass/node-sass/releases/tag/v4.14.1">node-sass</a><br>åœ¨OSXç¯å¢ƒä¸‹nodejsç‰ˆæœ¬å¿…é¡»åœ¨14åŠä¸€ä¸‹çš„ç‰ˆæœ¬æ‰èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œè€Œå®˜ç½‘æœ€æ–°ç¨³å®šç‰ˆç›®å‰å·²ç»æ˜¯18äº†</p></blockquote><p>å‡ºç°ä»¥ä¸Šè¿™ç§æƒ…å†µä¸ºäº†å…¼å®¹ä½ç‰ˆï¼Œæˆ‘ä»¬åªèƒ½é€šè¿‡åŒ…ç®¡ç†å·¥å…· n æ¥åˆ‡æ¢æœ¬åœ°å¼€å‘ç¯å¢ƒï¼šnodejsç‰ˆæœ¬<br>å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p><blockquote><p>1ã€æŸ¥çœ‹æœ¬æœºnodejsç‰ˆæœ¬ï¼šn ls<br>2ã€åˆ—å‡ºnodejså®˜ç½‘ç‰ˆæœ¬ï¼šn lsr / n lsr â€“all<br>3ã€ä¸‹è½½å®˜ç½‘æœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼šsudo n lts<br>4ã€ä¸‹è½½æŒ‡å®šç‰ˆæœ¬(ä¸‹è½½ã€åˆ‡æ¢nodejsç‰ˆæœ¬ï¼Œéœ€è¦sudoæ‰§è¡Œ)ï¼šsudo n install v14.19.3<br>5ã€åˆ‡æ¢nodejsç‰ˆæœ¬ï¼šsudo n</p></blockquote><blockquote><p>é€šè¿‡up/downé€‰ä¸­éœ€è¦çš„ç‰ˆæœ¬ï¼Œå›è½¦å³å¯åˆ‡æ¢<br>é€šè¿‡ node -v ç¡®è®¤ç‰ˆæœ¬æ˜¯å¦åˆ‡æ¢æˆåŠŸ</p></blockquote><p>ç®€å•çš„åšä¸ªå°ç¬”è®°ï½</p><p><img src="./table.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> nodejs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nodejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŠ¨æ€åŠ è½½ç³»ç»Ÿæ–‡å­—</title>
      <link href="/MyBlog/client-dynamicloading-font/"/>
      <url>/MyBlog/client-dynamicloading-font/</url>
      
        <content type="html"><![CDATA[<img src="https://s6.jpg.cm/2021/12/07/LQe3WG.jpg" width="90%"><h2 id="ä¸€ã€éœ€æ±‚"><a href="#ä¸€ã€éœ€æ±‚" class="headerlink" title="ä¸€ã€éœ€æ±‚"></a>ä¸€ã€éœ€æ±‚</h2><blockquote><p>ğŸ¯ ç³»ç»Ÿä¸­éœ€è¦ç”¨åˆ°ä¸åŒå­—ä½“æ–‡ä»¶ï¼Œä¸”å¯ä»¥éšæ—¶å¢åŠ æ–°çš„å­—ä½“æ–‡ä»¶<br>ä¸ºäº†æ–¹ä¾¿æ‹“å±•ç»´æŠ¤ï¼Œå°†å­—ä½“æ–‡ä»¶æ”¾åœ¨æœåŠ¡ç«¯ï¼Œå‰ç«¯åœ¨ç³»ç»Ÿåˆå§‹åŒ–çš„æ—¶å€™å»è¯·æ±‚æ¥å£è·å–æ‰€æœ‰çš„å­—ä½“æ–‡ä»¶â€¦<br>è¯¦ç»†æ­¥éª¤å¦‚ä¸‹ï¼š<br>1ã€å°†å­—ä½“æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡ç«¯ï¼ˆcdnåŠ é€Ÿï¼‰åç»­æ‹“å±•åªéœ€è¦å°†æ–°çš„å­—ä½“æ–‡ä»¶ä¸Šä¼ è‡³æœåŠ¡ç«¯å³å¯<br>2ã€å‰ç«¯é€šè¿‡æ¥å£è·å–å­—ä½“æ–‡ä»¶çš„urlåŠåç§°ç­‰ä¿¡æ¯<br>3ã€åœ¨æ¥å£ä¸­ç”¨jsåŠ¨æ€ç”Ÿæˆstyleæ ‡ç­¾ï¼Œå¹¶åŠ¨æ€ç»„è£…å­—ä½“csså­—ç¬¦ä¸²ï¼Œå°†å…¶æ·»åŠ åˆ°styleæ ‡ç­¾ä¸­<br>4ã€åœ¨ç³»ç»Ÿåˆå§‹åŒ–åè°ƒç”¨æ¥å£å³å¯</p></blockquote><h2 id="äºŒã€å®ç°"><a href="#äºŒã€å®ç°" class="headerlink" title="äºŒã€å®ç°"></a>äºŒã€å®ç°</h2><blockquote><p>å¹³æ—¶æˆ‘ä»¬åœ¨ç³»ç»Ÿä¸­å¼•å…¥é™æ€å­—ä½“èµ„æºï¼Œæ–°å»ºcss/scssæ–‡ä»¶ï¼Œå°†æœ¬åœ°é™æ€èµ„æºå¼•å…¥css/scssä¸­ã€‚åœ¨é¡µé¢ä½¿ç”¨æ—¶ import æŒ‡å®šçš„å­—ä½“css/scssæ–‡ä»¶å³å¯</p></blockquote><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">{</span>       <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'KaiTi'</span><span class="token punctuation">;</span> <span class="token comment">/**é‡å‘½åå­—ä½“å**/</span>       <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'./KaiTi.ttf'</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span> <span class="token comment">/**æœ¬åœ°èµ„æºç›¸å¯¹è·¯å¾„**/</span>       <span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>       <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">{</span>       <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'HeiTi'</span><span class="token punctuation">;</span>       <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'./HeiTi.ttf'</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>       <span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>       <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">{</span>       <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'SongTi'</span><span class="token punctuation">;</span>       <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'./SongTi.ttf'</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>       <span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>       <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">{</span>       <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'WeiTi'</span><span class="token punctuation">;</span>       <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'./WeiTi.ttf'</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>       <span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>       <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>åŠ¨æ€å¼•å…¥å­—ä½“æ–‡ä»¶åˆ™éœ€è¦å°†ä»¥ä¸Šæ“ä½œç”¨jsåŠ¨æ€ç”Ÿæˆ</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// å¼•å…¥ axios</span><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span><span class="token comment">// å­—ä½“æ•°ç»„ï¼šå®šä¹‰å­—ä½“æ•°ç»„</span><span class="token keyword">export</span> <span class="token keyword">let</span> fontfamilys <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// è¯·æ±‚æ¥å£è·å–å­—ä½“ä¿¡æ¯</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getFonts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">API_HOST</span> <span class="token operator">+</span> <span class="token string">'api/getFonts'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token comment">// è·å–å­—ä½“ä¿¡æ¯ res.data.fonts</span>          <span class="token comment">// åˆ›å»ºstyleæ ‡ç­¾ï¼Œå¹¶è®¾ç½®type</span>          <span class="token keyword">const</span> fontStyle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          fontStyle<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text/css'</span><span class="token punctuation">;</span>          <span class="token comment">// åŠ¨æ€ç»„è£…å­—ä½“csså­—ç¬¦ä¸²</span>          <span class="token keyword">let</span> fonts <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>fonts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">m</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>              <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@font-face {font-family: '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>m<span class="token punctuation">.</span>font<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">'; src: url('</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> flag <span class="token operator">?</span> m<span class="token punctuation">.</span>oss <span class="token operator">:</span> localServerUrl <span class="token operator">+</span> m<span class="token punctuation">.</span>path <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">');font-weight: normal;font-style: normal;}</span><span class="token template-punctuation string">`</span></span>          <span class="token punctuation">}</span><span class="token punctuation">)</span>          fontStyle<span class="token punctuation">.</span>innerText <span class="token operator">=</span> fonts<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// å°†styleæ ‡ç­¾è¿½åŠ åˆ°headæ ‡ç­¾ä¸­</span>          document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'head'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>fontStyle<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// ç»„è£…å­—ä½“ç±»åˆ«æ•°ç»„</span>          fontfamilys <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>fonts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">m</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> m<span class="token punctuation">.</span>name<span class="token punctuation">,</span> value<span class="token operator">:</span> m<span class="token punctuation">.</span>font <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å¼€å§‹åŠ è½½å­—ä½“...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// åŠ¨æ€ç”Ÿæˆçš„å­—ä½“ç±»å‹æ•°ç»„å¦‚ä¸‹ï¼š</span><span class="token keyword">let</span> fontfamilys <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">{</span>      name<span class="token operator">:</span> <span class="token string">'å®‹ä½“'</span><span class="token punctuation">,</span>      value<span class="token operator">:</span><span class="token string">'SongTi'</span><span class="token comment">// å¯¹åº”å­—ä½“æ–‡ä»¶åˆ«å</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span>      name<span class="token operator">:</span> <span class="token string">'æ¥·ä½“'</span><span class="token punctuation">,</span>      value<span class="token operator">:</span><span class="token string">'KaiTi'</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span>      name<span class="token operator">:</span> <span class="token string">'é»‘ä½“'</span><span class="token punctuation">,</span>      value<span class="token operator">:</span><span class="token string">'HeiTi'</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span>      name<span class="token operator">:</span> <span class="token string">'é­ä½“'</span><span class="token punctuation">,</span>      value<span class="token operator">:</span><span class="token string">'WeiTi'</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span>      name<span class="token operator">:</span> <span class="token string">'æ ‡å®‹'</span><span class="token punctuation">,</span>      value<span class="token operator">:</span><span class="token string">'JianBiaoSong'</span>  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- åœ¨ç•Œé¢ä¸­å¯æ ¹æ® fontfamilys æ•°ç»„çš„ value å€¼åˆ‡æ¢ï¼ˆstyleæ ·å¼ä¸­çš„font-familyå±æ€§å€¼ï¼‰é¡µé¢å­—ä½“ --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tempImg<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>clickModel(item)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>    `color:${item.fontColor};    font-family:${item.fontCode};    -webkit-text-stroke: ${item.strockOpacity}px ${item.strockColor};`<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    æµ‹è¯•æ–‡å­—  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue </category>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> Vue </tag>
            
            <tag> font </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€å¹´å‰ç«¯æ±‚èŒå‡†å¤‡ â€”â€” vueç¯‡</title>
      <link href="/MyBlog/interview-vue-note/"/>
      <url>/MyBlog/interview-vue-note/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€æ•…äº‹åˆ†äº«"><a href="#ä¸€ã€æ•…äº‹åˆ†äº«" class="headerlink" title="ä¸€ã€æ•…äº‹åˆ†äº«"></a>ä¸€ã€æ•…äº‹åˆ†äº«</h2><blockquote><p>ğŸ¯ ä»Šå¹´æ˜¯æˆ‘åšå‰ç«¯çš„ç¬¬äºŒå¹´ï¼Œç”±äºç§ç§åŸå› ï¼Œ2022å¹´æˆ‘åˆè¸ä¸Šäº†æ±‚èŒçš„é“è·¯ã€‚è™½ç„¶å‰æ–¹é“è·¯åå·ä¸å¹³ï¼Œä½†æ˜¯æ‰“å·¥äººæ²¡ä»€ä¹ˆä¸å¯ä»¥ï¼Œè¦æœ‰ä¸æœè¾“çš„ç²¾ç¥ï¼<br>è¿™æ¬¡è¦åˆ†äº«çš„æ˜¯çº¯å¹²è´§ï¼ˆç¬”è®°ğŸ“’ï¼‰å…¶ä¸­è®¸å¤šé—®é¢˜åŠè§£æå‡æ¥æºäºç½‘ç»œä¸Šå„ä½å‰è¾ˆçš„å¸–å­ï¼Œæˆ‘æ ¹æ®è‡ªå·±çš„æƒ…å†µæ•´ç†äº†ä¸€ä¸‹å¹¶ä¸æ˜¯åˆ»æ„æŠ„è¢­å“¦ï¼</p></blockquote><h2 id="äºŒã€å…³äºVue"><a href="#äºŒã€å…³äºVue" class="headerlink" title="äºŒã€å…³äºVue"></a>äºŒã€å…³äºVue</h2><h3 id="1-vue-çš„è®¾è®¡åŸåˆ™ã€ä¼˜ç‚¹"><a href="#1-vue-çš„è®¾è®¡åŸåˆ™ã€ä¼˜ç‚¹" class="headerlink" title="1. vue çš„è®¾è®¡åŸåˆ™ã€ä¼˜ç‚¹"></a>1. vue çš„è®¾è®¡åŸåˆ™ã€ä¼˜ç‚¹</h3><blockquote><p>vueæ˜¯ä¸€ä¸ªæ¸è¿›å¼å‰ç«¯æ¡†æ¶ï¼ŒSPAå•é¡µé¢åº”ç”¨ã€‚<br>SPAå•é¡µé¢åº”ç”¨æœ‰ä¸ªç¼ºç‚¹ï¼šä¸åˆ©äºSEOï¼Œé¦–é¡µåŠ è½½è¿‡æ…¢ï¼Œä¸æ”¯æŒIE8<br>ä¼˜ç‚¹ï¼š<br>â— æ˜“ç”¨æ€§ï¼šæä¾›æ•°æ®å“åº”å¼ï¼Œç»„ä»¶å¼å¼€å‘ï¼Œå•é¡µé¢è·¯ç”±ï¼Œæ•°æ®æ¸²æŸ“ä¸è§†å›¾åˆ†å¼€<br>â— çµæ´»æ€§ï¼šæ¸è¿›å¼æ¡†æ¶æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯çµæ´»æ€§<br>â— é«˜æ•ˆæ€§ï¼šè™šæ‹Ÿdomå’Œdiffç®—æ³•</p></blockquote><h4 id="å¦‚ä½•ç†è§£vueç»„ä»¶åŒ–ï¼Ÿ"><a href="#å¦‚ä½•ç†è§£vueç»„ä»¶åŒ–ï¼Ÿ" class="headerlink" title="å¦‚ä½•ç†è§£vueç»„ä»¶åŒ–ï¼Ÿ"></a>å¦‚ä½•ç†è§£vueç»„ä»¶åŒ–ï¼Ÿ</h4><p>ï¼ˆå…³é”®å­—ï¼šç‹¬ç«‹ã€å¯å¤ç”¨ï¼‰</p><blockquote><p>ç»„ä»¶åŒ–å¼€å‘å¯ä»¥å¤§å¹…åº¦æé«˜å¼€å‘æ•ˆç‡ã€æµ‹è¯•æ€§ã€å¤ç”¨æ€§<br>ç»„ä»¶åŒ–å¼€å‘é«˜å†…èšä½è€¦åˆï¼Œéµå¾ªå•é¡¹æ•°æ®æµã€‚è¿˜å¯ä»¥æé«˜åº”ç”¨æ€§èƒ½<br>ç»„ä»¶åˆ†ç±»ï¼šé¡µé¢ç»„ä»¶ã€ä¸šåŠ¡ç»„ä»¶ã€é€šç”¨ç»„ä»¶<br>å¸¸è§çš„ç»„ä»¶åŒ–æŠ€æœ¯ï¼šå±æ€§propã€è‡ªå®šä¹‰äº‹ä»¶ã€æ’æ§½â€¦(ç»„ä»¶é€šè®¯ã€æ‰©å±•)</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// ç»„ä»¶åŒ–å®šä¹‰ã€ä¼˜ç‚¹ã€ä½¿ç”¨åœºæ™¯å’Œæ³¨æ„äº‹é¡¹ç­‰æ–¹é¢å±•å¼€é™ˆè¿°ï¼ŒåŒæ—¶è¦å¼ºè°ƒvueä¸­ç»„ä»¶åŒ–çš„ä¸€äº›ç‰¹ç‚¹</span><span class="token comment">// ç»„ä»¶å®šä¹‰ </span>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'demo'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> template<span class="token operator">:</span> <span class="token string">'&lt;div&gt;this is a component&lt;/div&gt;'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç»„ä»¶dataä¸ºä»€ä¹ˆæ˜¯ä¸ªå‡½æ•°ï¼Ÿ"><a href="#ç»„ä»¶dataä¸ºä»€ä¹ˆæ˜¯ä¸ªå‡½æ•°ï¼Ÿ" class="headerlink" title="ç»„ä»¶dataä¸ºä»€ä¹ˆæ˜¯ä¸ªå‡½æ•°ï¼Ÿ"></a>ç»„ä»¶dataä¸ºä»€ä¹ˆæ˜¯ä¸ªå‡½æ•°ï¼Ÿ</h4><p>é˜²æ­¢ç»„ä»¶å¤ç”¨æ—¶æ•°æ®ç›¸äº’å½±å“</p><h4 id="å•é¡¹æ•°æ®æµã€åŒå‘ç»‘å®š"><a href="#å•é¡¹æ•°æ®æµã€åŒå‘ç»‘å®š" class="headerlink" title="å•é¡¹æ•°æ®æµã€åŒå‘ç»‘å®š"></a>å•é¡¹æ•°æ®æµã€åŒå‘ç»‘å®š</h4><blockquote><p>å•å‘æ•°æ®æµï¼šåªå…è®¸çˆ¶ç»„ä»¶ä¼ é€’å€¼ç»™å­ç»„ä»¶ï¼Œä¸èƒ½åå‘ä¼ é€’å€¼ã€‚<br>åŒå‘æ•°æ®ç»‘å®šï¼šåœ¨å•å‘æ•°æ®æµçš„åŸºç¡€ä¸Šé€šè¿‡è‡ªå®šä¹‰äº‹ä»¶æ”¹å˜çˆ¶ç»„ä»¶ä¸­çš„æ•°æ®å€¼ã€‚<br>å“åº”å¼åŸç†ï¼šObject.defineProperty()æ•°æ®åŠ«æŒ + å‘å¸ƒè®¢é˜…è€…æ¨¡å¼</p></blockquote><p>ä¼˜ç‚¹ï¼š<br>â— æ‰€æœ‰çŠ¶æ€çš„æ”¹å˜å¯è®°å½•ã€å¯è·Ÿè¸ªã€æºå¤´æ˜“æº¯<br>â— æ•°æ®æ“ä½œæ›´ç›´è§‚ã€å®¹æ˜“ç†è§£ã€å¯ç»´æŠ¤æ€§å¼º<br>â— æ•°æ®å˜åŒ–é¡µé¢è‡ªåŠ¨å˜åŒ–ã€ä¿®æ”¹æ•°æ®æ—¶çŠ¶æ€å¯é¢„æµ‹<br>ç¼ºç‚¹ï¼š<br>â— é¡µé¢æ¸²æŸ“å®Œæˆåï¼Œæ•°æ®ä¸èƒ½è‡ªåŠ¨æ›´æ–°éœ€è¦æ•´åˆæ–°æ•°æ®å’Œæ¨¡ç‰ˆé‡æ–°æ¸²æŸ“<br>â— ä»£ç é‡^æ•°æ®æµè½¬è¿‡ç¨‹é•¿<br>â— åœ¨å¤„ç†äº¤äº’è¾ƒå¤šï¼ˆå±€éƒ¨çŠ¶æ€å¤šï¼‰çš„åœºæ™¯æ—¶æ¯”è¾ƒç¹ç</p><blockquote><p>v-modelå®é™…ä¸Šå°±æ˜¯$emit(â€˜inputâ€™) ä¸prop: valueç»„åˆçš„è¯­æ³•ç³–</p></blockquote><h3 id="2-Vue2çš„å“åº”å¼åŸç†"><a href="#2-Vue2çš„å“åº”å¼åŸç†" class="headerlink" title="2. Vue2çš„å“åº”å¼åŸç†"></a>2. Vue2çš„å“åº”å¼åŸç†</h3><blockquote><p>vueåˆå§‹åŒ–æ—¶ä¼šç”¨Object.defineProperty()ç»™dataä¸­æ¯ä¸ªå±æ€§ï¼ˆéå†+é€’å½’ï¼‰æ·»åŠ  getter å’Œ setter åŒæ—¶åˆ›å»ºDepå’ŒWatcher<br>è¿›è¡Œä¾èµ–æ”¶é›†ã€æ´¾å‘æ›´æ–°ã€‚é€šè¿‡diffç®—æ³•æ¥å¯¹æ¯”æ–°è€vnodeå·®å¼‚ï¼Œé€šè¿‡patchåŠæ—¶æ›´æ–°DOM</p></blockquote><img src="./image.png" width="86%"><p>ä¸ºä»€ä¹ˆé¢‘ç¹çš„æ•°æ®å˜åŒ–åªä¼šæ¸²æŸ“1æ¬¡ï¼Ÿ<br>â— a. æ£€æµ‹åˆ°æ•°æ®å‘ç”Ÿå˜åŒ–<br>â— b. å¼€å¯ä¸€ä¸ªé˜Ÿåˆ—<br>â— c. åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­ç¼“å†²æœ‰æ‰€æ”¹å˜ï¼Œå¦‚æœåŒä¸€ä¸ªwatcher(IDç›¸åŒ)è¢«å¤šæ¬¡è§¦å‘ï¼Œåªä¼šè¢«æ¨å…¥é˜Ÿåˆ— 1 æ¬¡</p><blockquote><p>æ‰§è¡Œé¡ºåºï¼šupdate - queueWatcher - ç»´æŠ¤è§‚å¯Ÿé˜Ÿåˆ—(å¤„ç†IDç›¸åŒçš„watcher) - waitingæ ‡å¿—ä½å¤„ç† - å¤„ç†$nextTickå¼‚æ­¥æ›´æ–°DOM</p><p>ä¸ä¼˜åŒ–ï¼šsetter - Dep - watcher - update - runï¼ˆä¸ä¼˜åŒ–æ¯ä¸ªæ•°æ®å˜åŒ–éƒ½ä¼šæ‰§è¡Œï¼‰</p></blockquote><h3 id="3-Vue2-Object-defineProperty-ç¼ºé™·"><a href="#3-Vue2-Object-defineProperty-ç¼ºé™·" class="headerlink" title="3. Vue2 Object.defineProperty() ç¼ºé™·"></a>3. Vue2 Object.defineProperty() ç¼ºé™·</h3><blockquote><p>åˆå§‹åŒ–æ—¶éœ€è¦éå†å¯¹è±¡æ‰€æœ‰ keyï¼Œå¦‚æœå¯¹è±¡å±‚æ¬¡è¾ƒæ·±ï¼Œæ€§èƒ½ä¸å¥½<br>é€šçŸ¥æ›´æ–°è¿‡ç¨‹éœ€è¦ç»´æŠ¤å¤§é‡ dep å®ä¾‹å’Œ watcher å®ä¾‹ï¼Œé¢å¤–å ç”¨å†…å­˜è¾ƒå¤š<br>Object.defineProperty æ— æ³•ç›‘å¬åˆ°æ•°ç»„å…ƒç´ çš„å˜åŒ–ï¼Œåªèƒ½é€šè¿‡åŠ«æŒé‡å†™æ•°æ–¹æ³•<br>åŠ¨æ€æ–°å¢ï¼Œåˆ é™¤å¯¹è±¡å±æ€§æ— æ³•æ‹¦æˆªï¼Œåªèƒ½ç”¨ç‰¹å®š set/delete API ä»£æ›¿<br>ä¸æ”¯æŒ Mapã€Set ç­‰æ•°æ®ç»“æ„</p></blockquote><p>â— æ— æ³•ç›‘å¬æ•°ç»„ã€‚ä¿®æ”¹æ•°ç»„çš„ç´¢å¼•å’Œé•¿åº¦æ˜¯æ— æ³•è¢«ç›‘æ§åˆ°çš„ï¼ˆæ•°ç»„çš„lengthåˆå§‹åŒ– =&gt; configurable: falseï¼‰ï¼Œåªèƒ½é€šè¿‡é‡å†™çš„æ–¹æ³•æ¥ç›‘å¬æ•°ç»„ã€‚ï¼ˆ7ç§ï¼špushã€shiftã€unshiftã€popã€reverseã€sortã€spliceï¼‰<br>â— åªèƒ½åŠ«æŒå¯¹è±¡å±æ€§ï¼Œå¯¹äºæ·±å±‚å±æ€§åµŒå¥—çš„å¯¹è±¡ï¼Œè¦åŠ«æŒå†…éƒ¨æ·±å±‚æ¬¡çš„å˜åŒ–å°±éœ€è¦æ·±åº¦é€’å½’/éå†ï¼ˆå¾ˆå¤§çš„æ€§èƒ½æ¶ˆè€—ï¼‰ã€‚è€ŒVue3çš„proxyå¯ä»¥åŠ«æŒæ•´ä¸ªå¯¹è±¡å¹¶è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼ˆå¯ä»¥ä»£ç†åŠ¨æ€å¢åŠ çš„å±æ€§å€¼ï¼Œè¿˜å¯ä»¥ä»£ç†æ•°ç»„ï¼‰</p><span style="color: red">Vue3ç”¨ proxy æ¥å“åº”å¼æ•°æ®ï¼Œå†…éƒ¨æ”¶é›†æ¯ä¸ªå±æ€§éƒ½æœ‰Depå­˜æ”¾æ‰€ä¾èµ–çš„watcheræ”¯æŒç›‘å¬å¯¹è±¡å’Œæ•°ç»„çš„å˜åŒ–ï¼ŒåŠ¨æ€å±æ€§å¢åˆ éƒ½å¯ä»¥æ‹¦æˆªï¼Œæ–°å¢æ•°æ®ç»“æ„å…¨éƒ¨æ”¯æŒï¼Œå¯¹è±¡åµŒå¥—å±æ€§åªä»£ç†ç¬¬ä¸€å±‚è¿è¡Œæ—¶é€’å½’ï¼Œç”¨åˆ°æ‰ä»£ç†ï¼Œä¹Ÿä¸éœ€è¦ç»´æŠ¤ç‰¹åˆ«å¤šçš„ä¾èµ–å…³ç³»ï¼Œæ€§èƒ½å–å¾—å¾ˆå¤§è¿›æ­¥</span><p>Vue2ä»£ç çš„ä¼˜åŒ–æ–¹æ³•ï¼š<br>a. å¯¹è±¡å±‚çº§ä¸è¦åµŒå¥—å¤ªå¤š<br>b. ä¸éœ€è¦å“åº”å¼çš„ä¸è¦æ”¾åœ¨dataä¸­ï¼Œå¯ä»¥Object.freeze()å†»ç»“æ•°æ®</p><h3 id="4-Vue2çš„diffç®—æ³•"><a href="#4-Vue2çš„diffç®—æ³•" class="headerlink" title="4. Vue2çš„diffç®—æ³•"></a>4. Vue2çš„diffç®—æ³•</h3><p>æ•°æ®å˜æ›´è§¦å‘é¡µé¢é‡æ–°æ¸²æŸ“ï¼Œä¼šç”Ÿæˆè™šæ‹Ÿ DOM å¹¶è¿›è¡Œ patch</p><blockquote><p>diff ç®—æ³•æ˜¯ä¸€ç§é€šè¿‡åŒå±‚çš„æ ‘èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒçš„é«˜æ•ˆç®—æ³•ï¼Œç‰¹ç‚¹ï¼š<br>(1). æ¯”è¾ƒåªä¼šåœ¨åŒå±‚çº§è¿›è¡Œ, ä¸ä¼šè·¨å±‚çº§æ¯”è¾ƒï¼ˆåªæ¯”å¯¹çˆ¶èŠ‚ç‚¹ç›¸åŒçš„æ–°æ—§èŠ‚ç‚¹ï¼‰<br>(2). åœ¨diffæ¯”è¾ƒçš„è¿‡ç¨‹ä¸­ï¼Œå¾ªç¯ä»ä¸¤è¾¹å‘ä¸­é—´æ”¶æ‹¢<br>æ€»ç»“ç­–ç•¥ï¼šæ·±åº¦ä¼˜å…ˆï¼ŒåŒå±‚æ¯”è¾ƒ</p></blockquote><p>=&gt; æ‰¾åˆ°ç›¸åŒä½†ä¸éœ€è¦ç§»åŠ¨çš„èŠ‚ç‚¹<br>=&gt; æ‰¾åˆ°ç›¸åŒä½†éœ€è¦ç§»åŠ¨çš„èŠ‚ç‚¹<br>=&gt; æ–°å»º/åˆ é™¤èŠ‚ç‚¹</p><blockquote><p>æ¯”è¾ƒç»“æœç›´æ¥å¯¹çœŸå®çš„DOMä¿®æ”¹Vueçš„patchæ˜¯å³æ—¶çš„ï¼ŒReactæ˜¯æ›´æ–°æ”¾å…¥é˜Ÿåˆ—ç»“æœåé›†ä¸­å¤„ç†</p><p>åŸç†ï¼šå½“æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼Œsetæ–¹æ³•ä¼šè°ƒç”¨Dep.notifyé€šçŸ¥æ‰€æœ‰è®¢é˜…è€…Watcherï¼Œè®¢é˜…è€…å°±ä¼šè°ƒç”¨patchç»™çœŸå®çš„DOMæ‰“è¡¥ä¸ï¼Œæ›´æ–°ç›¸åº”çš„è§†å›¾</p></blockquote><p>å¯¹æ¯” VUe3 diffç®—æ³•ï¼š<br>â— <span style="color: red">äº‹ä»¶ç¼“å­˜ï¼šå°†äº‹ä»¶ç¼“å­˜(å¦‚: @click)ï¼Œå¯ä»¥ç†è§£ä¸ºå˜æˆé™æ€çš„äº†</span><br>â— <span style="color: red">é™æ€æå‡ï¼šç¬¬ä¸€æ¬¡åˆ›å»ºé™æ€èŠ‚ç‚¹æ—¶ä¿å­˜ï¼Œåç»­ç›´æ¥å¤ç”¨</span><br>â— <span style="color: red">æ·»åŠ é™æ€æ ‡è®°ï¼šç»™èŠ‚ç‚¹æ·»åŠ é™æ€æ ‡è®°ï¼Œä»¥ä¼˜åŒ– Diff è¿‡ç¨‹</span></p><blockquote><p>ç¼–è¯‘é˜¶æ®µçš„ä¼˜åŒ–ï¼Œé™¤äº†èƒ½æ›´å¿«çš„ç”Ÿæˆè™šæ‹Ÿ DOM ä»¥å¤–ï¼Œè¿˜ä½¿å¾— Diff æ—¶å¯ä»¥è·³è¿‡â€æ°¸è¿œä¸ä¼šå˜åŒ–çš„èŠ‚ç‚¹â€<br>diffä¼˜åŒ–ï¼š<br>â— <span style="color: red">Vue2 æ˜¯å…¨é‡ Diffï¼ŒVue3 æ˜¯é™æ€æ ‡è®° + éå…¨é‡ Diff</span><br>â— <span style="color: red">ä½¿ç”¨æœ€é•¿é€’å¢å­åºåˆ—ä¼˜åŒ–äº†å¯¹æ¯”æµç¨‹</span></p></blockquote><h3 id="5-Vue2-ComputedåŸç†"><a href="#5-Vue2-ComputedåŸç†" class="headerlink" title="5. Vue2 ComputedåŸç†"></a>5. Vue2 ComputedåŸç†</h3><blockquote><p>computed è®¡ç®—å±æ€§ï¼Œ<span style="color: red">æœ‰ç¼“å­˜ï¼Œ</span>ä¸æ”¯æŒå¼‚æ­¥ã€‚<br>å…¶æœ¬è´¨æ˜¯ä¸€ä¸ªæƒ°æ€§æ±‚å€¼çš„è§‚å¯Ÿè€…ï¼Œå†…éƒ¨é€šè¿‡this.dirty æ ‡è®°è®¡ç®—å±æ€§ï¼Œæ˜¯å¦éœ€è¦é‡æ–°è®¡ç®—</p></blockquote><h3 id="6-Vue-WatcheråŸç†"><a href="#6-Vue-WatcheråŸç†" class="headerlink" title="6. Vue WatcheråŸç†"></a>6. Vue WatcheråŸç†</h3><blockquote><p>watcher ç›‘å¬ï¼Œæ²¡æœ‰ç¼“å­˜ï¼Œæ”¯æŒå¼‚æ­¥ã€‚ç›‘å¬çš„æ˜¯å·²ç»åœ¨data ä¸­å®šä¹‰çš„å˜é‡ï¼Œå½“è¯¥å˜é‡å˜åŒ–æ—¶ï¼Œä¼šè§¦å‘watch ä¸­çš„æ–¹æ³•ã€‚<br>æ›´å¤šçš„æ˜¯è§‚å¯Ÿå¯ä»¥ç›‘å¬æŸäº›æ•°æ®å¹¶æ‰§è¡Œå›è°ƒï¼Œéœ€è¦æ·±åº¦ç¼“å­˜å¯ä»¥æ‰“å¼€deep: true ä¼šå¯¹å¯¹è±¡çš„æ¯é¡¹å±æ€§è¿›è¡Œç›‘å¬ï¼ˆä¸å»ºè®®ï¼Œå¯èƒ½ä¼šå‡ºç°æ€§èƒ½é—®é¢˜ï¼‰</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// æ·±åº¦ç¼“å­˜å¯ä»¥æ‰“å¼€deep: true</span>watch<span class="token operator">:</span><span class="token punctuation">{</span>  msg<span class="token operator">:</span><span class="token punctuation">{</span>    <span class="token function">handler</span> <span class="token punctuation">(</span><span class="token parameter">newMsg<span class="token punctuation">,</span>oldMsg</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    immediate<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>    deep<span class="token operator">:</span><span class="token boolean">true</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="7-Vue2-nextTickåŸç†"><a href="#7-Vue2-nextTickåŸç†" class="headerlink" title="7. Vue2 nextTickåŸç†"></a>7. Vue2 nextTickåŸç†</h3><blockquote><p>nextTick æ˜¯å…¨å±€ vue çš„å‡½æ•°ï¼Œå½“æ•°æ®æ›´æ–°äº†ï¼Œåœ¨domä¸­æ¸²æŸ“ä¹‹åï¼Œè‡ªåŠ¨è°ƒç”¨è¯¥å‡½æ•°ã€‚<br>Promise - MutationObserver - SetImmediate - SetTimeOut<br>ä¸»è¦æ€è·¯å°±æ˜¯é‡‡ç”¨å¾®ä»»åŠ¡ä¼˜å…ˆçš„æ–¹å¼è°ƒç”¨å¼‚æ­¥æ–¹æ³•å»æ‰§è¡Œ nextTick åŒ…è£…çš„æ–¹æ³•</p></blockquote><p>ä½¿ç”¨åœºæ™¯ï¼š<br>â— åœ¨ç”Ÿå‘½å‘¨æœŸ created å‡½æ•°è¿›è¡Œçš„domæ“ä½œä¸€å®šè¦æ”¾åœ¨ nextTick å›è°ƒä¸­ã€‚åŸå› æ˜¯ï¼šåœ¨created å‡½æ•°ä¸­domè¿˜å¹¶æœªæ¸²æŸ“å‡ºæ¥ï¼Œæ­¤æ—¶å°†domæ“ä½œçš„ç›¸å…³ä»£ç æ”¾å…¥ nextTick å›è°ƒä¸­ä¸ä¹‹å¯¹åº”çš„å°±æ˜¯ mounted å‡½æ•°ï¼Œæ­¤æ—¶domå·²ç»è¢«æ¸²æŸ“å‡ºæ¥ã€‚<br>â— å½“æ•°æ®å‘ç”Ÿå˜æ›´åï¼Œæƒ³è¦ç«‹å³æ“ä½œæ–°çš„è§†å›¾ã€‚<br>â— å½“ä½¿ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶æ—¶ï¼Œæƒ³è¦åœ¨domåŠ¨æ€å‘ç”Ÿå˜åŒ–æ—¶é‡æ–°åº”ç”¨æ’ä»¶ã€‚</p><p>åŸç†ï¼š<br>Vueæ˜¯å¼‚æ­¥æ‰§è¡Œdomæ›´æ–°çš„ï¼Œä¸€æ—¦è§‚å¯Ÿåˆ°æ•°æ®å˜åŒ–ï¼ŒVueå°±ä¼šå¼€å¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œç„¶åæŠŠåœ¨åŒä¸€ä¸ªäº‹ä»¶å¾ªç¯ (event loop) å½“ä¸­è§‚å¯Ÿåˆ°æ•°æ®å˜åŒ–çš„ watcher æ¨é€è¿›è¿™ä¸ªé˜Ÿåˆ—ã€‚<br><span style="color: red">å¦‚æœè¿™ä¸ªwatcherè¢«è§¦å‘å¤šæ¬¡ï¼Œåªä¼šè¢«æ¨é€åˆ°é˜Ÿåˆ—ä¸€æ¬¡ã€‚è¿™ç§ç¼“å†²è¡Œä¸ºå¯ä»¥æœ‰æ•ˆçš„å»æ‰é‡å¤æ•°æ®é€ æˆçš„ä¸å¿…è¦çš„è®¡ç®—å’ŒDOmæ“ä½œã€‚</span><br>è€Œåœ¨ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯æ—¶ï¼ŒVueä¼šæ¸…ç©ºé˜Ÿåˆ—ï¼Œå¹¶è¿›è¡Œå¿…è¦çš„DOMæ›´æ–°ã€‚<br>å› æ­¤ï¼Œ<span style="color: red">åœ¨æ“ä½œæ•°æ®ä¹‹åï¼Œå¹¶ä¸ä¼šé©¬ä¸Šæ›´æ–°domï¼Œè€Œæ˜¯è¦ç­‰å¼‚æ­¥é˜Ÿåˆ—è¢«æ¸…é™¤ï¼Œä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯å¼€å§‹æ‰§è¡Œæ›´æ–°æ—¶æ‰ä¼šå¯¹å¿…è¦çš„domè¿›è¡Œæ›´æ–°ã€‚</span>è¿™æ—¶æƒ³è¦æ ¹æ®æ›´æ–°çš„ DOM çŠ¶æ€å»åšæŸäº›äº‹æƒ…ï¼Œå°±ä¸å¥½å¤„ç†ã€‚<br>ä¸ºäº†åœ¨æ•°æ®å˜åŒ–ä¹‹åç­‰å¾… Vue å®Œæˆæ›´æ–° DOM ï¼Œå¯ä»¥åœ¨æ•°æ®å˜åŒ–ä¹‹åç«‹å³ä½¿ç”¨Vue.nextTick(callback) ã€‚è¿™æ ·å›è°ƒå‡½æ•°åœ¨ DOM æ›´æ–°å®Œæˆåå°±ä¼šè°ƒç”¨ã€‚</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// ä¸¾ä¾‹ï¼š</span><span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token keyword">let</span> _this <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>  _this<span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// ä¸ä½¿ç”¨this.$nextTick()æ–¹æ³•ä¼šæŠ¥é”™</span>    _this<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>test<span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">"createdä¸­æ›´æ”¹äº†é¡µé¢domå†…å®¹"</span><span class="token punctuation">;</span> <span class="token comment">// æ›´æ”¹DOMå…ƒç´ å†…å®¹</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="keyçš„ä½œç”¨"><a href="#keyçš„ä½œç”¨" class="headerlink" title="keyçš„ä½œç”¨"></a>keyçš„ä½œç”¨</h4><p>keyçš„å”¯ä¸€æ€§å¯ä»¥è¢«mapæ•°æ®ç»“æ„å……åˆ†åˆ©ç”¨<br>keyæ˜¯å¯ä»¥ç»™æ¯ä¸ªvnodeçš„å”¯ä¸€IDï¼Œä¾é key diffæ“ä½œå¯ä»¥æ›´å¿«é€Ÿã€å‡†ç¡®ï¼Œåœ¨å¯¹æ¯”ä¸­å¸¦keyå¯ä»¥é¿å…å°±åœ°å¤ç”¨ã€‚</p><h3 id="8-Vue-routerè·¯ç”±"><a href="#8-Vue-routerè·¯ç”±" class="headerlink" title="8. Vue-routerè·¯ç”±"></a>8. Vue-routerè·¯ç”±</h3><p>é»˜è®¤hashï¼ˆæµè§ˆå™¨ç¯å¢ƒï¼‰ï½œ abstractï¼ˆnodejsç¯å¢ƒï¼‰</p><blockquote><p>hash ä½¿ç”¨URLçš„ hash å€¼ä½œä¸ºè·¯ç”±ï¼Œæ”¯æŒæ‰€æœ‰æµè§ˆå™¨é™¤äº†HTML5 history APIçš„æµè§ˆå™¨<br>hash ä¼šå‡ºç°URLä¸­ï¼Œä½†ä¸ä¼šè¢«åŒ…å«åœ¨ HTTP è¯·æ±‚ä¸­ï¼Œå¯¹åç«¯æ²¡æœ‰å½±å“ã€‚å› æ­¤æ”¹å˜ hash ä¸ä¼šé‡æ–°åŠ è½½é¡µé¢<br>ç‰¹ç‚¹ï¼š<span style="color: red">å…¼å®¹æ€§å¥½ä½†æ˜¯ä¸ç¾è§‚</span></p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// å¯ä»¥ä¸º hash çš„æ”¹å˜æ·»åŠ ç›‘å¬äº‹ä»¶</span>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"hashchange"</span><span class="token punctuation">,</span> funcRef<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¯ä¸€æ¬¡æ”¹å˜ hashï¼ˆwindow.location.hashï¼‰ï¼Œéƒ½ä¼šåœ¨æµè§ˆå™¨çš„è®¿é—®å†å²ä¸­å¢åŠ ä¸€ä¸ªè®°å½•ã€‚åˆ©ç”¨ hash çš„ä»¥ä¸Šç‰¹ç‚¹ï¼Œå¯ä»¥æ¥å®ç°å‰ç«¯è·¯ç”±â€œæ›´æ–°è§†å›¾ä½†ä¸é‡æ–°è¯·æ±‚é¡µé¢â€çš„åŠŸèƒ½äº†</p><blockquote><p>history ä¾èµ– HTML5 history APIã€æ–°å¢çš„ pushState() å’Œ replaceState() æ–¹æ³•ã€‘å’ŒæœåŠ¡å™¨é…ç½®<br>ç‰¹ç‚¹ï¼š<span style="color: red">è™½ç„¶ç¾è§‚ï¼Œä½†æ˜¯åˆ·æ–°ä¼šå‡ºç° 404 éœ€è¦åç«¯è¿›è¡Œé…ç½®</span></p></blockquote><blockquote><p>abstract æ”¯æŒæ‰€æœ‰çš„jsè¿è¡Œç¯å¢ƒï¼Œå¦‚nodejsæœåŠ¡ç«¯ã€‚å¦‚æœæ²¡æœ‰æµè§ˆå™¨APIä¼šå¼ºåˆ¶è¿›å…¥è¿™ä¸ªæ¨¡å¼</p></blockquote><h4 id="VueRouterè·³è½¬"><a href="#VueRouterè·³è½¬" class="headerlink" title="VueRouterè·³è½¬"></a>VueRouterè·³è½¬</h4><p>1ï¼‰this.$router.push(é¡µé¢è·¯ç”±)</p><p>ä¼ å‚æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 1ã€queryï¼šä¼ å‚ä¼šæ˜¾ç¤ºåœ¨urlåœ°å€æ ï¼Œç›¸å½“äºgetè¯·æ±‚</span><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/orderList'</span><span class="token punctuation">,</span> query<span class="token operator">:</span> <span class="token punctuation">{</span> orderId<span class="token operator">:</span> id <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'orderList'</span><span class="token punctuation">,</span> query<span class="token operator">:</span> <span class="token punctuation">{</span> orderId<span class="token operator">:</span> id <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// ç›®æ ‡é¡µé¢è·å–å‚æ•°ï¼šï¼ˆè¿™é‡Œæ˜¯routeä¸æ˜¯routerå“¦ï¼ï¼‰</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>orderId<span class="token comment">// 2ã€paramsï¼šä¼ å‚ä¸ä¼šæ˜¾ç¤ºåœ¨åœ°å€æ ï¼Œç›¸å½“äºpostè¯·æ±‚ï¼Œä½†æ˜¯paramsåªèƒ½æ­é…nameä½¿ç”¨ã€‚</span><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'orderList'</span><span class="token punctuation">,</span> params<span class="token operator">:</span> <span class="token punctuation">{</span> orderId<span class="token operator">:</span> id <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// åªèƒ½ç”¨ nameï¼Œä½¿ç”¨pathå‚æ•°æ— æ•ˆ</span><span class="token comment">// ç›®æ ‡é¡µé¢è·å–å‚æ•°ï¼š</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>orderId<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>2ï¼‰router-linkæ ‡ç­¾</p><p>åŠ¨æ€è·¯ç”±è·³è½¬ï¼š</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>   nä¸ºè´Ÿæ•°å‘åæŒ‡å®šæ­¥æ•°ï¼Œnä¸ºæ­£æ•°å‘å‰næ­¥<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> å›é€€ä¸€æ­¥<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">forword</span><span class="token punctuation">(</span><span class="token punctuation">)</span> å‰è¿›ä¸€æ­¥<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><span style="color: red">è·å–å½“å‰é¡µé¢è·¯ç”±ï¼šthis.$router.path</span></p><h3 id="9-è·¯ç”±é’©å­å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿæ‰§è¡Œé¡ºåºï¼Ÿ"><a href="#9-è·¯ç”±é’©å­å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿæ‰§è¡Œé¡ºåºï¼Ÿ" class="headerlink" title="9. è·¯ç”±é’©å­å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿæ‰§è¡Œé¡ºåºï¼Ÿ"></a>9. è·¯ç”±é’©å­å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿæ‰§è¡Œé¡ºåºï¼Ÿ</h3><p>è·¯ç”±é’©å­çš„æ‰§è¡Œæµç¨‹, é’©å­å‡½æ•°ç§ç±»æœ‰:å…¨å±€å®ˆå«ã€è·¯ç”±å®ˆå«ã€ç»„ä»¶å®ˆå«</p><p>å®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹ï¼š</p><ol><li>å¯¼èˆªè¢«è§¦å‘</li><li>åœ¨å¤±æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteLeave å®ˆå«</li><li>è°ƒç”¨å…¨å±€çš„ beforeEach å®ˆå«</li><li>åœ¨é‡ç”¨çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteUpdate å®ˆå« (2.2+)</li><li>åœ¨è·¯ç”±é…ç½®é‡Œè°ƒç”¨ beforeEnter</li><li>è§£æå¼‚æ­¥è·¯ç”±ç»„ä»¶</li><li>åœ¨è¢«æ¿€æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteEnter</li><li>è°ƒç”¨å…¨å±€çš„ beforeResolve å®ˆå« (2.5+)</li><li>å¯¼èˆªè¢«ç¡®è®¤</li><li>è°ƒç”¨å…¨å±€çš„ afterEach é’©å­</li><li>è§¦å‘ DOM æ›´æ–°</li><li>è°ƒç”¨ beforeRouteEnter å®ˆå«ä¸­ä¼ ç»™ next çš„å›è°ƒå‡½æ•°ï¼Œåˆ›å»ºå¥½çš„ç»„ä»¶å®ä¾‹ä¼šä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°ä¼ å…¥</li></ol><h3 id="10-Vueä¸­keep-aliveåŸç†"><a href="#10-Vueä¸­keep-aliveåŸç†" class="headerlink" title="10. Vueä¸­keep-aliveåŸç†"></a>10. Vueä¸­keep-aliveåŸç†</h3><blockquote><p>keep-aliveç»„ä»¶ç¼“å­˜ï¼Œé˜²æ­¢é¡µé¢domé‡å¤æ¸²æŸ“ï¼Œå‡å°‘æ¥å£è¯·æ±‚ã€å‡å°æœåŠ¡å™¨å‹åŠ›ï¼Œç¼“å­˜ä¸æ´»åŠ¨çš„ç»„ä»¶ã€‚å®ä¾‹ä¼šå¯¹ç¼“å­˜å¯¹åº”ç»„ä»¶çš„vnodeå¦‚æœå‘½ä¸­ç¼“å­˜å°±è¿”å›å¯¹åº”çš„vnode<br>å‚æ•°ï¼š<br>include éœ€è¦ç¼“å­˜çš„ç»„ä»¶nameé›†åˆï¼ˆStringã€RegExpã€Arrayï¼‰<br>exclude æŒ‡å®šä¸éœ€è¦ç¼“å­˜çš„ç»„ä»¶nameé›†åˆï¼ˆä¼˜å…ˆçº§é«˜äºincludeï¼‰<br>max æœ€å¤§ç¼“å­˜æ•°ï¼Œè¶…å‡ºæœ€å¤§ç¼“å­˜æ•°é‡åˆ é™¤ç¬¬1ä¸ª</p></blockquote><h3 id="11-vueçš„ç”Ÿå‘½å‘¨æœŸï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹ä¼šè§¦å‘ï¼Ÿç»„ä»¶é”€æ¯æ—¶ä¼šå¸è½½è‡ªå®šä¹‰äº‹ä»¶è·ŸåŸç”Ÿäº‹ä»¶å—ï¼Ÿ"><a href="#11-vueçš„ç”Ÿå‘½å‘¨æœŸï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹ä¼šè§¦å‘ï¼Ÿç»„ä»¶é”€æ¯æ—¶ä¼šå¸è½½è‡ªå®šä¹‰äº‹ä»¶è·ŸåŸç”Ÿäº‹ä»¶å—ï¼Ÿ" class="headerlink" title="11. vueçš„ç”Ÿå‘½å‘¨æœŸï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹ä¼šè§¦å‘ï¼Ÿç»„ä»¶é”€æ¯æ—¶ä¼šå¸è½½è‡ªå®šä¹‰äº‹ä»¶è·ŸåŸç”Ÿäº‹ä»¶å—ï¼Ÿ"></a>11. vueçš„ç”Ÿå‘½å‘¨æœŸï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹ä¼šè§¦å‘ï¼Ÿç»„ä»¶é”€æ¯æ—¶ä¼šå¸è½½è‡ªå®šä¹‰äº‹ä»¶è·ŸåŸç”Ÿäº‹ä»¶å—ï¼Ÿ</h3><h4 id="vueçš„ç”Ÿå‘½å‘¨æœŸ"><a href="#vueçš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="vueçš„ç”Ÿå‘½å‘¨æœŸ?"></a>vueçš„ç”Ÿå‘½å‘¨æœŸ?</h4><p>â— beforeCreateï¼šåˆå§‹åŒ–vueå®ä¾‹ä¹‹å‰ï¼Œæ²¡æœ‰dom<br>â— createdï¼šåˆå§‹åŒ–vueå®ä¾‹ä¹‹åï¼Œæ²¡æœ‰dom<br>â— beforeMountï¼šjsä¸­çš„æ•°æ®æŒ‚è½½åˆ°htmlä¹‹å‰ï¼Œè·å–ä¸åˆ°å…·ä½“çš„domï¼Œä½†vueæŒ‚è½½çš„æ ¹èŠ‚ç‚¹å·²ç»åˆ›å»º<br>â— mountedï¼šjsä¸­çš„æ•°æ®æŒ‚è½½åˆ°htmlä¹‹åï¼Œ<span style="color: red">ç»„ä»¶ç»˜åˆ¶å®Œæˆï¼Œæ•°æ®å’Œdomæ¸²æŸ“å·²ç»å‡ºæ¥</span></p><p>â— beforeUpdateï¼švueä¸­çš„dataæ•°æ®å‘ç”Ÿæ”¹å˜ä¹‹å‰<br>â— updatedï¼švueä¸­çš„dataæ•°æ®å‘ç”Ÿæ”¹å˜ä¹‹å</p><p>â— beforeDestroyï¼švueå®ä¾‹é”€æ¯ä¹‹å‰ï¼Œå¯è§£é™¤äº‹ä»¶ç»‘å®šå’Œé”€æ¯å®šæ—¶ä»»åŠ¡<br>â— destroyedï¼švueå®ä¾‹é”€æ¯ä¹‹åè§¦å‘è¯¥äº‹ä»¶</p><p>â— activatedã€keep-alive ä¸“å±ã€‘ç»„ä»¶è¢«æ¿€æ´»æ—¶è°ƒç”¨<br>â— deactivatedã€keep-alive ä¸“å±ã€‘ç»„ä»¶è¢«é”€æ¯æ—¶è°ƒç”¨</p><h4 id="å¼‚æ­¥è¯·æ±‚é€‚åˆåœ¨å“ªä¸€æ­¥å‘èµ·ï¼Ÿ"><a href="#å¼‚æ­¥è¯·æ±‚é€‚åˆåœ¨å“ªä¸€æ­¥å‘èµ·ï¼Ÿ" class="headerlink" title="å¼‚æ­¥è¯·æ±‚é€‚åˆåœ¨å“ªä¸€æ­¥å‘èµ·ï¼Ÿ"></a>å¼‚æ­¥è¯·æ±‚é€‚åˆåœ¨å“ªä¸€æ­¥å‘èµ·ï¼Ÿ</h4><p>å¯ä»¥åœ¨é’©å­å‡½æ•° createdã€beforeMountã€mounted ä¸­è¿›è¡Œå¼‚æ­¥è¯·æ±‚ï¼ˆæ­¤æ—¶dataå·²ç»åˆ›å»ºï¼Œå¯ä»¥å°†æœåŠ¡ç«¯ç«¯è¿”å›çš„æ•°æ®è¿›è¡Œèµ‹å€¼ï¼‰</p><p>å¼‚æ­¥è¯·æ±‚ä¸éœ€è¦ä¾èµ– Dom æ¨èåœ¨ created é’©å­å‡½æ•°ä¸­è°ƒç”¨å¼‚æ­¥è¯·æ±‚<br>ä¼˜åŠ¿ï¼š</p><ol><li>èƒ½æ›´å¿«è·å–åˆ°æœåŠ¡ç«¯æ•°æ®ï¼Œå‡å°‘é¡µé¢ loading æ—¶é—´</li><li>ssr ä¸æ”¯æŒ beforeMount ã€mounted é’©å­å‡½æ•°ï¼Œæ‰€ä»¥æ”¾åœ¨ created ä¸­æœ‰åŠ©äºä¸€è‡´æ€§</li></ol><h4 id="ä»€ä¹ˆæ—¶å€™ä¼šè§¦å‘ç»„ä»¶é”€æ¯ï¼Ÿ"><a href="#ä»€ä¹ˆæ—¶å€™ä¼šè§¦å‘ç»„ä»¶é”€æ¯ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ä¼šè§¦å‘ç»„ä»¶é”€æ¯ï¼Ÿ"></a>ä»€ä¹ˆæ—¶å€™ä¼šè§¦å‘ç»„ä»¶é”€æ¯ï¼Ÿ</h4><blockquote><p>a. é¡µé¢å…³é—­<br>b. æ²¡æœ‰keep-aliveæ—¶è·¯ç”±åˆ‡æ¢<br>c. v-if = false æ—¶<br>d. æ”¹å˜keyå€¼</p></blockquote><h4 id="çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°æ‰§è¡Œé¡ºåº"><a href="#çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°æ‰§è¡Œé¡ºåº" class="headerlink" title="çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°æ‰§è¡Œé¡ºåº"></a>çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°æ‰§è¡Œé¡ºåº</h4><p>æŒ‚è½½é˜¶æ®µï¼š<br>çˆ¶beforeCreate -&gt; çˆ¶created -&gt; çˆ¶beforeMount -&gt; å­beforeCreat -&gt; å­created -&gt; å­beforeMount -&gt; å­mounted -&gt; çˆ¶mounted</p><p>æ›´æ–°é˜¶æ®µï¼š<br>çˆ¶beforeUpdate -&gt; å­beforeUpdate -&gt; å­updated -&gt; çˆ¶updated</p><p>é”€æ¯é˜¶æ®µï¼š<br>çˆ¶beforeDestroy -&gt; å­ beforeDestroy -&gt; å­destroyed -&gt; çˆ¶destroyed</p><h3 id="12-Vueç»„ä»¶é€šè®¯æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"><a href="#12-Vueç»„ä»¶é€šè®¯æ–¹å¼æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="12. Vueç»„ä»¶é€šè®¯æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"></a>12. Vueç»„ä»¶é€šè®¯æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</h3><p>çˆ¶å­ç»„ä»¶ï¼š<br>çˆ¶ç»„ä»¶é€šè¿‡ prop å±æ€§ä¼ å€¼ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶é€šè¿‡ $emit() è§¦å‘çˆ¶ç»„ä»¶çš„äº‹ä»¶è¿›è¡Œæ•°æ®ä¼ é€’ã€‚ä¹Ÿå¯é€šè¿‡ $refs è·å–å­ç»„ä»¶å®ä¾‹ä»è€Œè·å–å­ç»„ä»¶ç›¸å…³æ•°æ®</p><p>çˆ¶ç»„ä»¶ä¸­é€šè¿‡ provide æ¥æä¾›å˜é‡ï¼Œç„¶ååœ¨å­ç»„ä»¶ä¸­é€šè¿‡ inject æ¥æ³¨å…¥å˜é‡ã€‚(å®˜æ–¹ä¸æ¨èåœ¨å®é™…ä¸šåŠ¡ä¸­ä½¿ç”¨ï¼Œä½†æ˜¯å†™ç»„ä»¶åº“æ—¶å¾ˆå¸¸ç”¨)</p><p>$parentï¼Œ$children è·å–å½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶å’Œå½“å‰ç»„ä»¶çš„å­ç»„ä»¶</p><p>å…„å¼Ÿç»„ä»¶ï¼š<br><a href="http://localhost:4000/MyBlog/vue-bus-newsletter/">envetBus äº‹ä»¶æ€»çº¿</a> å…„å¼Ÿç»„ä»¶æ•°æ®ä¼ é€’</p><p>éçˆ¶å­ç»„ä»¶ï¼švuexçŠ¶æ€ç®¡ç†</p><h3 id="13-Vuex"><a href="#13-Vuex" class="headerlink" title="13. Vuex"></a>13. Vuex</h3><blockquote><p>vuex æ˜¯vueçš„çŠ¶æ€ç®¡ç†æ’ä»¶<br>ä¼˜ç‚¹ï¼šè§£å†³äº†éçˆ¶å­ç»„ä»¶çš„é€šè®¯ï¼ˆé›†ä¸­ç®¡ç†ï¼Œæ•°æ®å…±äº«ï¼ŒåŠæ—¶å“åº”é¡µé¢ï¼‰ã€å‡å°‘äº†ajaxè¯·æ±‚æœ‰äº›ä¸šåŠ¡æ•°æ®å¯ä»¥å­˜æ”¾åœ¨state ä¸­ï¼ˆæ•°æ®ç¼“å­˜ï¼‰<br>ç¼ºç‚¹ï¼šæµè§ˆå™¨åˆ·æ–°stateä¼šè¢«åˆå§‹åŒ–ï¼ˆè§£å†³æ–¹æ¡ˆï¼švue-along ã€vue-persistentedstateæ’ä»¶ï¼‰<span style="color: red">æ•°æ®æŒä¹…åŒ–é—®é¢˜</span></p></blockquote><blockquote><p>vuex æ•°æ®æŒä¹…åŒ– ä¸€èˆ¬ä½¿ç”¨æœ¬åœ°å­˜å‚¨çš„æ–¹æ¡ˆæ¥ä¿å­˜æ•°æ® å¯ä»¥è‡ªå·±è®¾è®¡å­˜å‚¨æ–¹æ¡ˆ ä¹Ÿå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶<br>æ¨èä½¿ç”¨<span style="color: red"> vuex-persist æ’ä»¶</span>ï¼Œå®ƒå°±æ˜¯ä¸º Vuex æŒä¹…åŒ–å­˜å‚¨è€Œç”Ÿçš„ä¸€ä¸ªæ’ä»¶ã€‚ä¸éœ€è¦ä½ æ‰‹åŠ¨å­˜å– storage ï¼Œè€Œæ˜¯ç›´æ¥å°†çŠ¶æ€ä¿å­˜è‡³ cookie æˆ–è€… localStorage ä¸­</p></blockquote><p>vuexæ ¸å¿ƒï¼š<br>â— stateï¼šå®šä¹‰äº†åº”ç”¨çŠ¶æ€çš„æ•°æ®ç»“æ„ï¼Œç”¨äºæ•°æ®å­˜å‚¨ï¼Œå¯ä»¥åœ¨è¿™é‡Œè®¾ç½®é»˜è®¤çš„åˆå§‹çŠ¶æ€<br>â— gettersï¼šåŸºäºstateæ•°æ®çš„äºŒæ¬¡åŒ…è£…ï¼Œå¸¸ç”¨äºæ•°æ®çš„ç­›é€‰å’Œå¤šä¸ªæ•°æ®çš„ç›¸å…³æ€§è®¡ç®—<br>â— mutationsï¼šå¯ä»¥æ”¹å˜stateä¸­çš„æ•°æ®ï¼Œä¸”å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°<br>â— actionsï¼šå¼‚æ­¥è¯·æ±‚<br>â— modulesï¼šå‘½åç©ºé—´ï¼Œå°†é¡¹ç›®ä¸­çš„å„ä¸ªæ¨¡å—çŠ¶æ€åŒºåˆ†ï¼Œä¾¿äºç»´æŠ¤</p><h4 id="vuexä¸­è·å–çš„æ•°æ®å¯ä»¥ç›´æ¥æ›´æ”¹å—ï¼Ÿ"><a href="#vuexä¸­è·å–çš„æ•°æ®å¯ä»¥ç›´æ¥æ›´æ”¹å—ï¼Ÿ" class="headerlink" title="vuexä¸­è·å–çš„æ•°æ®å¯ä»¥ç›´æ¥æ›´æ”¹å—ï¼Ÿ"></a>vuexä¸­è·å–çš„æ•°æ®å¯ä»¥ç›´æ¥æ›´æ”¹å—ï¼Ÿ</h4><p>ä¸å¯ä»¥ï¼Œä»vuexä¸­è·å–çš„æ•°æ®ä¸èƒ½ç›´æ¥æ›´æ”¹ï¼Œåªèƒ½é€šè¿‡æµ…æ‹·è´å¯¹è±¡ä¹‹åæ›´æ”¹ï¼Œå¦åˆ™æŠ¥é”™ã€‚</p><h3 id="14-è™šæ‹ŸDOMä¼˜ç¼ºç‚¹"><a href="#14-è™šæ‹ŸDOMä¼˜ç¼ºç‚¹" class="headerlink" title="14. è™šæ‹ŸDOMä¼˜ç¼ºç‚¹"></a>14. è™šæ‹ŸDOMä¼˜ç¼ºç‚¹</h3><p>åœ¨æµè§ˆå™¨ä¸­é¢‘ç¹æ“ä½œDOMä¼šå¸¦æ¥å¾ˆå¤§çš„æ€§èƒ½é—®é¢˜ï¼Œè€Œè™šæ‹ŸDOMçš„äº§ç”Ÿæ­£æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ã€‚<br>ä¼˜ç‚¹ï¼š</p><ol><li>ä¿è¯æ€§èƒ½ä¸‹é™</li><li>æ— éœ€æ‰‹åŠ¨æ“ä½œDOMï¼Œé€šè¿‡è™šæ‹ŸDOMå’Œæ•°æ®çš„åŒå‘ç»‘å®šå¯ä»¥æå¤§æé«˜å¼€å‘æ•ˆç‡</li><li>è·¨å¹³å°<br>ç¼ºç‚¹ï¼š</li><li>æ— æ³•è¿›è¡Œæè‡´ä¼˜åŒ–</li><li>é¦–æ¬¡æ¸²æŸ“å¤§é‡è™šæ‹ŸDOMæ—¶ï¼ˆå…¶ä¸­åŒ…å«è™šæ‹ŸDOMçš„è®¡ç®—ï¼‰ä¼šæ¯”è¾ƒæ…¢</li></ol><h3 id="15-Vue-SSRæœåŠ¡ç«¯æ¸²æŸ“"><a href="#15-Vue-SSRæœåŠ¡ç«¯æ¸²æŸ“" class="headerlink" title="15. Vue SSRæœåŠ¡ç«¯æ¸²æŸ“"></a>15. Vue SSRæœåŠ¡ç«¯æ¸²æŸ“</h3><blockquote><p>SSR ä¹Ÿå°±æ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼Œä¹Ÿå°±æ˜¯å°† Vue åœ¨å®¢æˆ·ç«¯æŠŠæ ‡ç­¾æ¸²æŸ“æˆ HTML çš„å·¥ä½œæ”¾åœ¨æœåŠ¡ç«¯å®Œæˆï¼Œç„¶åå†æŠŠ html ç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯<br>ä¼˜ç‚¹ï¼šSSRæœåŠ¡ç«¯æ¸²æŸ“æœ‰ç€æ›´å¥½çš„SEOä¸”é¦–å±åŠ è½½é€Ÿåº¦å¿«<br>ç¼ºç‚¹ï¼šæœåŠ¡ç«¯å‹åŠ›å¤§ï¼Œå¼€å‘æ¡ä»¶ä¹Ÿä¼šå—åˆ°é™åˆ¶ï¼ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“åªæ”¯æŒ beforeCreate å’Œ created ä¸¤ä¸ªé’©å­ã€‚æœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨ç¨‹åºä¹Ÿéœ€è¦å¤„äºnodejsçš„è¿è¡Œç¯å¢ƒ</p></blockquote><h3 id="16-Vueä¸­ä½¿ç”¨äº†å“ªäº›è®¾è®¡æ¨¡å¼"><a href="#16-Vueä¸­ä½¿ç”¨äº†å“ªäº›è®¾è®¡æ¨¡å¼" class="headerlink" title="16. Vueä¸­ä½¿ç”¨äº†å“ªäº›è®¾è®¡æ¨¡å¼"></a>16. Vueä¸­ä½¿ç”¨äº†å“ªäº›è®¾è®¡æ¨¡å¼</h3><p>â— å•ä¾‹æ¨¡å¼ï¼šæ•´ä¸ªç¨‹åºæœ‰ä¸”åªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚vuex å’Œ vue-router çš„æ’ä»¶æ³¨å†Œæ–¹æ³• install åˆ¤æ–­å¦‚æœç³»ç»Ÿå­˜åœ¨å®ä¾‹å°±ç›´æ¥è¿”å›æ‰<br>â— å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼švueäº‹ä»¶æœºåˆ¶<br>â— è§‚å¯Ÿè€…æ¨¡å¼ï¼šå“åº”å¼æ•°æ®åŸç†<br>â— å·¥å‚æ¨¡å¼ï¼šä¼ å…¥å‚æ•°å¯åˆ›å»ºå®ä¾‹ã€‚è™šæ‹Ÿ DOM æ ¹æ®å‚æ•°çš„ä¸åŒè¿”å›åŸºç¡€æ ‡ç­¾çš„ Vnode å’Œç»„ä»¶ Vnode<br>â— è£…é¥°æ¨¡å¼ï¼š@è£…é¥°å™¨çš„ç”¨æ³•<br>â— ç­–ç•¥æ¨¡å¼ï¼šç­–ç•¥æ¨¡å¼æŒ‡å¯¹è±¡æœ‰æŸä¸ªè¡Œä¸º,ä½†æ˜¯åœ¨ä¸åŒçš„åœºæ™¯ä¸­,è¯¥è¡Œä¸ºæœ‰ä¸åŒçš„å®ç°æ–¹æ¡ˆ-æ¯”å¦‚é€‰é¡¹çš„åˆå¹¶ç­–ç•¥<br>â— â€¦ â€¦</p><h3 id="17-Vue-ä¿®é¥°ç¬¦"><a href="#17-Vue-ä¿®é¥°ç¬¦" class="headerlink" title="17. Vue ä¿®é¥°ç¬¦"></a>17. Vue ä¿®é¥°ç¬¦</h3><p>äº‹ä»¶ä¿®é¥°ç¬¦ï¼š<br>.stop é˜»æ­¢äº‹ä»¶ç»§ç»­ä¼ æ’­<br>.prevent é˜»æ­¢æ ‡ç­¾é»˜è®¤è¡Œä¸º<br>.capture ä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼,å³å…ƒç´ è‡ªèº«è§¦å‘çš„äº‹ä»¶å…ˆåœ¨æ­¤å¤„å¤„ç†ï¼Œç„¶åæ‰äº¤ç”±å†…éƒ¨å…ƒç´ è¿›è¡Œå¤„ç†<br>.self åªå½“åœ¨ event.target æ˜¯å½“å‰å…ƒç´ è‡ªèº«æ—¶è§¦å‘å¤„ç†å‡½æ•°<br>.once äº‹ä»¶å°†åªä¼šè§¦å‘ä¸€æ¬¡<br>.passive å‘Šè¯‰æµè§ˆå™¨ä½ ä¸æƒ³é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸º</p><p>v-model çš„ä¿®é¥°ç¬¦ï¼š<br>.lazy é€šè¿‡è¿™ä¸ªä¿®é¥°ç¬¦ï¼Œè½¬å˜ä¸ºåœ¨ change äº‹ä»¶å†åŒæ­¥<br>.number è‡ªåŠ¨å°†ç”¨æˆ·çš„è¾“å…¥å€¼è½¬åŒ–ä¸ºæ•°å€¼ç±»å‹<br>.trim è‡ªåŠ¨è¿‡æ»¤ç”¨æˆ·è¾“å…¥çš„é¦–å°¾ç©ºæ ¼</p><h3 id="18-å¸¸ç”¨çš„æŒ‡ä»¤"><a href="#18-å¸¸ç”¨çš„æŒ‡ä»¤" class="headerlink" title="18. å¸¸ç”¨çš„æŒ‡ä»¤"></a>18. å¸¸ç”¨çš„æŒ‡ä»¤</h3><p>v-ifï¼šåˆ¤æ–­æ˜¯å¦éšè—ï¼›<br>v-forï¼šæ•°æ®å¾ªç¯å‡ºæ¥ï¼›<br>v-bind:classï¼šç»‘å®šä¸€ä¸ªå±æ€§ï¼›<br>v-modelï¼šå®ç°åŒå‘ç»‘å®š</p><h3 id="19-è‡ªå®šä¹‰æŒ‡ä»¤"><a href="#19-è‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="19. è‡ªå®šä¹‰æŒ‡ä»¤"></a>19. è‡ªå®šä¹‰æŒ‡ä»¤</h3><blockquote><p>è‡ªå®šä¹‰æŒ‡ä»¤æœ‰å…¨å±€æ³¨å†Œå’Œå±€éƒ¨æ³¨å†Œä¸¤ç§æ–¹å¼<br>ä½¿ç”¨æ–¹å¼ï¼šç›´æ¥åœ¨è¦ä½¿ç”¨çš„å…ƒç´ ä¸Šå†™ v-dirNameå³å¯<br>æŒ‡ä»¤ä½œç”¨ï¼šä¸»è¦ç”¨äºdomæ“ä½œï¼Œå®ƒçš„ä¸€ä¸ªä¼˜ç‚¹æ˜¯å‡å°‘é‡å¤ï¼ˆvueçš„å®ä¾‹ä¸»è¦ç”¨äºæ•°æ®ç»‘å®šã€äº‹ä»¶ç›‘å¬ã€domæ›´æ–°ï¼‰</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// å…¨å±€æ³¨å†Œ</span>Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'dirName'</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    el<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// å±€éƒ¨æ³¨å†Œï¼šç›´æ¥åœ¨é€‰é¡¹ä¸­æ³¨å†Œ</span>directives<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">//æ³¨æ„è¿™é‡Œè¦å†™æˆ  directives åŠ äº†s</span>  dirName<span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      el<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"x"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è‡ªå®šä¹‰æƒé™æŒ‡ä»¤ï¼ˆæŒ‰é’®ã€ç»„ä»¶æƒé™ï¼‰</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// åœ¨main.js ä¸­è‡ªå®šä¹‰æƒé™æŒ‡ä»¤</span>Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'permission'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token function-variable function">inserted</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>binding <span class="token operator">||</span> <span class="token operator">!</span>binding<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token comment">// è·å–å½“å‰ç™»å½•è€…çš„æƒé™ä¿¡æ¯(è¿‡æ»¤æŒ‰é’®æƒé™)</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'aclThreeTree'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> aclTree <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'aclThreeTree'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// ç»„ä»¶æƒé™æŒ‡ä»¤å¯¹åº”çš„å€¼</span>    <span class="token keyword">const</span> elval <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>aclTree <span class="token operator">&amp;&amp;</span> elval<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">let</span> perms <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>      aclTree<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">{</span>          item<span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">i</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&amp;&amp;</span> i<span class="token punctuation">.</span>children <span class="token operator">&amp;&amp;</span> i<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              i<span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> perms<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦æ‹¥æœ‰è¯¥æƒé™ï¼Œæ²¡æœ‰æƒé™åˆ™ç§»é™¤ç»„ä»¶flag = false</span>      <span class="token keyword">let</span> flag <span class="token operator">=</span> perms<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">f</span> <span class="token operator">=&gt;</span> f<span class="token punctuation">.</span>code<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> elval<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>        el<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é¡µé¢ç»„ä»¶ä½¿ç”¨</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>middle<span class="token punctuation">"</span></span>  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span>  <span class="token attr-name">v-permission</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>allProject:update<span class="token punctuation">'</span><span class="token punctuation">"</span></span>  <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleEdit(scope.row)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ç¼–è¾‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å‡½æ•°å±æ€§<br>bindï¼šåªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨ã€‚åœ¨è¿™é‡Œå¯ä»¥è¿›è¡Œä¸€æ¬¡æ€§çš„åˆå§‹åŒ–è®¾ç½®<br>insertedï¼šè¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨<br>updateï¼šæ‰€åœ¨ç»„ä»¶çš„ VNode æ›´æ–°æ—¶è°ƒç”¨ï¼Œ<br>componentUpdatedï¼šæŒ‡ä»¤æ‰€åœ¨ç»„ä»¶çš„ VNode åŠå…¶å­ VNode å…¨éƒ¨æ›´æ–°åè°ƒç”¨<br>unbindï¼šåªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘æ—¶è°ƒç”¨ã€‚</p><p>å‡½æ•°å‚æ•°<br>elï¼šæŒ‡ä»¤æ‰€ç»‘å®šçš„å…ƒç´ ï¼Œå¯ä»¥ç”¨æ¥ç›´æ¥æ“ä½œ DOMã€‚<br>bindingï¼š é‡Œé¢åŒ…å«äº‹ä»¶ä¿¡æ¯<br>vnodeï¼šVue ç¼–è¯‘ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹ã€‚<br>oldNodeï¼šä¸Šä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼Œä»…åœ¨ update å’Œ componentUpdated é’©å­ä¸­å¯ç”¨ã€‚</p><h3 id="20-Vue2æ€§èƒ½ä¼˜åŒ–çš„æ–¹æ³•"><a href="#20-Vue2æ€§èƒ½ä¼˜åŒ–çš„æ–¹æ³•" class="headerlink" title="20. Vue2æ€§èƒ½ä¼˜åŒ–çš„æ–¹æ³•"></a>20. Vue2æ€§èƒ½ä¼˜åŒ–çš„æ–¹æ³•</h3><p>â— è·¯ç”±æ‡’åŠ è½½ã€å›¾ç‰‡æ‡’åŠ è½½<br>â— keep-aliveç¼“å­˜é¡µé¢<br>â— v-showå¤ç”¨DOM<br>â— ä½¿ç”¨v-foré¿å…åŒæ—¶ä½¿ç”¨v-if<br>â— é˜²æ­¢å†…éƒ¨æ³„æ¼ï¼Œç»„ä»¶é”€æ¯åæŠŠå…¨å±€å˜é‡å’Œäº‹ä»¶é”€æ¯<br>â— é˜²æŠ–ã€èŠ‚æµ<br>â— v-ifã€v-showï¼›computedã€watchåŒºåˆ†ä½¿ç”¨åœºæ™¯<br>â— ç¬¬ä¸‰æ–¹æ’ä»¶çš„æŒ‰éœ€å¼•å…¥<br>â— é•¿åˆ—è¡¨ï¼Œå¦‚æœæ˜¯çº¯æ•°æ®å°±ä¸åšå“åº”åŒ–ï¼›å¤§æ•°æ®åœºåˆ—è¡¨é‡‡ç”¨è™šæ‹Ÿæ»šåŠ¨ï¼Œæ¸²æŸ“å°‘éƒ¨åˆ†å†…å®¹ï¼›äº‹ä»¶é”€æ¯ï¼›å­ç»„ä»¶åˆ†å‰²â€¦</p><h3 id="21-Vue3æœ‰ä»€ä¹ˆæ–°ç‰¹ç‚¹ï¼Ÿ"><a href="#21-Vue3æœ‰ä»€ä¹ˆæ–°ç‰¹ç‚¹ï¼Ÿ" class="headerlink" title="21. Vue3æœ‰ä»€ä¹ˆæ–°ç‰¹ç‚¹ï¼Ÿ"></a>21. Vue3æœ‰ä»€ä¹ˆæ–°ç‰¹ç‚¹ï¼Ÿ</h3><p>â— ç”¨ Proxy ä»£æ›¿ Object.defineProperty é‡æ„äº†å“åº”å¼ç³»ç»Ÿ<br>â— æ–°å¢ Composition API å¯ä»¥æ›´å¥½çš„é€»è¾‘å¤ç”¨å’Œä»£ç ç»„ç»‡ï¼ŒåŒä¸€åŠŸèƒ½çš„ä»£ç ä¸è‡³äºåƒä»¥å‰ä¸€æ ·å¤ªåˆ†æ•£ï¼Œè™½ç„¶ Vue2 ä¸­å¯ä»¥ç”¨ minxin æ¥å®ç°å¤ç”¨ä»£ç ï¼Œä½†ä¹Ÿå­˜åœ¨é—®é¢˜ï¼Œæ¯”å¦‚æ–¹æ³•æˆ–å±æ€§åä¼šå†²çªï¼Œä»£ç æ¥æºä¹Ÿä¸æ¸…æ¥šç­‰<br>â— ç”¨ setup ä»£æ›¿äº† beforeCreate å’Œ created è¿™ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸ<br>â— é‡æ„äº†è™šæ‹Ÿ DOMï¼Œåœ¨ç¼–è¯‘æ—¶ä¼šå°†äº‹ä»¶ç¼“å­˜ã€å°† slot ç¼–è¯‘ä¸º lazy å‡½æ•°ã€ä¿å­˜é™æ€èŠ‚ç‚¹ç›´æ¥å¤ç”¨(é™æ€æå‡)ã€ä»¥åŠæ·»åŠ é™æ€æ ‡è®°ã€Diff ç®—æ³•ä½¿ç”¨ æœ€é•¿é€’å¢å­åºåˆ— ä¼˜åŒ–äº†å¯¹æ¯”æµç¨‹<br>â— â€¦ â€¦</p><h4 id="Composition-API"><a href="#Composition-API" class="headerlink" title="Composition API"></a>Composition API</h4><blockquote><p>Vue2 ä¸­ Options API åªèƒ½å›ºå®šç”¨ dataã€computedã€methods ç­‰é€‰é¡¹ç»„ç»‡ä»£ç ï¼Œåœ¨ç»„ä»¶è¶Šæ¥è¶Šå¤æ‚çš„æ—¶å€™ï¼Œä¸€ä¸ªåŠŸèƒ½ç›¸å…³çš„å±æ€§å’Œæ–¹æ³•å°±ä¼šåœ¨æ–‡ä»¶ä¸Šä¸­ä¸‹åˆ°å¤„éƒ½æœ‰ï¼Œå¾ˆåˆ†æ•£ï¼Œå˜è¶Šæ¥è¶Šéš¾ç»´æŠ¤<br>Vue2 ä¸­è™½ç„¶å¯ä»¥ç”¨ minxin æ¥åšé€»è¾‘çš„æå–å¤ç”¨ï¼Œä½†æ˜¯ minxin é‡Œçš„å±æ€§å’Œæ–¹æ³•åä¼šå’Œç»„ä»¶å†…éƒ¨çš„å‘½åå†²çªï¼Œè¿˜æœ‰å½“å¼•å…¥å¤šä¸ª minxin çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„å±æ€§æˆ–æ–¹æ³•æ˜¯æ¥äºå“ªä¸ª minxin ä¹Ÿä¸æ¸…æ¥š<br>è€Œ Composition APIï¼ˆç»„åˆå¼ APIï¼‰å¯ä»¥è§£å†³ Vue2 Options APIçš„è¿™äº›é—®é¢˜ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§ã€ä¾¿äºç»´æŠ¤æ‰©å±•</p></blockquote><p><b>å…³äºsetup</b><br><span style="color: red">setup() æ–¹æ³•æ˜¯åœ¨ beforeCreate() ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¹‹å‰æ‰§è¡Œçš„å‡½æ•°ï¼›</span>å®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•° props å’Œ contextã€‚å®ƒé‡Œé¢ä¸èƒ½ä½¿ç”¨ thisï¼Œè€Œæ˜¯é€šè¿‡ context å¯¹è±¡æ¥ä»£æ›¿å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡ç»‘å®šçš„å¯¹è±¡ï¼Œcontext å¯¹è±¡æœ‰å››ä¸ªå±æ€§ï¼šattrsã€slotsã€emitã€expose</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// æ–¹æ³•</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token operator">:</span><span class="token string">'æµ‹è¯•'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token comment">// è¯­æ³•ç³–</span><span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span><span class="token comment">// å“åº”å¼</span><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'æµ‹è¯•'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'æ¥ ç«¹'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><!-- <img src="./display-img.awebp" width="86%"/> --><blockquote><p>â€œéšœç¢å°±æ˜¯å½“ä½ çš„è§†çº¿ç¦»å¼€ç›®æ ‡æ—¶ï¼Œæ‰€çœ‹åˆ°çš„é‚£äº›å¯æ€•çš„ä¸œè¥¿ã€‚â€ â€”â€” ã€Šå·¨äººä¼ ã€‹</p></blockquote><img src="https://s4.ax1x.com/2022/02/11/HU5b9O.jpg" width="45%">]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨JSè·å–åœ°å€æ å‚æ•°</title>
      <link href="/MyBlog/client-js-note/"/>
      <url>/MyBlog/client-js-note/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€ç”¨JSè·å–åœ°å€æ å‚æ•°"><a href="#ä¸€ã€ç”¨JSè·å–åœ°å€æ å‚æ•°" class="headerlink" title="ä¸€ã€ç”¨JSè·å–åœ°å€æ å‚æ•°"></a>ä¸€ã€ç”¨JSè·å–åœ°å€æ å‚æ•°</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 1. è·å–åœ°å€æ å®Œæ•´çš„å­—ç¬¦ä¸²</span><span class="token keyword">let</span> urlStr <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token comment">// 2. è·å–ipåè®®ä¸ç«¯å£</span><span class="token keyword">let</span> ip <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>protocol <span class="token operator">+</span> <span class="token string">'//'</span> <span class="token operator">+</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>host <span class="token operator">+</span> <span class="token string">'/'</span><span class="token keyword">let</span> port <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>port<span class="token comment">// 3. è·å–å‚æ•°éƒ¨åˆ†</span><span class="token keyword">let</span> params <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search<span class="token comment">// 4. ä½¿ç”¨æ­£åˆ™çš„æ–¹å¼æ¥è·å–åœ°å€æ å‚æ•°ï¼ˆæ¨èä½¿ç”¨ï¼‰</span><span class="token keyword">function</span> <span class="token function">getUrlQueryStr</span><span class="token punctuation">(</span><span class="token parameter">paramsName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'[?|&amp;]'</span> <span class="token operator">+</span> paramsName <span class="token operator">+</span> <span class="token string">'='</span> <span class="token operator">+</span> <span class="token string">'([^&amp;;]+?)(&amp;|#|;|$)'</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>href<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'%20'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">}</span><span class="token function">getUrlQueryStr</span><span class="token punctuation">(</span><span class="token string">'å‚æ•°å1'</span><span class="token punctuation">)</span><span class="token function">getUrlQueryStr</span><span class="token punctuation">(</span><span class="token string">'å‚æ•°å2'</span><span class="token punctuation">)</span><span class="token operator">...</span> <span class="token operator">...</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsæ•°ç»„map()æ–¹æ³•æ˜¯å¦ä¼šæ”¹å˜åŸæ•°ç»„ï¼Ÿ</title>
      <link href="/MyBlog/client-map/"/>
      <url>/MyBlog/client-map/</url>
      
        <content type="html"><![CDATA[<h2 id="JavaScript-Array-map-æ–¹æ³•"><a href="#JavaScript-Array-map-æ–¹æ³•" class="headerlink" title="JavaScript Array map() æ–¹æ³•"></a>JavaScript Array map() æ–¹æ³•</h2><h3 id="å®šä¹‰å’Œç”¨æ³•"><a href="#å®šä¹‰å’Œç”¨æ³•" class="headerlink" title="å®šä¹‰å’Œç”¨æ³•"></a>å®šä¹‰å’Œç”¨æ³•</h3><blockquote><p>map() æ–¹æ³•ä½¿ç”¨ä¸ºæ¯ä¸ªæ•°ç»„å…ƒç´ è°ƒç”¨å‡½æ•°çš„ç»“æœåˆ›å»ºæ–°æ•°ç»„ã€‚<br>map() æ–¹æ³•æŒ‰é¡ºåºä¸ºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨ä¸€æ¬¡æä¾›çš„å‡½æ•°ã€‚<br>æ³¨é‡Šï¼šmap() å¯¹æ²¡æœ‰å€¼çš„æ•°ç»„å…ƒç´ ä¸æ‰§è¡Œå‡½æ•°ã€‚<br>æ³¨é‡Šï¼šmap() ä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„ã€‚<br>æ‘˜è‡ª<a href="https://www.w3school.com.cn/jsref/jsref_map.asp">w3school æ–‡æ¡£</a></p></blockquote><h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><h4 id="åŸºç¡€æ•°æ®ç±»å‹"><a href="#åŸºç¡€æ•°æ®ç±»å‹" class="headerlink" title="åŸºç¡€æ•°æ®ç±»å‹"></a>åŸºç¡€æ•°æ®ç±»å‹</h4><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>item <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºç»“æœï¼š [65, 44, 12, 4] // map()æ–¹æ³•æ²¡æœ‰æ”¹å˜åŸæ•°ç»„</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å¼•ç”¨æ•°æ®ç±»å‹"><a href="#å¼•ç”¨æ•°æ®ç±»å‹" class="headerlink" title="å¼•ç”¨æ•°æ®ç±»å‹"></a>å¼•ç”¨æ•°æ®ç±»å‹</h4><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> friends <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token string">'æ¥ ç«¹'</span><span class="token punctuation">,</span>        sex<span class="token operator">:</span> <span class="token string">'girl'</span><span class="token punctuation">,</span>        url<span class="token operator">:</span> <span class="token string">'https://leisuping.github.io/MyBlog/'</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token string">'Alisa'</span><span class="token punctuation">,</span>        sex<span class="token operator">:</span> <span class="token string">'girl'</span><span class="token punctuation">,</span>        url<span class="token operator">:</span> <span class="token string">'https://leisuping.github.io/MyBlog/'</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token string">'jason'</span><span class="token punctuation">,</span>        sex<span class="token operator">:</span> <span class="token string">'girl'</span><span class="token punctuation">,</span>        url<span class="token operator">:</span> <span class="token string">'https://leisuping.github.io/MyBlog/'</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span>friends<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'æ¥ ç«¹'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    item<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'æ¥ ç«¹è‡å‡‰'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'jason'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    item<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token string">'boy'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>friends<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç»“æœå¦‚ä¸‹ // map()æ–¹æ³•æ”¹å˜äº†åŸæ•°ç»„</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="./map02.jpg"></p><p>åŸºæœ¬æ•°æ®ç±»å‹çš„å€¼å­˜æ”¾åœ¨æ ˆå†…å­˜ï¼ˆStackï¼‰é‡Œï¼Œæ˜¯æŒ‰å€¼è®¿é—®çš„ã€‚è€Œå¼•ç”¨ç±»å‹çš„å€¼ä¿å­˜åœ¨å †å†…å­˜ï¼ˆHeapï¼‰ä¸­çš„ï¼Œæ˜¯æŒ‰å¼•ç”¨è®¿é—®çš„ã€‚è¯¦æƒ…å‚è§ğŸ”<a href="https://www.runoob.com/w3cnote/javascript-basic-types-and-reference-types.html">JavaScript æ·±å…¥äº†è§£åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„å€¼</a></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ç»¼ä¸Šæ‰€è¿°ï¼Œæ•°ç»„çš„map()æ–¹æ³•æ˜¯å¦ä¼šæ”¹å˜åŸæ•°ç»„å–å†³äºåŸæ•°ç»„ä¸­çš„å€¼ã€‚<br>å¦‚æœæ•°ç»„ä¸­æ˜¯åŸºç¡€æ•°æ®ç±»å‹ï¼Œmap()æ–¹æ³•ä¸ä¼šæ”¹å˜åŸæ•°ç»„<br>å¦‚æœæ•°ç»„ä¸­æ˜¯<span style="color: red">å¼•ç”¨æ•°æ®ç±»å‹</span>ï¼Œmap()æ–¹æ³•åˆ™<span style="color: red">ä¼šæ”¹å˜åŸæ•°ç»„</span></p>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¯·å›ç­”2021ï½œ2021å€’è®¡æ—¶11å¤©</title>
      <link href="/MyBlog/specialpush-please-answer2021/"/>
      <url>/MyBlog/specialpush-please-answer2021/</url>
      
        <content type="html"><![CDATA[<img src="./image03.jpg" width="60%"><blockquote><p>æ—©ä¸Šåœ¨æ˜é‡‘ä¸Šçœ‹åˆ°è¿™ä¸ªæ²¸ç‚¹è¯é¢˜â€œè¯·å›ç­”2021â€æˆ‘çªç„¶æ„è¯†åˆ°2021å°±åªå‰©ä¸‹ä¸€ä¸ªæ˜ŸæœŸäº†ï¼Œæƒ³ç€å†™ç‚¹ä»€ä¹ˆæ€»ç»“ä¸€ä¸‹æˆ–æ˜¯è®°å½•ä¸€äº›å›å¿†ğŸ“</p></blockquote><h3 id="å·¥ä½œçš„è½¬æŠ˜"><a href="#å·¥ä½œçš„è½¬æŠ˜" class="headerlink" title="å·¥ä½œçš„è½¬æŠ˜"></a>å·¥ä½œçš„è½¬æŠ˜</h3><blockquote><p>2021å¹´å·¥ä½œä¸Šæœ€å¤§çš„å˜åŒ–æ˜¯åœ¨å…¬å¸ä»åç«¯è½¬åšäº†å‰ç«¯<br>æœ¬äººåœ¨é•¿æ²™çš„ä¸€ä¸ªå°åˆ›ä¸šå…¬å¸å·¥ä½œï¼Œä»å…¥èŒçš„åç«¯ä»Šå¹´è½¬ä¸ºäº†å…¨èŒå‰ç«¯ï¼Œè¿‡ç¨‹é è‡ªå·±æ‘¸ç´¢è¿˜æœ‰â€œè´µäººâ€çš„æç‚¹<br>å› ä¸ºæ²¡æœ‰ç³»ç»ŸåŒ–å­¦ä¹ è¿‡å‰ç«¯ï¼Œæ‰€ä»¥è®¸å¤šæŠ€èƒ½è¿˜åœ¨â€å†·å´ä¸­â€œï¼Œè®¸å¤šé¢†åŸŸè¿˜æœªæ¶‰åŠæ¯”å¦‚ï¼šappã€å°ç¨‹åºã€å…¬ä¼—å·â€¦<br>è™½ç„¶ç›®å‰è¿˜åªæ˜¯åˆšå…¥é—¨ï¼Œä½†æ˜¯æˆ‘æœªæ¥çš„è§„åˆ’è¿˜æ˜¯ç»§ç»­å¾€å‰ç«¯å‘å±•ã€‚</p></blockquote><blockquote><p>è½¬å‰ç«¯åæ¯”è¾ƒå¤§çš„è½¬å˜å°±æ˜¯å¼€å§‹æ³¨é‡ç•Œé¢çš„ç¾è§‚ã€æ³¨é‡ç•Œé¢æ€§èƒ½ã€å“åº”é€Ÿåº¦â€¦<br>è¿™äº›éƒ½å–å†³äºä¸ªäººçš„å®¡ç¾ã€å¯¹ä¸šåŠ¡çš„ç†è§£ã€å¯¹æŠ€æœ¯çš„æŒæ¡ç¨‹åº¦ä»¥åŠè‡ªå·±å¹³æ—¶çš„æ€è€ƒ<br>åæœŸä¼šç€é‡æé«˜è‡ªå·±è¿™æ–¹é¢çš„èƒ½åŠ›ï¼Œå†™ä¼˜è´¨çš„ä»£ç ï¼Œå‘å¤§ä½¬ä»¬å­¦ä¹ åšä¸€ä¸ªæœ‰æ¶µå…»çš„â€å‰ç«¯æ”»åŸç‹®â€œğŸ¦ï¸<br>æ€»çš„æ¥è¯´å­¦ä¹ å‰ç«¯å¯¹æˆ‘æ¥è¯´æ˜¯ä¸€ä¸ªå·¨å¤§çš„æŒ‘æˆ˜ï¼Œæ¥å¹´ç»§ç»­åº”æˆ˜ğŸ‘Š</p></blockquote><h3 id="2021æœ€ç¾çš„ç›¸é‡"><a href="#2021æœ€ç¾çš„ç›¸é‡" class="headerlink" title="2021æœ€ç¾çš„ç›¸é‡"></a>2021æœ€ç¾çš„ç›¸é‡</h3><blockquote><p>æœ€ç¾çš„ç›¸é‡ä¹‹ä¸­å›½çš„æœ€å—ç«¯ â€”â€” æµ·å—ğŸŒ´ Serendipityï½<br>ä»Šå¹´çš„å›½åº†æˆ‘ä»¬æ¥äº†ä¸€æ¬¡è¯´èµ°å°±èµ°çš„æ—…è¡Œï¼Œâœˆï¸9æœˆ30æ—¥é‚£æ˜¯æˆ‘ä»¬ä¸è¿™ä¸ªåä¸ºâ€œç¼â€çš„åŸå¸‚ç¬¬ä¸€æ¬¡ğŸŒˆç›¸é‡<br>æˆ‘ä»¬åœ¨å®ƒçš„çœä¼šåŸå¸‚æµ·å£è½åœ°ï¼Œå¼€å§‹äº†ç¬¬ä¸€æ¬¡è‡ªé©¾æ¸¸æ—…è¡Œã€‚<br>å½“å¤©åœ¨æµ·å£çš„éª‘æ¥¼è€è¡—åƒå½“åœ°ç‰¹è‰²å°åƒã€åœ¨å‡æ—¥æµ·æ»©è¾¹å¹æµ·é£å¬å¤§æµ·ä¼ æ¥çš„éŸ³å¾‹ğŸµ<br>æ¬¡æ—¥æˆ‘ä»¬å»äº†ç”µè§†å‰§å°å¨˜æƒ¹çš„å–æ™¯åœ°ï¼Œç©¿ä¸Šå¨˜æƒ¹æœèµ°åœ¨è¡—é“ä¸Šï¼Œä¸è¿œå¤„ä¼ æ¥è€çˆ·è½¦çš„é¸£ç¬›ï¼Œå›å¤´çš„é‚£ä¸€åˆ¹é‚£ä»¿ä½›è‡ªå·±çœŸçš„ç©¿è¶Šæ—¶ç©ºåˆ°äº†é©¬æ¥è¥¿äºšâ€¦<br>å‚æ™šæˆ‘ä»¬åˆæ¥åˆ°äº†æœ€ç¾çš„æ¤°æ—ï¼Œåœ¨æ¤°æ—æ·±å¤„çš„æµ·æ»©ä¸Šæ¡è´å£³çœ‹è½æ—¥ä¸æ™šéœğŸŒ†ï¼Œæ™šä¸Šè¿˜åœ¨æ°‘å®¿å“å°åˆ°å½“åœ°ç‰¹äº§æ¤°å­é¸¡ğŸ¥¥ â€¦<br>åé¢çš„æ¯ä¸€å¤©æˆ‘ä»¬éƒ½å……åˆ†åˆ©ç”¨ï¼Œä»æµ·å£ï¼ˆéª‘æ¥¼è€è¡—ã€å‡æ—¥æµ·æ»©ï¼‰- å†¯å°åˆšç”µå½±å…¬ç¤¾ğŸ¬ - ä¸œéƒŠæ¤°æ— - ä¸‰äºšï¼ˆæµ·æ£ æ¹¾ï¼‰- è¥¿å²› - å¤§å°æ´å¤© - å¤©æ¶¯é•‡<br>ä¸ƒå¤©çš„æ—¶é—´æˆ‘ä»¬ä»æµ·å£åˆ°ä¸‰äºšæœ€ååˆå›åˆ°æµ·å£ï¼ŒæœŸé—´æœ‰å¤ªå¤šå¤ªå¤šç¾å¥½çš„å›å¿†ï¼Œæ˜¯ä»Šå¹´æœ€å¤§çš„æƒŠå–œä¹Ÿæ˜¯ä»Šå¹´å”¯ä¸€çš„æ”¶è·ã€‚<br>éƒ½è¯´åŒ—æ–¹åŸå¸‚é£å…‰æ— é™ï¼ˆå¦‚æœä¸‹æ¬¡æ—…è¡Œæœ‰æœºä¼šæˆ‘ä¹Ÿæƒ³äº²çœ¼è§è¯†ä¸€ä¸‹åŒ—æ–¹åŸå¸‚çš„å¤§å¥½æ²³å±±ï¼‰ï¼Œè€Œæˆ‘ç”Ÿåœ¨å—æ–¹ï¼Œäº¦ä¸ºå—æ–¹åŸå¸‚çš„é£æƒ…ä¸‡ç§æŠ˜è…°ã€‚</p></blockquote><img src="./image02.jpg" width="98%"><img src="./image04.jpg" width="98%"><h3 id="æœ€é—æ†¾çš„äº‹æƒ…"><a href="#æœ€é—æ†¾çš„äº‹æƒ…" class="headerlink" title="æœ€é—æ†¾çš„äº‹æƒ…"></a>æœ€é—æ†¾çš„äº‹æƒ…</h3><blockquote><p>2021å¹´æœ€é—æ†¾çš„äº‹æƒ…å¤§æ¦‚å°±æ˜¯æ²¡èƒ½åšæŒè‡ªå·±çš„çˆ±å¥½ğŸ’—<br>å…¶å®æ¯å¹´é—æ†¾çš„äº‹æƒ…éƒ½æœ‰å¾ˆå¤šï¼Œä»Šå¹´ä¹Ÿä¸ä¾‹å¤–ã€‚åŸæœ¬è®¡åˆ’å¥½çš„äº‹æƒ…ï¼Œéšç€æ—¶é—´ä¸€ä»¶ä¸€ä»¶è¢«è½ä¸‹ã€‚è€ŒåšæŒè·³èˆğŸ’ƒè¿™ä¸ªçˆ±å¥½å…¶å®æ˜¯æœ€å°ä¹Ÿæœ€å®¹æ˜“å®ç°çš„ä¸€ä»¶ã€‚<br>2020å¹´ä¸‹åŠå¹´ï¼Œæˆ‘ç¬¬ä¸€æ¬¡æˆå…¨è‡ªå·±çš„çˆ±å¥½ç»™è‡ªå·±åŠäº†ä¸€å¼ èˆè¹ˆå¡ã€‚ç‹ ç‹ çš„ç«‹ä¸‹flagä¸€å®šè¦åšæŒä¸‹å»ï¼Œå­¦ä¹ äº†å¤§æ¦‚3ä¸ªæœˆä¹Ÿç®—å°æœ‰æˆå°±<br>å­¦ä¹ èˆè¹ˆçš„é‚£æ®µæ—¶é—´ï¼Œæ˜¯æˆ‘æœ€å¼€å¿ƒçš„æ—¶å…‰ã€‚å› ä¸ºæˆ‘æŠŠç”Ÿæ´»ä¸å·¥ä½œå¹³è¡¡çš„å¾ˆå¥½ï¼Œå·¥ä½œä¹‹å¤–è¿˜èƒ½å¤Ÿåšè‡ªå·±å–œæ¬¢çš„äº‹æƒ…ï¼Œå¹¶ä¸”å°æœ‰æ”¶è·ğŸ¥³<br>ä½†ä»Šå¹´å› ä¸ºå„ç§åŸå› ï¼Œæˆ‘æ²¡èƒ½å¤ŸåšæŒå»èˆè¹ˆå®¤ï¼Œé€€æ­¥ä¸ºé›¶åŸºç¡€ï¼Œèº«ä½“ä¹Ÿå¤§ä¸å¦‚ä¹‹å‰ï¼Œä¸‹åŠå¹´çš„ä½“æ£€å¤§å¤§å°å°çš„æ¯›ç—…<br>é©¬ä¸Šå°±å¿«è·¨å¹´äº†ï¼Œç›®å‰è¿™ä»¶äº‹æˆä¸ºäº†æˆ‘ä»Šå¹´æœ€å¤§çš„é—æ†¾â€¦</p></blockquote><h3 id="12æœˆçš„å°å¹¸è¿"><a href="#12æœˆçš„å°å¹¸è¿" class="headerlink" title="12æœˆçš„å°å¹¸è¿"></a>12æœˆçš„å°å¹¸è¿</h3><blockquote><p>2021å¹´æœ€åä¸€ä¸ªæœˆï¼Œæˆ‘ä¹Ÿæœ‰å±äºè‡ªå·±çš„å°å¹¸è¿â˜ªï¸<br>æˆ‘æˆåŠŸé¢„çº¦åˆ°äº†hpvç–«è‹—ï¼Œå°±åœ¨ä¸Šå‘¨é¡ºåˆ©æ¥ç§ç¬¬ä¸€é’ˆæ— ä¸è‰¯ååº”å“ˆå“ˆå“ˆ<br>æœŸé—´æœ‰è¿‡ä¸€ç‚¹ç‚¹å°ç£•ç»Šï¼Œä½†æ˜¯æœ€ç»ˆè¿˜æ˜¯çº¦ä¸Šäº†ã€‚å˜»å˜»ï¼Œæœ€åå¸Œæœ›å¤§å®¶éƒ½èƒ½åœ¨æœ¬æœˆæ”¶è·å¥½è¿ğŸ€</p></blockquote><blockquote><p>ğŸ’“ æœ€åï¼Œæ„¿æˆ‘ä»¬èƒ½åšè‡ªå·±çš„å‹‡å£«ï¼Œçƒ­çˆ±ç”Ÿæ´»ï¼ŒæŠ«è†æ–©æ£˜æ— æ‰€ä¸èƒ½</p></blockquote><img src="./image01.jpg" width="50%" title="ä¸€ä¸ªæœ‰æµ·é£å¹è¿‡æ£•æ¦ˆæ ‘çš„å¤å¤©ï½â˜€ï¸">]]></content>
      
      
      <categories>
          
          <category> nzglå›å¿†å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> special push </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•ä¼˜é›…çš„å¤„ç†å‰ç«¯ä¸€äº›å°é—®é¢˜ï¼ˆä¸€ï¼‰</title>
      <link href="/MyBlog/client-written-exam/"/>
      <url>/MyBlog/client-written-exam/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€æ•…äº‹åˆ†äº«"><a href="#ä¸€ã€æ•…äº‹åˆ†äº«" class="headerlink" title="ä¸€ã€æ•…äº‹åˆ†äº«"></a>ä¸€ã€æ•…äº‹åˆ†äº«</h2><blockquote><p>ğŸ¯ ä¹‹å‰æœ‰åˆ†äº«è¿‡ä¸€äº›ç†è®ºçŸ¥è¯†<a href="https://leisuping.github.io/MyBlog/client-tips/">å‘å¾®å°å‰ç«¯æ¯æ—¥ä¸€ä¸ªâ€œç¦»èŒâ€å°æŠ€å·§</a>ä»Šå¤©æˆ‘ä»¬æ¥èŠä¸€äº›ç¡¬æ ¸ä¸€ç‚¹çš„æŠ€æœ¯ç‚¹<br>ğŸ“å°ç¼–ä¹Ÿæ˜¯åˆçº§å…¥é—¨å‰ç«¯å¦‚æœ‰ç†è§£ä¸å½“è¯·å„ä½å¤§ä½¬æµ·æ¶µå“¦ï¼ğŸ˜¯</p></blockquote><h2 id="äºŒã€è¿›å…¥æ­£é¢˜"><a href="#äºŒã€è¿›å…¥æ­£é¢˜" class="headerlink" title="äºŒã€è¿›å…¥æ­£é¢˜"></a>äºŒã€è¿›å…¥æ­£é¢˜</h2><h3 id="1-new-çš„å®ç°"><a href="#1-new-çš„å®ç°" class="headerlink" title="1. new çš„å®ç°"></a>1. new çš„å®ç°</h3><p>å‰æï¼šäº†è§£jsåŸå‹ä¸åŸå‹é“¾ï¼Œå¯é˜…è¯»<a href="https://leisuping.github.io/MyBlog/facial-meridian-two/">jsåŸºç¡€ç¯‡ä¹‹â€œæ·±å…¥æµ…å‡ºâ€</a></p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">/** * 1.è·å–æ„é€ å‡½æ•° * 2.åˆ›å»ºæ–°çš„å¯¹è±¡ * 3.å°†æ–°å¯¹è±¡çš„_proto_æŒ‡å‘æ„é€ å‡½æ•°çš„prototype * 4.æ‰§è¡Œæ„é€ å‡½æ•°ï¼ˆä¸ºæ–°å¯¹è±¡æ·»åŠ å±æ€§è·Ÿæ–¹æ³•ï¼‰å°†æ„é€ ä¸­çš„thisæŒ‡å‘æ–°å¯¹è±¡ * 5.åˆ¤æ–­å‡½æ•°çš„è¿”å›ç±»å‹ï¼Œå¦‚æœæ˜¯å€¼ç±»å‹ï¼Œè¿”å›åˆ›å»ºçš„å¯¹è±¡ã€‚å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œè¿”å›è¿™ä¸ªå¼•ç”¨ç±»å‹çš„å¯¹è±¡ã€‚ * @returns */</span><span class="token keyword">function</span> <span class="token function">myNew</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> Constructor <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  obj<span class="token punctuation">.</span>_proto_ <span class="token operator">=</span> <span class="token class-name">Constructor</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>  <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">Constructor</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token keyword">typeof</span> result <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">?</span> result <span class="token operator">:</span> obj<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-call-çš„å®ç°"><a href="#2-call-çš„å®ç°" class="headerlink" title="2. call çš„å®ç°"></a>2. call çš„å®ç°</h3><p>å‰æï¼šäº†è§£jsçš„thisæŒ‡å‘ï¼Œå¯é˜…è¯»<a href="https://leisuping.github.io/MyBlog/facial-meridian-two/">jsåŸºç¡€ç¯‡ä¹‹â€œæ·±å…¥æµ…å‡ºâ€</a></p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">/** * 1.è·å–ä¸Šä¸‹æ–‡ * 2.é‡ç½®ä¸Šä¸‹æ–‡ * 3.æˆªå–å‚æ•° * 4.æ‰§è¡Œå‡½æ•° * 5.åˆ é™¤å±æ€§é¿å…æ±¡æŸ“ * 6.è¿”å›ç»“æœ * @param {*} context  * @returns  */</span><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myCall</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  context <span class="token operator">=</span> context <span class="token operator">?</span> <span class="token function">Object</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">:</span> window<span class="token punctuation">;</span>  context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">let</span> result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn<span class="token punctuation">;</span>  <span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-å¯¹è±¡çš„æ·±æµ…æ‹·è´"><a href="#3-å¯¹è±¡çš„æ·±æµ…æ‹·è´" class="headerlink" title="3. å¯¹è±¡çš„æ·±æµ…æ‹·è´"></a>3. å¯¹è±¡çš„æ·±æµ…æ‹·è´</h3><blockquote><p>å…³äºå¯¹è±¡çš„æ·±æµ…æ‹·è´<br>æµ…æ‹·è´ï¼š<br>1.Object.assign(target,source)<br>2.es6å¯¹è±¡æ‰©å±•è¿ç®—ç¬¦<br>æ·±æ‹·è´ï¼šé€’å½’è°ƒç”¨/åºåˆ—åŒ–</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">/** * é€’å½’æ‹·è´(ç®€å•ç‰ˆ) * 1.åˆ¤æ–­objæ˜¯å¦ä¸ºä¸€ä¸ªå¯¹è±¡ * 2.åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œèµ‹å€¼ä¸ºç©º * 3.å¾ªç¯objå¯¹è±¡ï¼Œè·å–å¯¹è±¡è‡ªèº«çš„å±æ€§å€¼ï¼Œå¹¶èµ‹å€¼ç»™æ–°å¯¹è±¡ï¼ˆå¦‚æœå¯¹è±¡çš„å±æ€§å€¼ä¸º'object'è¿›å…¥æ–°ä¸€è½®çš„æ‹·è´ï¼‰ * 4.è¿”å›æ–°å¯¹è±¡ * @param obj  * @returns  */</span><span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>obj <span class="token operator">||</span> <span class="token keyword">typeof</span> obj <span class="token operator">!=</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>  <span class="token keyword">let</span> newObj <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// åˆ¤æ–­å¯¹è±¡æ˜¯å¦åŒ…å«è‡ªèº«å±æ€§ï¼ˆéç»§æ‰¿ï¼‰</span>      newObj<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">?</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> obj<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> newObj<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// åºåˆ—åŒ–ï¼šJSON.stringify()åºåˆ—åŒ–è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œé€šè¿‡JSON.parse()å†å°†å…¶è½¬ä¸ºå¯¹è±¡ï¼Œæœ€ç»ˆå¾—åˆ°çš„å¯¹è±¡å³ä¸ºæ·±æ‹·è´çš„å¯¹è±¡</span><span class="token comment">//ï¼ˆç®€å•æ•°æ®ç»“æ„çš„å¯¹è±¡å¯ä»¥é€šè¿‡æ­¤æ–¹æ³•å®ç°æ·±æ‹·è´ï¼‰</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€’å½’æ‹·è´(å¤æ‚ç‰ˆ)<a href="https://juejin.cn/post/6946022649768181774">æ¥æºäºç½‘ç»œ åŸæ–‡é“¾æ¥</a></p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">isObject</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> target <span class="token operator">===</span> <span class="token string">"object"</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> target <span class="token operator">===</span> <span class="token string">"function"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> target <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> target<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment">// è·å–å½“å‰å€¼çš„æ„é€ å‡½æ•°ï¼šè·å–å®ƒçš„ç±»å‹</span>  <span class="token keyword">let</span> constructor <span class="token operator">=</span> target<span class="token punctuation">.</span>constructor<span class="token punctuation">;</span>  <span class="token comment">// æ£€æµ‹å½“å‰å¯¹è±¡targetæ˜¯å¦ä¸æ­£åˆ™ã€æ—¥æœŸæ ¼å¼å¯¹è±¡åŒ¹é…</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(RegExp|Date)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>constructor<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„ç‰¹æ®Šå¯¹è±¡(æ­£åˆ™ç±»/æ—¥æœŸç±»)çš„å®ä¾‹</span>      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">constructor</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isObject</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ä¸ºå¾ªç¯å¼•ç”¨çš„å¯¹è±¡åšæ ‡è®°</span>    <span class="token keyword">const</span> cloneTarget <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> prop <span class="token keyword">in</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            cloneTarget<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> cloneTarget<span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> target<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4-æ•°ç»„å»é‡ã€æ•°ç»„æ‰å¹³åŒ–ã€ä¸€ç»´æ•°ç»„è½¬äºŒç»´æ•°ç»„"><a href="#4-æ•°ç»„å»é‡ã€æ•°ç»„æ‰å¹³åŒ–ã€ä¸€ç»´æ•°ç»„è½¬äºŒç»´æ•°ç»„" class="headerlink" title="4. æ•°ç»„å»é‡ã€æ•°ç»„æ‰å¹³åŒ–ã€ä¸€ç»´æ•°ç»„è½¬äºŒç»´æ•°ç»„"></a>4. æ•°ç»„å»é‡ã€æ•°ç»„æ‰å¹³åŒ–ã€ä¸€ç»´æ•°ç»„è½¬äºŒç»´æ•°ç»„</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// è¡¥å……ï¼šæ™®é€šä¸€ç»´æ•°ç»„å¯ä»¥é€šè¿‡Setæ¥å®ç°å»é‡</span><span class="token keyword">function</span> <span class="token function">unique</span> <span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æˆ–è€… [...new Set(arr)];</span><span class="token punctuation">}</span><span class="token comment">// æ•°ç»„å»é‡ä»¥åŠæ‰å¹³åŒ–å¤„ç†ï¼š</span><span class="token comment">// æ–¹æ³•ä¸€ï¼ˆæ™®é€šé€’å½’ + concatï¼šå› ä¸ºæ–¹æ³•è¿”å›çš„æ˜¯æ•°ç»„ï¼Œæ‰€ä»¥è¦ç”¨concatæ‹¼æ¥ï¼‰</span><span class="token keyword">function</span> <span class="token function">flatten</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token function">flatten</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// æ–¹æ³•äºŒï¼ˆreduce + concatï¼‰</span><span class="token keyword">function</span> <span class="token function">flatten1</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> prev<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">flatten1</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span> <span class="token operator">:</span> next<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// ä¸€ç»´æ•°ç»„è½¬äºŒç»´æ•°ç»„</span><span class="token comment">/** * oneArrayï¼š è¦åˆ†å‰²çš„ä¸€ç»´æ•°ç»„ * numï¼š å‡ ä¸ªä¸ºä¸€ä¸ªæ•°ç»„çš„æ•°é‡ */</span><span class="token keyword">function</span> <span class="token function">oneTransTwo</span><span class="token punctuation">(</span><span class="token parameter">oneArray<span class="token punctuation">,</span> num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> oneArray<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">%</span> num <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      r <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>v<span class="token punctuation">,</span> <span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      v<span class="token punctuation">[</span>v<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>      r <span class="token operator">=</span> v<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> r<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-è·å–æ•°ç»„ä¸­æœ€å¤§å€¼"><a href="#5-è·å–æ•°ç»„ä¸­æœ€å¤§å€¼" class="headerlink" title="5. è·å–æ•°ç»„ä¸­æœ€å¤§å€¼"></a>5. è·å–æ•°ç»„ä¸­æœ€å¤§å€¼</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">/** * æ–¹æ³•ä¸€ * åˆ©ç”¨es6æ–°å¢çš„æ‰©å±•è¿ç®—ç¬¦Math.max()æ–¹æ³•è·å–æœ€å¤§å€¼ * @param {*} arr  * @returns  */</span><span class="token keyword">function</span> <span class="token function">getMax2</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">/** * æ–¹æ³•äºŒ * ä½¿ç”¨æ•°ç»„çš„sortæ’åºæ–¹æ³• * @param {*} arr  * @returns  */</span><span class="token keyword">function</span> <span class="token function">getMax1</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">[</span>arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">/** * æ–¹æ³•ä¸‰ * å®šä¹‰ä¸€ä¸ªæœ€å¤§å€¼maxï¼ˆé¢„è®¾æ•°ç»„ä¸­çš„ä¸€ä¸ªå€¼ï¼‰ * éå†æ•°ç»„ï¼Œä¸å˜é‡maxæ¯”è¾ƒï¼Œmaxå°åˆ™å°†è¾ƒå¤§çš„å€¼èµ‹å€¼ç»™max * æœ€ç»ˆè¿”å›max * @param {*} arr æ•°ç»„ * @returns maxè¿”å›æ•°ç»„ä¸­çš„æœ€å¤§å€¼ */</span><span class="token keyword">function</span> <span class="token function">getMax</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> max <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>max <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      max <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> max<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="6-å¿«é€Ÿæ’åºä¸å†’æ³¡æ’åº"><a href="#6-å¿«é€Ÿæ’åºä¸å†’æ³¡æ’åº" class="headerlink" title="6. å¿«é€Ÿæ’åºä¸å†’æ³¡æ’åº"></a>6. å¿«é€Ÿæ’åºä¸å†’æ³¡æ’åº</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">/** * å¿«é€Ÿæ’åºï¼šï¼ˆä¸ç¨³å®šï¼‰ * åŸç†ï¼šé¦–å…ˆæ˜¯ä»æ•°ç»„ä¸­æ‰¾å‡ºæœ€å°çš„å…ƒç´ æ”¾åœ¨æœ€å‰é¢ï¼Œç„¶åä»å‰©ä¸‹çš„å…ƒç´ ä¸­æŒ‘å‡ºæœ€å°çš„æ’åœ¨ç¬¬ä¸€æ¬¡çš„æœ€å°å€¼åé¢ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ’åºå®Œæ¯•ã€‚ * æ—¶é—´å¤æ‚åº¦ï¼šæœ€å¥½çš„æƒ…å†µï¼ˆnï¼‰ï¼›æœ€å·®çš„æƒ…å†µï¼ˆn*nï¼‰ *  * å†’æ³¡æ’åºï¼šï¼ˆç¨³å®šï¼‰ * åŸç†ï¼šä¾æ¬¡æ¯”è¾ƒç›¸é‚»çš„ä¸¤ä¸ªå€¼ï¼Œå¦‚æœåé¢çš„å€¼æ¯”å‰é¢çš„å€¼å°ï¼Œåˆ™å°†æ¯”è¾ƒå°çš„å…ƒç´ æ’åœ¨å‰é¢ï¼Œ * æ—¶é—´å¤æ‚åº¦ï¼šæœ€å¥½çš„æƒ…å†µï¼ˆn*nï¼‰ï¼›æœ€å·®çš„æƒ…å†µï¼ˆn*nï¼‰ *  * æ—¶é—´å¤æ‚åº¦ï¼šç®—æ³•æ‰§è¡Œæ‰€éœ€è¦çš„è€—æ—¶ * ç©ºé—´å¤æ‚åº¦ï¼šç®—æ³•æ‰§è¡Œæ‰€éœ€çš„å†…å­˜å¤§å° * ç¨³å®šï¼šå¦‚æœa=bï¼Œaåœ¨bçš„å‰é¢ï¼Œæ’åºåaè¿˜æ˜¯åœ¨bçš„å‰é¢ * ä¸ç¨³å®šï¼šå¦‚æœa=bï¼Œaåœ¨bçš„å‰é¢ï¼Œæ’åºåå¯èƒ½ä¼šäº¤æ¢ä½ç½® */</span><span class="token comment">// å¿«é€Ÿæ’åº</span><span class="token keyword">function</span> <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> arr<span class="token punctuation">;</span>  <span class="token keyword">var</span> pivotIndex <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> pivot <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>pivotIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> left <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> right <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> pivot<span class="token punctuation">)</span> <span class="token punctuation">{</span>      left<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      right<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span>pivot<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// å†’æ³¡æ’åº</span><span class="token keyword">function</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> temp <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>        arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> arr<span class="token punctuation">}</span><span class="token comment">// quickSort(arr);</span><span class="token comment">// sort(arr)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="https://s4.ax1x.com/2021/12/17/TFqTOS.jpg" width="98%"><blockquote><p>æœ€è¿‘åœ¨çœ‹ä¸€éƒ¨åŠ¨æ¼«ã€Šå›½ç‹æ’åã€‹è¢«æ³¢å‰çš„æ¯…åŠ›ä¸å‹‡æ°”æ„ŸåŠ¨åˆ°ï¼Œå½“ç„¶è¿˜æœ‰å¡å…‹çš„å–„è‰¯ä¸å¿ è¯š â€¦<br>å¸Œæœ›æˆ‘ä»¬ä¹Ÿèƒ½æœ‰æ°¸æ’çš„æ¯…åŠ›ä¸å‹‡æ°”é¢å¯¹æœªæ¥ï¼åŠ æ²¹ğŸ’ª</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> prototype </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> prototype </tag>
            
            <tag> constructor </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°†hexoæ­å»ºçš„ä¸ªäººåšå®¢éƒ¨ç½²åˆ°GitHub</title>
      <link href="/MyBlog/build-blog-two/"/>
      <url>/MyBlog/build-blog-two/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€æ–°å»ºä»“åº“"><a href="#ä¸€ã€æ–°å»ºä»“åº“" class="headerlink" title="ä¸€ã€æ–°å»ºä»“åº“"></a>ä¸€ã€æ–°å»ºä»“åº“</h2><blockquote><p>ğŸ¯ ä¸Šä¸€ç¯‡<a href="https://leisuping.github.io/MyBlog/build-blog-one/">å¦‚ä½•ä½¿ç”¨hexoæ­å»ºä¸ªäººåšå®¢</a>ä¸­å‡†å¤‡ç¯å¢ƒæœ‰æåˆ°è¦æ³¨å†ŒGitHub/GitLabè´¦å·<br>ä»Šå¤©æˆ‘ä»¬è¦ç™»å½•GitHubæ–°å»ºåšå®¢ä»“åº“ï¼Œå‡†å¤‡å°†åšå®¢éƒ¨ç½²åˆ°GitHub Pages</p></blockquote><p><img src="./github01.jpg"></p><p>1.ç™»å…¥ github è´¦å·<br>2.New repository åœ¨ github æ–°å»ºä¸€ä¸ªåä¸ºï¼šusernameç”¨æˆ·å.github.io çš„ Repositoryï¼ˆæˆ‘è¿™é‡Œåœ¨ç”¨æˆ·åä¸‹å»ºäº†ä¸€ä¸ªä¸æœ¬åœ°åšå®¢åŒåçš„ç›®å½•ï¼‰<br>3.æ³¨æ„è¦å…¬å¼€ä»“åº“ï¼Œç§æœ‰åº“æ˜¯æ— æ³•è®¿é—®çš„ï¼ˆGitHub Pages åœ¨å…¬å…±å­˜å‚¨åº“ä¸­å¯ç”¨ï¼‰<br>4.å»ºè®®é€‰æ‹©ä½¿ç”¨ README åˆå§‹åŒ–æ­¤å­˜å‚¨åº“</p><p><img src="./github02.jpg"></p><h2 id="äºŒã€é…ç½®åšå®¢"><a href="#äºŒã€é…ç½®åšå®¢" class="headerlink" title="äºŒã€é…ç½®åšå®¢"></a>äºŒã€é…ç½®åšå®¢</h2><blockquote><p>copy GitHubåšå®¢ä»“åº“çš„åœ°å€ <a href="https://github.com/leisuping/">https://username.github.io/MyBlog</a><br>åœ¨åšå®¢æ ¹ç›®å½•ä¸‹çš„ _config.yml ä¸­é…ç½® GitHub ä»“åº“åœ°å€ï¼ˆåšå®¢éƒ¨ç½²/è®¿é—®çš„åœ°å€ï¼‰</p></blockquote><h3 id="1-åšå®¢éƒ¨ç½²åœ°å€ç›¸å…³é…ç½®"><a href="#1-åšå®¢éƒ¨ç½²åœ°å€ç›¸å…³é…ç½®" class="headerlink" title="1.åšå®¢éƒ¨ç½²åœ°å€ç›¸å…³é…ç½®"></a>1.åšå®¢éƒ¨ç½²åœ°å€ç›¸å…³é…ç½®</h3><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml">url: https://username.github.io/root: /BlogNamepermalink: :title/permalink_defaults:pretty_urls:  trailing_index: true # æ˜¯å¦åœ¨æ°¸ä¹…é“¾æ¥ä¸­ä¿ç•™å°¾éƒ¨çš„ index.htmlï¼Œè®¾ç½®ä¸º false æ—¶å»é™¤  trailing_html: true # æ˜¯å¦åœ¨æ°¸ä¹…é“¾æ¥ä¸­ä¿ç•™å°¾éƒ¨çš„ .html, è®¾ç½®ä¸º false æ—¶å»é™¤ (å¯¹å°¾éƒ¨çš„ index.htmlæ— æ•ˆ)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"># é…ç½®åšå®¢é™æ€æ–‡ä»¶éƒ¨ç½²åœ°å€ï¼Œåˆ†æ”¯deploy:  type: git  repo: git@github.com: username/BlogName  branch: gh-pages<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-åšå®¢æ ·å¼ç›¸å…³é…ç½®"><a href="#2-åšå®¢æ ·å¼ç›¸å…³é…ç½®" class="headerlink" title="2.åšå®¢æ ·å¼ç›¸å…³é…ç½®"></a>2.åšå®¢æ ·å¼ç›¸å…³é…ç½®</h3><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"># ä¸­æ–‡é“¾æ¥è½¬æ‹¼éŸ³permalink_pinyin:  enable: true  separator: '-'# æ·»åŠ emojiè¡¨æƒ…æ”¯æŒgithubEmojis:  enable: true  className: github-emoji  inject: true  styles:  customEmojis:# åšå®¢æœç´¢# å®‰è£…æœç´¢æ’ä»¶ï¼šnpm install hexo-generator-search --savesearch:  path: search.xml  field: post# å®‰è£…åŠ¨ç”»æ’ä»¶ï¼šnpm install live2d-widget-model-z16 -D# å®‰è£…å…·ä½“çš„åŠ¨ç”»äººç‰©ï¼šnpm install --save hexo-helper-live2d # é…ç½®åšå®¢åŠ¨æ¼«äººç‰©ï¼ˆåŠ¨ç”»è·Ÿä¸è’œå­ç»Ÿè®¡ä¼šæœ‰å†²çªï¼Œå»ºè®®ä¸¤è€…ä¸è¦ä¸€èµ·ä½¿ç”¨ï¼‰live2d:   enable: true   scriptFrom: local   pluginRootPath: live2dw/   pluginJsPath: lib/   pluginModelPath: assets/   tagMode: false   log: false   model:     use: live2d-widget-model-tororo # live2d-widget-model-shizuku # live2d-widget-model-z16  display:     position: right     width: 150     height: 300   mobile:     show: true     react:       opacity: 0.7<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶ä»–çš„ä¸€äº›é…ç½®æ ¹æ®ä¸»é¢˜ï¼Œå¯èƒ½ä¼šæœ‰äº›ç•¥å¾®ä¸åŒï¼Œå¤§å®¶å‚è€ƒä¸»é¢˜ä¸‹çš„ README_CN.md è¯´æ˜æ–‡ä»¶é…ç½®å°±å¥½å•¦ï¼</p><h2 id="ä¸‰ã€ä¸Šä¼ éƒ¨ç½²åšå®¢"><a href="#ä¸‰ã€ä¸Šä¼ éƒ¨ç½²åšå®¢" class="headerlink" title="ä¸‰ã€ä¸Šä¼ éƒ¨ç½²åšå®¢"></a>ä¸‰ã€ä¸Šä¼ éƒ¨ç½²åšå®¢</h2><blockquote><p>1.å°†æœ¬åœ°çš„ myblog ä¸ GitHubä»“åº“å…³è”ï¼ˆé…ç½®sshï¼‰ï¼Œå°†ä»£ç æäº¤åˆ°ä»“åº“çš„ masteråˆ†æ”¯ä¸‹<br>2.åœ¨åšå®¢ä»“åº“ä¸‹æ–°å»º gh-pages åˆ†æ”¯ï¼Œç”¨æ¥å­˜å‚¨åšå®¢ç¼–è¯‘åè¦éƒ¨ç½²çš„é™æ€æ–‡ä»¶<br>3.åœ¨ä»“åº“ä¸‹é…ç½®å‘å¸ƒæº Settings =&gt; Pages åœ¨ GitHub Pages ä¸‹è®¾ç½®å‘å¸ƒæºåˆ†æ”¯ gh-pages<br>4.åœ¨ _config.yml ä¸­é…ç½®åšå®¢éƒ¨ç½²ä¿¡æ¯</p></blockquote><p><img src="./githubPages.jpg"></p><p>é…ç½®åšå®¢éƒ¨ç½²ä¿¡æ¯</p><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml">deploy:  type: git  repo: git@github.com:username/MyBlog  branch: gh-pagessearch:  path: search.xml  field: post<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é…ç½®å¥½ä¹‹åï¼Œé‡æ–°æ„å»ºåšå®¢ç”Ÿæˆé™æ€æ–‡ä»¶å¹¶éƒ¨ç½²åˆ° GitHub Pages</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ npx hexo clean$ npx hexo g$ npx hexo d<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="./hexo02.jpg"></p><p>éƒ¨ç½²æˆåŠŸä¹‹åå°±å¯ä»¥ç›´æ¥è®¿é—®ä½ çš„åšå®¢å•¦ï¼<br><a href="https://leisuping.github.io/MyBlog/">https://username.github.io/MyBlog</a></p><img src="https://s6.jpg.cm/2021/12/08/LdjVpU.gif" width="200px">]]></content>
      
      
      <categories>
          
          <category> nodejs </category>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> éƒ¨ç½²åšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•ä½¿ç”¨hexoæ­å»ºä¸ªäººåšå®¢</title>
      <link href="/MyBlog/build-blog-one/"/>
      <url>/MyBlog/build-blog-one/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å¼•é¢˜"><a href="#ä¸€ã€å¼•é¢˜" class="headerlink" title="ä¸€ã€å¼•é¢˜"></a>ä¸€ã€å¼•é¢˜</h2><blockquote><p>ğŸ¯ ä½œä¸ºä¸€ä¸ªç å†œï¼Œé™¤äº†æ¯æ—¥â€œæ¬ç –â€å¶å°”ä¹Ÿä¼šå»ç½‘ä¸Šçœ‹çœ‹åšå®¢å¸æ”¶ä¸€ç‚¹ç‚¹æŠ€æœ¯ç²¾åã€‚<br>æ…¢æ…¢çš„è‡ªå·±ä¹Ÿæœ‰æƒ³æ³•æƒ³è¦æ­å»ºå±äºè‡ªå·±çš„åšå®¢ï¼Œè™½ç„¶ç°åœ¨æœ‰è®¸å¤šæŠ€æœ¯ç½‘ç«™éƒ½æŒºæ´»è·ƒçš„ï¼Œä½†æ˜¯è¿˜æ˜¯æƒ³å°è¯•ä¸€ä¸‹åšä¸€ä¸ªåªå±äºè‡ªå·±çš„åšå®¢ã€‚<br>ä¸‹é¢è®°å½•äº†ä¸ªäººåšå®¢æ­å»ºåˆ°éƒ¨ç½²çš„æµç¨‹æ­¥éª¤ï¼Œå¦‚æœèƒ½å¤Ÿå¸®åŠ©åˆ°å¤§å®¶çš„è¯é‚£å°±æ›´å¥½å•¦ï¼</p></blockquote><h2 id="äºŒã€å‡†å¤‡ç¯å¢ƒ"><a href="#äºŒã€å‡†å¤‡ç¯å¢ƒ" class="headerlink" title="äºŒã€å‡†å¤‡ç¯å¢ƒ"></a>äºŒã€å‡†å¤‡ç¯å¢ƒ</h2><blockquote><p>å®‰è£… git<br>å®‰è£… nodejs(å»ºè®®ä½¿ç”¨ Node.js 12.0 åŠä»¥ä¸Šç‰ˆæœ¬)<br>å®‰è£… hexoï¼ˆæˆ‘è¿™é‡Œæ˜¯å±€éƒ¨å®‰è£…çš„hexoï¼Œæ‰€ä»¥ç”¨çš„npxæ‰§è¡Œçš„ç›¸å…³å‘½ä»¤ï¼Œå¦‚æœæ˜¯å…¨å±€å®‰è£…å°±ä¸ç”¨npxæ¥æ‰§è¡Œhexoå‘½ä»¤ï¼‰<br>æ³¨å†ŒGitHubè´¦æˆ·/GitLabè´¦æˆ·</p></blockquote><h3 id="1-å®‰è£…-git"><a href="#1-å®‰è£…-git" class="headerlink" title="1.å®‰è£… git"></a>1.å®‰è£… git</h3><blockquote><p>å®‰è£… git çš„ç›®çš„ï¼š<br>a.æ–¹ä¾¿æˆ‘ä»¬å»ºç«™åè·å–ä¸€äº›hexoçš„èµ„æºï¼Œæ¯”å¦‚ï¼šä¸»é¢˜ã€æ¨¡æ¿ã€æ’ä»¶ç­‰<br>b.ä¸Šä¼ ä»£ç ï¼Œæ›´æ–°æœ¬åœ°ä»£ç åˆ°GitHubæˆ–è€…GitLabä¸Š</p></blockquote><p><a href="http://git-scm.com/downloads">gitå®‰è£…åŒ…ä¸‹è½½åœ°å€</a><br><a href="http://git-scm.com/docs">gitå‘½ä»¤å¤§å…¨</a></p><p>1.Windowså¹³å°ä¸Šå®‰è£… git<br><a href="https://gitforwindows.org/">å®‰è£…åŒ…ä¸‹è½½åœ°å€</a><br><a href="https://npm.taobao.org/mirrors/git-for-windows/">å›½å†…æ·˜å®é•œåƒ</a></p><p><img src="./git01.jpg"></p><p>2.Macå¹³å°ä¸Šå®‰è£… git<br><a href="http://sourceforge.net/projects/git-osx-installer/">å®‰è£…åŒ…ä¸‹è½½åœ°å€</a></p><p><img src="./git02.jpg"></p><p>3.é…ç½®git<br>å®‰è£…å¥½gitä¹‹åå¯ä»¥åœ¨å‘½ä»¤é¢æ¿ä¿®æ”¹gité…ç½®ä¿¡æ¯ï¼ˆè¯¦ç»†æ­¥éª¤å¯æŒ‰ç…§æç¤ºä¸€æ­¥ä¸€æ­¥è¿›è¡Œï¼‰<br>ä½¿ç”¨å‘½ä»¤é…ç½®å¥½gitçš„ç”¨æˆ·åç§°å’Œç”µå­é‚®ä»¶åœ°å€ï¼ˆå¯†ç è‡ªå·±æ ¹æ®æç¤ºè®¾ç½®å“¦ï¼ï¼‰</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">$ git config <span class="token operator">--</span>global user<span class="token punctuation">.</span>name <span class="token string">"username"</span>$ git config <span class="token operator">--</span>global user<span class="token punctuation">.</span>email <span class="token number">1234567890</span>@qq<span class="token punctuation">.</span>com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æŸ¥çœ‹é…ç½®ä¿¡æ¯</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">$ git config <span class="token operator">--</span>list<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="2-å®‰è£…-nodejs"><a href="#2-å®‰è£…-nodejs" class="headerlink" title="2.å®‰è£… nodejs"></a>2.å®‰è£… nodejs</h3><blockquote><p>å®‰è£…nodejs<br>node.js æ˜¯åŸºäº Chrome V8 å¼•æ“çš„ JavaScript è¿è¡Œç¯å¢ƒï¼Œåšå‰ç«¯çš„å°ä¼™ä¼´ä»¬åº”è¯¥éƒ½çŸ¥é“ä¸”å®‰è£…äº†nodejsç¯å¢ƒã€‚<br>å½“ç„¶çœ‹è¿‡hexoå®˜æ–¹æ–‡æ¡£çš„å°ä¼™ä¼´ä»¬ä¸€å®šä¹Ÿæœ‰äº†è§£åˆ°ï¼Œhexoä¹Ÿæ˜¯åŸºäºnodejsæ„å»ºçš„ã€‚<br>æ‰€ä»¥è¿˜æ²¡æœ‰å®‰è£…è¿‡nodejsçš„å°ä¼™ä¼´å¯ä»¥è¡ŒåŠ¨èµ·æ¥äº†å“Ÿï¼ï¼ˆæœ‰æƒ³æ³•æ­å»ºåšå®¢æˆ–è€…å­¦ä¹ å‰ç«¯çš„ï¼‰</p></blockquote><p><a href="https://nodejs.org/en/download/">Node.js å®‰è£…åŒ…åŠæºç ä¸‹è½½åœ°å€</a></p><p><img src="./nodejs01.jpg"></p><p>é€‰æ‹©LTS ä¹Ÿå°±æ˜¯é•¿æœŸæ”¯æŒç‰ˆï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±æœ¬åœ°çš„ç¯å¢ƒä¸‹è½½ä¸åŒå¹³å°çš„ç‰ˆæœ¬ã€‚(æ³¨æ„è¦ä¸‹è½½å®‰è£… Node.js 12.0 åŠä»¥ä¸Šç‰ˆæœ¬å“¦ï¼)<br>æŒ‰ç…§æç¤ºçš„æ­¥éª¤ï¼Œç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ï¼Œå®Œæˆnodejsçš„å®‰è£…ã€‚<br>å®‰è£…æˆåŠŸåæŸ¥çœ‹nodejs ä¸ npmç‰ˆæœ¬ï¼ˆWindowså¹³å°ä¸Šå®‰è£…å®Œ nodejsç³»ç»Ÿä¼šè‡ªåŠ¨é…ç½®å¥½ç¯å¢ƒå˜é‡ï¼‰</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// æŸ¥çœ‹nodejsç‰ˆæœ¬</span>node <span class="token operator">-</span>v<span class="token comment">// æŸ¥çœ‹npmç‰ˆæœ¬</span>npm <span class="token operator">-</span>v<span class="token comment">// èƒ½å¤ŸæŸ¥åˆ°ç‰ˆæœ¬ä¿¡æ¯å³å®‰è£…æˆåŠŸ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="./nodejs02.jpg"></p><h3 id="3-å®‰è£…-Hexo"><a href="#3-å®‰è£…-Hexo" class="headerlink" title="3.å®‰è£… Hexo"></a>3.å®‰è£… Hexo</h3><blockquote><p>Hexo å°±ä¸ç”¨æˆ‘åšè¿‡å¤šçš„è§£é‡Šå•¦ï¼å¦‚æœä½ è¦æ­å»ºä¸€ä¸ªåšå®¢ï¼Œé‚£ä¹ˆ Hexo æˆ–è®¸æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚<br>â€Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚Hexo ä½¿ç”¨ Markdownï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚â€œ<br><a href="https://hexo.io/zh-cn/docs/">æ‘˜è‡ª Hexo å®˜æ–¹æ–‡æ¡£</a></p></blockquote><p>æ‰“å¼€ç»ˆç«¯ä½¿ç”¨ npm å‘½ä»¤å®‰è£…hexo</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">$ npm install <span class="token operator">-</span>g hexo<span class="token operator">-</span>cli<span class="token comment">// æˆ–è€…</span>$ npm install hexo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>ä¸¤è€…çš„åŒºåˆ«æ˜¯ç¬¬ä¸€ä¸ªæ˜¯å…¨å±€å®‰è£…ï¼Œç¬¬äºŒä¸ªæ˜¯å±€éƒ¨å®‰è£…ã€‚å› ä¸ºæˆ‘åªæœ‰åœ¨åšå®¢å·¥ä½œåŒºé—´ç”¨åˆ°hexoï¼Œæ‰€ä»¥æˆ‘é‡‡ç”¨çš„æ˜¯å±€éƒ¨å®‰è£…çš„æ–¹å¼ã€‚<br>åœ¨åšå®¢å·¥ä½œåŒºé—´ä¸‹æ‰§è¡Œå‘½ä»¤â€œnpm install hexoâ€å±€éƒ¨å®‰è£…hexo</p></blockquote><h3 id="4-æ³¨å†ŒGitHubè´¦æˆ·"><a href="#4-æ³¨å†ŒGitHubè´¦æˆ·" class="headerlink" title="4.æ³¨å†ŒGitHubè´¦æˆ·"></a>4.æ³¨å†ŒGitHubè´¦æˆ·</h3><blockquote><p>æ³¨å†ŒGitHubè´¦æˆ·æˆ–è€…GitLabè´¦æˆ·ç›®çš„ï¼š<br>a.ä»£ç æ‰˜ç®¡<br>b.éƒ¨ç½²åšå®¢</p></blockquote><p>è®¿é—®<a href="https://github.com/">GitHub åœ°å€</a>æ³¨å†Œä¸€ä¸ªè´¦æˆ·<br>æˆ–è€…<br>è®¿é—®<a href="https://about.gitlab.com/">GitLab åœ°å€</a>æ³¨å†Œä¸€ä¸ªè´¦æˆ·<br>æ³¨å†Œè´¦æˆ·æ­¥éª¤å°±ä¸è¯¦ç»†è¯´æ˜å•¦ï¼</p><p>é…ç½®SSH key<br>setting -&gt; SSH and GPG keys -&gt; New SSH key<br><img src="./ssh.jpg" alt="é…ç½®SSH key"></p><h2 id="ä¸‰ã€æ­å»ºåšå®¢"><a href="#ä¸‰ã€æ­å»ºåšå®¢" class="headerlink" title="ä¸‰ã€æ­å»ºåšå®¢"></a>ä¸‰ã€æ­å»ºåšå®¢</h2><h3 id="1-åˆå§‹åŒ–åšå®¢"><a href="#1-åˆå§‹åŒ–åšå®¢" class="headerlink" title="1.åˆå§‹åŒ–åšå®¢"></a>1.åˆå§‹åŒ–åšå®¢</h3><p>é¦–å…ˆåœ¨æœ¬åœ°å»ºä¸€ä¸ªç›®å½•ä½œä¸ºåšå®¢çš„å·¥ä½œåŒºé—´ï¼Œæˆ‘åœ¨æœ¬åœ°å»ºäº†ä¸€ä¸ª BlogSpace æ–‡ä»¶å¤¹ä½œä¸ºåšå®¢å·¥ä½œåŒºé—´ã€‚<br>è¿›å…¥åˆ° BlogSpace ç›®å½•ä¸‹ï¼Œæ‰§è¡Œå‘½ä»¤:</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// å±€éƒ¨å®‰è£… hexo</span>$ npm i hexo <span class="token operator">--</span>save<span class="token comment">// åˆå§‹åŒ–åšå®¢ myblogï¼ˆæ‰§è¡Œå‘½ä»¤åä¼šåœ¨ BlogSpace ç›®å½•ä¸‹è‡ªåŠ¨æ„å»ºä¸€ä¸ª myblog é¡¹ç›®ï¼‰</span>$ npx hexo init myblog<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#å¯åŠ¨åšå®¢</span>npx hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ„å»ºå¥½åšå®¢ä¹‹åçš„ç›®å½•ï¼š<br><img src="./myblog01.jpg"></p><blockquote><p>sourceï¼šèµ„æºæ–‡ä»¶å¤¹æ˜¯å­˜æ”¾ç”¨æˆ·èµ„æºçš„åœ°æ–¹ï¼Œ_posts æ–‡ä»¶å¤¹ä¸‹ä¸€èˆ¬å­˜æ”¾åšå®¢æ–‡ç« ã€‚<br>themesï¼š<a href="https://hexo.io/zh-cn/docs/themes">ä¸»é¢˜</a> æ–‡ä»¶å¤¹ï¼ŒHexo ä¼šæ ¹æ®ä¸»é¢˜æ¥ç”Ÿæˆé™æ€é¡µé¢ã€‚<br>_config.ymlï¼šæ ¹ç›®å½•ä¸‹_config.ymlç”¨äºå½“å‰åšå®¢å…¨å±€é…ç½®ã€‚<br>package.jsonï¼šæ ¹ç›®å½•ä¸‹çš„ package.json æ˜¯åšå®¢çš„ä¸€äº›ä¾èµ–ï¼Œä»¥åŠ Hexo ç›¸å…³é…ç½®ã€‚<br>æ¯”å¦‚ï¼šï¼ˆå¯åŠ¨åšå®¢å‘½ä»¤ï¼‰npx hexo serve</p></blockquote><p>æœ¬åœ°è¿è¡Œåšå®¢æ•ˆæœå›¾å¦‚ä¸‹ï¼š<br><img src="./hexo.jpg"></p><h3 id="2-é…ç½®åšå®¢"><a href="#2-é…ç½®åšå®¢" class="headerlink" title="2.é…ç½®åšå®¢"></a>2.é…ç½®åšå®¢</h3><blockquote><p>åšå®¢çš„ç›¸å…³é…ç½®å‡åœ¨ æ ¹ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶ä¸­é…ç½®ã€‚<br>é…ç½®åšå®¢åŸºæœ¬ä¿¡æ¯ï¼š</p></blockquote><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"># é…ç½®åšå®¢æ ‡é¢˜ã€æè¿°ã€å…³é”®å­—ã€ä½œè€…ã€è¯­è¨€ï¼ˆåŸºç¡€é…ç½®ï¼‰title: æ¥ ç«¹è‡å‡‰subtitle: æ¥ ç«¹description: å½“ç„¶ï¼Œè¿˜æ˜¯ä¼šæœ‰ä¸å¯é€¾è¶Šçš„ç•Œé™keywords: "æ¥ ç«¹è‡å‡‰"author: nzgllanguage: zh-CN<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>é…ç½®åšå®¢ä¸»é¢˜ï¼š<br>å…³äºåšå®¢çš„ä¸»é¢˜å¯ä»¥å‚è§<a href="https://hexo.io/themes/">ä¸»é¢˜åˆ—è¡¨</a>ï¼Œå½“ç„¶å¦‚æœè‡ªå·±æœ‰æ›´å¥½çš„ä¸»é¢˜ä¹Ÿå¯ä»¥å‘å¸ƒåœ¨ä¸»é¢˜åˆ—è¡¨åˆ†äº«ã€‚<br>åœ¨<a href="https://hexo.io/themes/">ä¸»é¢˜åˆ—è¡¨</a>é€‰ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ â€œgit clone ä¸»é¢˜èµ„æºGitHubè·¯å¾„â€ åˆ°åšå®¢æ ¹ç›®å½•ä¸‹çš„ themes æ–‡ä»¶å¤¹é‡Œã€‚<br>ç„¶ååœ¨åšå®¢æ ¹ç›®å½•ä¸‹çš„ _config.yml é…ç½®æ–‡ä»¶é‡Œé¢é…ç½® â€œtheme: ä¸»é¢˜åç§°â€ å³å¯ã€‚</p></blockquote><p><img src="./themes.jpg"></p><p>åœ¨åšå®¢æ ¹ç›®å½•ä¸‹çš„ themes æ–‡ä»¶å¤¹é‡Œæ‹‰å–ä¸»é¢˜èµ„æºï¼ˆä¹Ÿå¯ä»¥æ‹‰å–ä¸»é¢˜copyåˆ° themes ç›®å½•é‡Œï¼‰</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">git</span> clone https://github.com/ptsteadman/hexo-theme-corporate.git<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"># _config.yml é…ç½®æ–‡ä»¶é‡Œé¢é…ç½®åº”ç”¨ä¸»é¢˜åç§°# theme: https://hexo.io/themes/theme: hexo-theme-corporate<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>å…³äºåšå®¢å…¶ä»–é…ç½®å¯ä»¥ä»”ç»†é˜…è¯»<a href="https://hexo.io/zh-cn/docs/">Hexo å®˜æ–¹æ–‡æ¡£</a><br>å¯ä»¥æŒ‰ç…§ä¸ªäººçš„å–œå¥½é£æ ¼æ¥é…ç½®ï¼Œè¿™é‡Œå°±è¯·å¤§å®¶è‡ªç”±å‘æŒ¥å§ï½ï¼ˆä¸‹æ¬¡æˆ‘å†è·Ÿå¤§å®¶åˆ†äº« å¦‚ä½•å°†åšå®¢åˆ°GitHubä¸Šï¼‰<br>ç›¸ä¿¡å¤§å®¶éƒ½èƒ½å¤Ÿæ­å»ºä¸€ä¸ªç‹¬å…·ç‰¹è‰²çš„ä¸ªäººåšå®¢ï¼</p></blockquote><img src="https://s6.jpg.cm/2021/12/08/LdjSpC.jpg" width="200px">]]></content>
      
      
      <categories>
          
          <category> nodejs </category>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> æ­å»ºåšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsåŸºç¡€ç¯‡ä¹‹â€œæ·±å…¥æµ…å‡ºâ€</title>
      <link href="/MyBlog/facial-meridian-two/"/>
      <url>/MyBlog/facial-meridian-two/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€åŸå‹é“¾"><a href="#ä¸€ã€åŸå‹é“¾" class="headerlink" title="ä¸€ã€åŸå‹é“¾"></a>ä¸€ã€åŸå‹é“¾</h2><blockquote><p>ğŸ¯ æ¯ä¸ªå®ä¾‹éƒ½æœ‰ç§æœ‰çš„_proto_å±æ€§æŒ‡å‘å®ƒçš„åŸå‹å¯¹è±¡ã€‚<br>è€Œæ¯ä¸ªåŸå‹å¯¹è±¡ä¹Ÿæœ‰è‡ªå·±çš„_proto_å±æ€§æŒ‡å‘æ›´é«˜å±‚çš„åŸå‹å¯¹è±¡ï¼Œç›´åˆ°æŒ‡å‘çš„åŸå‹å¯¹è±¡ä¸ºnullã€‚<br>è¿™æ ·ä¸€ä¸ªè¿‡ç¨‹æ‰€æ„æˆçš„é“¾è·¯å°±è¢«ç§°ä¸ºåŸå‹é“¾ã€‚ï¼ˆåŸå‹ä¸åŸå‹å±‚å±‚ç›¸è¿æ¥çš„è¿‡ç¨‹å°±å«åšåŸå‹é“¾ï¼‰</p></blockquote><p>p æ˜¯å®ä¾‹å¯¹è±¡ï¼ŒPersonæ˜¯ p çš„æ„é€ å‡½æ•°<br>p çš„ <em>proto</em> å±æ€§æŒ‡å‘ æ„é€ å‡½æ•° Person çš„åŸå‹ã€‚<br>æ¯ä¸ªåŸå‹éƒ½æœ‰ä¸€ä¸ª constructor å±æ€§ï¼ŒæŒ‡å‘è¯¥å…³è”çš„æ„é€ å‡½æ•°ã€‚<br>æ„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ª prototype å±æ€§æŒ‡å‘å®ä¾‹åŸå‹ã€‚ï¼ˆæ‰€æœ‰çš„æ„é€ å‡½æ•°éƒ½æ˜¯Functionçš„å®ä¾‹ï¼‰</p><p><img src="./person.png"></p><p>é™¤äº† Object çš„ prototype çš„åŸå‹æ˜¯ null å¤–ï¼Œæ‰€æœ‰çš„å¯¹è±¡ å’Œ åŸå‹ éƒ½æœ‰è‡ªå·±çš„åŸå‹ï¼Œå¯¹è±¡çš„åŸå‹ æŒ‡å‘ åŸå‹å¯¹è±¡ã€‚</p><p>ä½œç”¨ï¼šå¯ä»¥å…±äº«æ–¹æ³•</p><p>åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰çš„å±æ€§ä¸æ–¹æ³•å¯ä»¥è¢«å®ä¾‹ç»§æ‰¿ï¼Œä½†æ˜¯ä¸èƒ½è¢«å…±äº«ã€‚è€ŒåŸå‹XXX.prototype.say()å®šä¹‰çš„æ–¹æ³•å¯ä»¥è¢«å®ä¾‹å…±äº«ã€‚<br>ï¼ˆè¿™ä¸ªæ—¶å€™åŸå‹å¯¹è±¡è¿˜æ˜¯æœ‰constructoræ„é€ çš„thisæŒ‡å‘constructoræœ¬èº«ï¼Œå¦‚æœæ˜¯XXX.prototype = {}ç»™åŸå‹é‡æ–°èµ‹å€¼ï¼Œå°±ä¼šä¸¢å¤±æ„é€ ï¼Œéœ€è¦æ‰‹åŠ¨å®šä¹‰æ„é€ å¹¶å°†thisæŒ‡å‘æ„é€ å‡½æ•°æœ¬èº«ã€‚ä¸€èˆ¬æ˜¯ä¸å…è®¸ç›´æ¥æ”¹å˜åŸå‹æŒ‡å‘çš„ï¼‰</p><h2 id="äºŒã€æ„é€ å‡½æ•°"><a href="#äºŒã€æ„é€ å‡½æ•°" class="headerlink" title="äºŒã€æ„é€ å‡½æ•°"></a>äºŒã€æ„é€ å‡½æ•°</h2><h3 id="æ„é€ å‡½æ•°çš„ç‰¹ç‚¹"><a href="#æ„é€ å‡½æ•°çš„ç‰¹ç‚¹" class="headerlink" title="æ„é€ å‡½æ•°çš„ç‰¹ç‚¹"></a>æ„é€ å‡½æ•°çš„ç‰¹ç‚¹</h3><p>â— æ„é€ å‡½æ•°çš„é¦–å­—æ¯å¤§å†™<br>â— æ„é€ å‡½æ•°çš„thisæŒ‡å‘å°†è¦åˆ›å»ºçš„æ–°å¯¹è±¡<br>â— æ„é€ å‡½æ•°é€šè¿‡new æ¥åˆ›å»ºæ–°å¯¹è±¡<br>â— æ„é€ å‡½æ•°å¯ä»¥é€šè¿‡åŸå‹å¯¹è±¡æ·»åŠ æ–¹æ³•</p><p>â— classç±»æ‰€æœ‰çš„æ–¹æ³•éƒ½å®šä¹‰åœ¨ç±»çš„prototypeå±æ€§ä¸Š<br>â— classç±»åˆ›å»ºçš„å®ä¾‹ï¼Œé‡Œé¢ä¹Ÿæœ‰_proto_æŒ‡å‘ç±»çš„prototypeåŸå‹å¯¹è±¡<br>â— es6è¯­æ³•ç³–ï¼ˆè¯­æ³•ç³–åªæ˜¯ä¸ºäº†å¢å¼ºä»£ç å¯è¯»æ€§ï¼‰</p><h3 id="newçš„å®ç°"><a href="#newçš„å®ç°" class="headerlink" title="newçš„å®ç°"></a>newçš„å®ç°</h3><ol><li>åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œç”¨ä½œè¿”å›çš„å®ä¾‹</li><li>è·å–æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”å°†æ–°å¯¹è±¡çš„_proto_å±æ€§æŒ‡å‘æ„é€ çš„åŸå‹å¯¹è±¡</li><li>æ‰§è¡Œæ„é€ å‡½æ•°ï¼Œå°†æ„é€ ä¸­çš„å±æ€§å€¼èµ‹å€¼ç»™æ–°å¯¹è±¡ï¼ŒthisæŒ‡å‘æ–°å¯¹è±¡</li><li>è¿”å›æ–°å¯¹è±¡</li></ol><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// newçš„å®ç°</span><span class="token keyword">function</span> <span class="token function">myNew</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> Constructor <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>    obj<span class="token punctuation">.</span>_proto_ <span class="token operator">=</span> <span class="token class-name">Constructor</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">Constructor</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token keyword">typeof</span> result <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">?</span> result <span class="token operator">:</span> obj<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸‰ã€ç»§æ‰¿"><a href="#ä¸‰ã€ç»§æ‰¿" class="headerlink" title="ä¸‰ã€ç»§æ‰¿"></a>ä¸‰ã€ç»§æ‰¿</h2><h3 id="ç»§æ‰¿çš„å®ç°æ–¹å¼"><a href="#ç»§æ‰¿çš„å®ç°æ–¹å¼" class="headerlink" title="ç»§æ‰¿çš„å®ç°æ–¹å¼"></a>ç»§æ‰¿çš„å®ç°æ–¹å¼</h3><ol><li>åŸå‹é“¾ç»§æ‰¿ï¼šé€šè¿‡ä¿®æ”¹å­ç±»çš„åŸå‹ä¸ºçˆ¶ç±»çš„å®ä¾‹<br>a. å®ç°æ–¹å¼ï¼šChild.prototype = new Parent();æˆ–è€…Child.prototype = Child.prototype;<br>b. ä¼˜ç‚¹ï¼šæ˜“äºå®ç°ï¼Œæ‰€åˆ›å»ºçš„å®ä¾‹æ˜¯å­ç±»çš„å®ä¾‹ä¹Ÿæ˜¯çˆ¶ç±»çš„å®ä¾‹<br>c. ç¼ºç‚¹ï¼šæ¥è‡ªåŸå‹å¯¹è±¡æ‰€æœ‰å±æ€§ä¼šè¢«å®ä¾‹å…±äº«ï¼Œå…¶ä¸­ä¸€ä¸ªå®ä¾‹ä¿®æ”¹ä¼šå¯¼è‡´å…¶ä»–å®ä¾‹çš„è¿™ä¸ªå±æ€§ä¹Ÿè¢«ä¿®æ”¹ã€‚æ— æ³•å¤šç»§æ‰¿ï¼Œæ— æ³•å‘çˆ¶ç±»æ„é€ ä¼ å‚ã€‚</li><li>æ„é€ å‡½æ•°ç»§æ‰¿ï¼šé€šè¿‡new<br>a. ä¼˜ç‚¹ï¼šè§£å†³äº†åŸå‹é“¾ç»§æ‰¿æ–¹æ³•å…±äº«çš„é—®é¢˜ï¼Œå¯ä»¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ ç»™æ„é€ ä¼ å‚ï¼Œå®ç°äº†å¤šç»§æ‰¿<br>b. ç¼ºç‚¹ï¼šæ‰€æœ‰çš„æ–¹æ³•éƒ½å®šä¹‰åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œæ¯æ¬¡éƒ½éœ€è¦é‡æ–°åˆ›å»ºï¼Œæ— æ³•å‡½æ•°å¤ç”¨ï¼Œå½±å“æ€§èƒ½</li><li>ç»„åˆç»§æ‰¿ï¼šç»“åˆåŸå‹é“¾ç»§æ‰¿è·Ÿæ„é€ ç»§æ‰¿<br>a. ä¼˜ç‚¹ï¼šå¤šç»§æ‰¿<br>b. ç¼ºç‚¹ï¼šçˆ¶æ„é€ å‡½æ•°è¢«è°ƒç”¨äº†ä¸¤æ¬¡</li><li>æ‹·è´ç»§æ‰¿</li><li>å®ä¾‹ç»§æ‰¿</li><li>å¯„ç”Ÿç»„åˆç»§æ‰¿</li></ol><h2 id="å››ã€é—­åŒ…"><a href="#å››ã€é—­åŒ…" class="headerlink" title="å››ã€é—­åŒ…"></a>å››ã€é—­åŒ…</h2><blockquote><p>èƒ½å¤Ÿè®¿é—®å¦ä¸€å‡½æ•°ä½œç”¨äºä¸­å˜é‡çš„å‡½æ•°<br>ä¼˜ç‚¹ï¼šé¿å…å…¨å±€å˜é‡çš„æ±¡æŸ“<br>ç¼ºç‚¹ï¼šé—­åŒ…çš„å˜é‡ä¸ä¼šè¢«å›æ”¶ï¼Œå ç”¨å†…å­˜</p></blockquote><h2 id="äº”ã€thisæŒ‡å‘"><a href="#äº”ã€thisæŒ‡å‘" class="headerlink" title="äº”ã€thisæŒ‡å‘"></a>äº”ã€thisæŒ‡å‘</h2><h3 id="1-thisæŒ‡å‘"><a href="#1-thisæŒ‡å‘" class="headerlink" title="1.thisæŒ‡å‘"></a>1.thisæŒ‡å‘</h3><p>â— å…¨å±€ç¯å¢ƒä½œç”¨åŸŸï¼šthisæŒ‡å‘window<br>â— è‡ªæ‰§è¡Œå‡½æ•°ï¼ˆåŒ¿åå‡½æ•°ï¼‰ï¼šthisæŒ‡å‘window<br>â— å‡½æ•°ç¯å¢ƒä½œç”¨åŸŸï¼šthisæŒ‡å‘å½“å‰å‡½æ•°<br>â— å¯¹è±¡ä¸­çš„æ–¹æ³•å‡½æ•°è°ƒç”¨ï¼šthisæŒ‡å‘è¯¥æ–¹æ³•æ‰€å±å¯¹è±¡<br>â— é€šè¿‡äº‹ä»¶ç»‘å®šçš„æ–¹æ³•ï¼šthisæŒ‡å‘ç»‘å®šäº‹ä»¶çš„å¯¹è±¡<br>â— æ„é€ å‡½æ•°ï¼šthisæŒ‡å‘æ–°å¯¹è±¡<br>â— ç®­å¤´å‡½æ•°ï¼šthisæŒ‡å‘çˆ¶çº§å¯¹è±¡ï¼Œthisæ˜¯åœ¨å®šä¹‰å‡½æ•°æ—¶ç»‘å®šçš„ï¼Œä¸æ˜¯æ‰§è¡Œè¿‡ç¨‹ä¸­ç»‘å®šçš„ï¼Œä¸”call()ã€apply()ã€bind()å¯¹äºç®­å¤´å‡½æ•°æ¥è¯´åªæ˜¯å‚æ•°ï¼Œå¯¹thisçš„æŒ‡å‘æ²¡æœ‰å½±å“ã€‚</p><blockquote><p>æ€»ç»“ï¼š<br>ç›´æ¥è°ƒç”¨ï¼ŒæŒ‡å‘window<br>å‡½æ•°é‡Œè°ƒç”¨ï¼ŒæŒ‡å‘window<br>å¯¹è±¡æ–¹æ³•é‡Œè°ƒç”¨ï¼ŒæŒ‡å‘å¯¹è±¡<br>æ„é€ é‡Œè°ƒç”¨ï¼ŒæŒ‡å‘newåˆ›å»ºçš„æ–°å¯¹è±¡</p></blockquote><h3 id="2-callã€applyã€bindæ”¹å˜thisæŒ‡å‘"><a href="#2-callã€applyã€bindæ”¹å˜thisæŒ‡å‘" class="headerlink" title="2.callã€applyã€bindæ”¹å˜thisæŒ‡å‘"></a>2.callã€applyã€bindæ”¹å˜thisæŒ‡å‘</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// ç¤ºä¾‹</span><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token string">'zs'</span><span class="token punctuation">,</span>    age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿™é‡Œç›´æ¥è°ƒç”¨ï¼ŒthisæŒ‡å‘windowã€‚æ‰“å°ç»“æœä¸ºï¼š1ï¼Œ2undefined</span><span class="token comment">// æ›´æ”¹thisæŒ‡å‘</span><span class="token comment">// call()</span><span class="token function">test</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// thisæŒ‡å‘personå¯¹è±¡ï¼Œç›´æ¥ä¼ å‚ï¼Œè°ƒç”¨å‡½æ•°ï¼Œæ‰“å°ç»“æœï¼š4ï¼Œ5zs</span><span class="token comment">// apply()</span><span class="token function">test</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// thisæŒ‡å‘personå¯¹è±¡ï¼Œæ•°ç»„ä¼ é€’å‚æ•°ï¼Œè°ƒç”¨å‡½æ•°ï¼Œæ‰“å°ç»“æœï¼š4ï¼Œ5zs</span><span class="token comment">// bind()</span><span class="token function">test</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// thisæŒ‡å‘personå¯¹è±¡ï¼Œå‡½æ•°ä¸è°ƒç”¨ï¼Œæ²¡æœ‰æ‰“å°ä¿¡æ¯ã€‚</span><span class="token function">test</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// thisæŒ‡å‘personå¯¹è±¡ï¼Œè°ƒç”¨å‡½æ•°ï¼Œæ‰“å°ç»“æœï¼š4ï¼Œ5zs</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ€»ç»“ï¼š<br>ç›¸åŒç‚¹ï¼š<br>â— éƒ½å¯ä»¥æ”¹å˜thisçš„æŒ‡å‘<br>ä¸åŒç‚¹ï¼š<br>â— call ä¸ applyä¼šè°ƒç”¨å‡½æ•°ï¼Œå¹¶ä¸”æ”¹å˜å‡½æ•°å†…thisçš„æŒ‡å‘ï¼Œåªæ˜¯ä¼ å‚ä¸åŒã€‚callæ˜¯å•ä¸ªä¼ å‚ï¼Œapplyå¯ä»¥ä¼ æ•°ç»„ã€‚<br>â— bind ä¸ä¼šè°ƒç”¨å‡½æ•°ï¼Œå‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªä¸€ä¸ªä¼ ã€‚</p><p>ä½¿ç”¨åœºæ™¯ï¼š<br>â— call å¸¸ç”¨æ¥åšç»§æ‰¿<br>â— apply è·Ÿæ•°ç»„æœ‰å…³ç³»ï¼Œæ¯”å¦‚æ•°ç»„æœ€å¤§å€¼æœ€å°å€¼<br>â— bind æ”¹å˜thisæŒ‡å‘ï¼Œä¸è°ƒç”¨å‡½æ•°ã€‚æ¯”å¦‚ï¼šæ”¹å˜å®šæ—¶å™¨å†…éƒ¨çš„thisæŒ‡å‘</p><h3 id="3-ä½œç”¨åŸŸ"><a href="#3-ä½œç”¨åŸŸ" class="headerlink" title="3.ä½œç”¨åŸŸ"></a>3.ä½œç”¨åŸŸ</h3><p>è¯æ³•ä½œç”¨åŸŸï¼šåœ¨å®šä¹‰æ—¶çš„ä½œç”¨åŸŸä¸­è¿è¡Œè€Œä¸æ˜¯åœ¨æ‰§è¡Œå®ƒä»¬çš„ä½œç”¨åŸŸä¸­è¿è¡Œ<br>å±€éƒ¨ä½œç”¨åŸŸï¼šåœ¨å‡½æ•°å†…å£°æ˜çš„å˜é‡ï¼Œå¯ä»¥åœ¨æ•´ä¸ªå‡½æ•°ä½¿ç”¨èŒƒå›´å†…ä½¿ç”¨ä»¥åŠå¤ç”¨ï¼ˆå‡½æ•°ä½œç”¨åŸŸï¼‰<br>å—çº§ä½œç”¨åŸŸï¼šåœ¨å˜é‡å£°æ˜çš„ä»£ç ä¹‹å¤–æ˜¯ä¸å¯è§çš„ï¼Œæ¯”å¦‚{}åœ¨if{}ã€ for{}å†…</p><p>å˜é‡ä½œç”¨åŸŸ<br>å…¨å±€å˜é‡ï¼šåœ¨å…¨å±€ä½œç”¨åŸŸçš„å˜é‡ï¼Œåªæœ‰åœ¨æµè§ˆå™¨å…³é—­çš„æ—¶å€™æ‰ä¼šé”€æ¯ï¼Œæ¯”è¾ƒå å†…å­˜<br>å±€éƒ¨å˜é‡ï¼šå‡½æ•°å†…éƒ¨ä½¿ç”¨ï¼Œå‡½æ•°æ‰§è¡Œå®Œæ¯•å°±é”€æ¯ï¼ˆé—­åŒ…å†…çš„å˜é‡é™¤å¤–ï¼‰</p><h2 id="å…­ã€ç®­å¤´å‡½æ•°"><a href="#å…­ã€ç®­å¤´å‡½æ•°" class="headerlink" title="å…­ã€ç®­å¤´å‡½æ•°"></a>å…­ã€ç®­å¤´å‡½æ•°</h2><h3 id="1-ç®­å¤´å‡½æ•°ç‰¹ç‚¹"><a href="#1-ç®­å¤´å‡½æ•°ç‰¹ç‚¹" class="headerlink" title="1.ç®­å¤´å‡½æ•°ç‰¹ç‚¹"></a>1.ç®­å¤´å‡½æ•°ç‰¹ç‚¹</h3><p>â— ç®­å¤´å‡½æ•°ä¸å¯ä½œä¸ºæ„é€ ï¼Œä¸èƒ½ä½¿ç”¨ new<br>â— ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ this<br>â— ç®­å¤´å‡½æ•°æ²¡æœ‰ arguments<br>â— ç®­å¤´å‡½æ•°æ²¡æœ‰åŸå‹å¯¹è±¡</p><blockquote><p>æš‚æ—¶å°±è¿™ä¹ˆå¤šå•¦ï¼ç­‰æˆ‘æƒ³åˆ°äº†å†æ¥åˆ†äº«ç»™å¤§å®¶ï¼<br><img src="https://s6.jpg.cm/2021/12/07/LQygfH.png" width="200px"></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> åŸå‹é“¾ã€ä½œç”¨åŸŸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€å®šè¦æ‡‚çš„jsåŸºç¡€ï¼Œä½ ä¼šäº†å—ï¼Ÿ</title>
      <link href="/MyBlog/facial-meridian-one/"/>
      <url>/MyBlog/facial-meridian-one/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€EventLoopäº‹ä»¶å¾ªç¯"><a href="#ä¸€ã€EventLoopäº‹ä»¶å¾ªç¯" class="headerlink" title="ä¸€ã€EventLoopäº‹ä»¶å¾ªç¯"></a>ä¸€ã€EventLoopäº‹ä»¶å¾ªç¯</h2><blockquote><p>ğŸ¯ jsæ˜¯ä¸€ä¸ªå•çº¿ç¨‹è„šæœ¬è¯­è¨€ã€‚<br>åœ¨æ‰§è¡Œæ¯”è¾ƒè€—æ—¶çš„ä»»åŠ¡æ—¶å¾ˆå®¹æ˜“å¯¼è‡´çº¿ç¨‹é˜»å¡ï¼Œå¯¼è‡´é¡µé¢å¡é¡¿çš„æƒ…å†µã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜å°±æœ‰äº† eventLoop äº‹ä»¶å¾ªç¯ã€‚<br>eventLoop å°†jsçº¿ç¨‹ä¸­çš„ä»»åŠ¡åˆ†ä¸ºï¼šå®ä»»åŠ¡ã€å¾®ä»»åŠ¡ã€‚<br>åœ¨ä»»åŠ¡è¿›å…¥æ‰§è¡Œæ ˆåï¼Œä¼šå…ˆåˆ¤æ–­æ˜¯å¦ä¸ºå®ä»»åŠ¡ï¼Œå®ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œå¾®ä»»åŠ¡è¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ç­‰å¾…æ‰§è¡Œã€‚<br>å®ä»»åŠ¡æ‰§è¡Œç»“æŸï¼ˆå°±å·²ç»ç¡®ä¿å®ä»»åŠ¡æ ˆç©ºäº†ï¼‰å†åˆ¤æ–­å¾®ä»»åŠ¡æ ˆæ˜¯å¦æœ‰å¾®ä»»åŠ¡éœ€è¦æ‰§è¡Œã€‚</p></blockquote><p><img src="./stack.png"></p><h3 id="1-å®ä»»åŠ¡macro-taskã€å¾®ä»»åŠ¡micro-task"><a href="#1-å®ä»»åŠ¡macro-taskã€å¾®ä»»åŠ¡micro-task" class="headerlink" title="1.å®ä»»åŠ¡macro-taskã€å¾®ä»»åŠ¡micro-task"></a>1.å®ä»»åŠ¡macro-taskã€å¾®ä»»åŠ¡micro-task</h3><ol><li>å®ä»»åŠ¡ï¼šjsæ•´ä½“ä»£ç ã€setTimeoutã€setInterval â€¦ â€¦</li><li>å¾®ä»»åŠ¡ï¼špromise â€¦ â€¦ï¼ˆå›è°ƒã€éœ€è¦è€—æ—¶çš„ï¼‰<br>è¡¥å……ï¼šè™½ç„¶ setTimeout æ˜¯å®ä»»åŠ¡ä½†æ˜¯å®ƒçš„å›è°ƒä¼šè¢«æ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚<br>è™½ç„¶ promise æ˜¯å¾®ä»»åŠ¡ï¼Œä½†æ˜¯new Promiseä¼šç«‹å³æ‰§è¡Œï¼Œå›è°ƒä¼šæ”¾å…¥å¾®ä»»åŠ¡æ ˆä¸­ã€‚</li></ol><p><img src="./task.png"><br><img src="./evenloop.png"></p><h2 id="äºŒã€Promiseå¼‚æ­¥è§£å†³æ–¹æ¡ˆ"><a href="#äºŒã€Promiseå¼‚æ­¥è§£å†³æ–¹æ¡ˆ" class="headerlink" title="äºŒã€Promiseå¼‚æ­¥è§£å†³æ–¹æ¡ˆ"></a>äºŒã€Promiseå¼‚æ­¥è§£å†³æ–¹æ¡ˆ</h2><blockquote><p>ğŸ¯ Promiseæ˜¯jsä¸­çš„ä¸€ç§å¼‚æ­¥è§£å†³æ–¹æ¡ˆã€‚<br>æ”¯æŒé“¾å¼è°ƒç”¨ .then() .catch() .finally()ï¼Œè§£å†³äº†ä¼ ç»Ÿå¼‚æ­¥è§£å†³æ–¹æ¡ˆï¼ˆajaxï¼‰å›è°ƒåœ°ç‹±çš„é—®é¢˜ã€‚ï¼ˆç¼ºç‚¹ï¼šæ‰€æœ‰çš„é”™è¯¯/å¼‚å¸¸éœ€è¦åœ¨å›è°ƒå‡½æ•°catchä¸­æ•è·å¤„ç†ï¼‰<br>promiseå‡½æ•°è‡ªå¸¦ä¸¤ä¸ªå‚æ•°resolveã€rejectï¼Œå¼‚æ­¥è¯·æ±‚æˆåŠŸæ‰§è¡Œresolveï¼Œå¤±è´¥æ‰§è¡Œrejectã€‚</p></blockquote><h3 id="1-promiseä¸‰ç§çŠ¶æ€ï¼ˆçŠ¶æ€å‘ç”Ÿå˜åŒ–åä¸å¯é€†ï¼‰"><a href="#1-promiseä¸‰ç§çŠ¶æ€ï¼ˆçŠ¶æ€å‘ç”Ÿå˜åŒ–åä¸å¯é€†ï¼‰" class="headerlink" title="1.promiseä¸‰ç§çŠ¶æ€ï¼ˆçŠ¶æ€å‘ç”Ÿå˜åŒ–åä¸å¯é€†ï¼‰"></a>1.promiseä¸‰ç§çŠ¶æ€ï¼ˆçŠ¶æ€å‘ç”Ÿå˜åŒ–åä¸å¯é€†ï¼‰</h3><p>â— Pending åˆå§‹çŠ¶æ€ï¼Œè¿›è¡Œä¸­<br>â— Resolvedï¼ˆfulfilledï¼‰ å·²å®Œæˆï¼ŒæˆåŠŸ<br>â— Rejected å·²å¤±è´¥</p><h3 id="2-promiseé“¾"><a href="#2-promiseé“¾" class="headerlink" title="2.promiseé“¾"></a>2.promiseé“¾</h3><p>promiseçš„æ¯ä¸€ä¸ªé“¾å¼è°ƒç”¨éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„promiseå¯¹è±¡ï¼Œåˆå¯ä»¥æ¥ç€ä½¿ç”¨.then() .catch() ç”±æ­¤å½¢æˆpromiseé“¾ã€‚åœ¨ then ä¸­ä½¿ç”¨äº†returnï¼Œé‚£ä¹ˆreturnçš„å€¼ä¼šè¢«promise.resolve() åŒ…è£…ã€‚</p><p><img src="./promise1.png"></p><h3 id="3-promise-all-ä¸promise-race"><a href="#3-promise-all-ä¸promise-race" class="headerlink" title="3.promise.all()ä¸promise.race()"></a>3.promise.all()ä¸promise.race()</h3><ol><li>promise.all() å¹¶å‘æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼Œæ‰€æœ‰ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæˆæ‰è¿›å…¥å›è°ƒã€‚</li><li>promise.race() åªè¦æœ‰ä¸€ä¸ªä»»åŠ¡å®Œæˆï¼Œå°±æ‰§è¡Œå›è°ƒå¾—åˆ°ç»“æœã€‚<br>è¡¥å……ï¼š<br>then() å¾—åˆ°å¼‚æ­¥æˆåŠŸçš„ä¿¡æ¯ï¼Œè¿”å›promiseå¯¹è±¡å¯ä»¥ç»§ç»­è°ƒç”¨ä¸‹ä¸€ä¸ªthen()<br>catch() å¾—åˆ°å¼‚æ­¥å¤±è´¥çš„ä¿¡æ¯ï¼Œè¿”å›promiseå¯¹è±¡å¯ä»¥ç»§ç»­è°ƒç”¨ä¸‹ä¸€ä¸ªthen()<br>finally() æ— è®ºæˆåŠŸå¤±è´¥éƒ½æ‰§è¡Œï¼Œè¿”å›promiseå¯¹è±¡å¯ä»¥ç»§ç»­è°ƒç”¨ä¸‹ä¸€ä¸ªthen()</li></ol><p>è¡¥å……ï¼šå…³äºå®ä»»åŠ¡ã€å¾®ä»»åŠ¡æ‰§è¡Œé¡ºåº<br><img src="./promise.png"></p><p>æ‰§è¡Œé¡ºåº<br>1ã€jsä»£ç ã€new Promiseå†…å®¹ï¼ˆpromiseæ„é€ å†…çš„ä»£ç æ˜¯ç«‹å³æ‰§è¡Œçš„ï¼‰<br>2ã€new Promise å›è°ƒï¼ˆthenå‡½æ•°åœ¨promise.resolve()åæ‰§è¡Œï¼‰<br>3ã€setTimeout å›è°ƒ<br>4ã€new Promise é‡Œé¢çš„setTimeout å›è°ƒ</p><p>new Promise ä¼šç«‹å³æ‰§è¡Œï¼Œthen()ã€catch()ã€finally()ç­‰å›è°ƒä¼šè¢«æ”¾åœ¨å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­åæ‰§è¡Œã€‚ï¼ˆä¼šå…ˆäºsetTimeoutçš„å›è°ƒï¼‰</p><h2 id="ä¸‰ã€Asyncã€Await"><a href="#ä¸‰ã€Asyncã€Await" class="headerlink" title="ä¸‰ã€Asyncã€Await"></a>ä¸‰ã€Asyncã€Await</h2><blockquote><p>ğŸ¯ async/await ä¹Ÿæ˜¯jsä¸­å¼‚æ­¥çš„è§£å†³æ–¹æ¡ˆï¼Œæ›´è¿›ä¸€æ­¥ä¼˜åŒ–äº†å¼‚æ­¥ä»£ç å—ã€‚<br>å…¶åŸç†å°±æ˜¯generator åŠ ä¸Šäº†promiseè¯­æ³•ç³–ï¼Œå†…éƒ¨å®ç°äº†è‡ªåŠ¨æ‰§è¡Œgeneratorã€‚</p></blockquote><h3 id="1-Asyncã€Awaitçš„ç‰¹ç‚¹"><a href="#1-Asyncã€Awaitçš„ç‰¹ç‚¹" class="headerlink" title="1.Asyncã€Awaitçš„ç‰¹ç‚¹"></a>1.Asyncã€Awaitçš„ç‰¹ç‚¹</h3><p>asyncè¿”å›çš„æ˜¯ä¸€ä¸ªpromiseå¯¹è±¡ï¼Œè€Œawaitå°±æ˜¯ç­‰promiseçš„ç»“æœè¿”å›åå†æ‰§è¡Œã€‚ï¼ˆawaitæ¥æ”¶çš„å°±æ˜¯promiseè¿”å›çš„ç»“æœï¼Œåé¢ä¸ä¸€å®šè¦ä½¿ç”¨.thenï¼‰<br>async æ ‡è®°å½“å‰ä»£ç å—ä¸ºå¼‚æ­¥ï¼Œawaitåˆ™æ˜¯å°†å¼‚æ­¥å˜ä¸ºåŒæ­¥ï¼ˆ.thençš„è¯­æ³•ç³–ï¼Œè¿”å›promiseå¯¹è±¡ï¼‰</p><p>awaitåªèƒ½åœ¨asyncå‡½æ•°ä¸­ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ã€‚</p><p>ä¼˜ç‚¹ï¼š<br>1ã€ç®€æ´æ˜äº†<br>2ã€å¯ä»¥ç»“åˆpromiseè¿›è¡Œå¼‚æ­¥çš„å¤„ç†</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// Tip1</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'api/v3/batchadd'</span><span class="token punctuation">,</span> objarray<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> <span class="token punctuation">{</span> data2 <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'api/v3/batchadd2'</span><span class="token punctuation">,</span> objarray2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿™é‡Œä¹Ÿå¯ä»¥åšä¸€äº›åˆ«çš„å¤„ç†</span>    <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>data2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token comment">// å…¶ä»–çš„é€»è¾‘å¤„ç†</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token comment">// å¤„ç†å¼‚å¸¸</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Tip2</span><span class="token comment">// ä¹Ÿå¯ä»¥åœ¨asyncä¸­ä½¿ç”¨try catchæ¥å¤„ç†å¼‚å¸¸</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>        <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'api/v3/batchadd'</span><span class="token punctuation">,</span> objarray<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">const</span> <span class="token punctuation">{</span> data2 <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'api/v3/batchadd2'</span><span class="token punctuation">,</span> objarray2<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è¿™é‡Œä¹Ÿå¯ä»¥åšä¸€äº›åˆ«çš„å¤„ç†</span>        <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>data2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// å¤„ç†å¼‚å¸¸</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// ä¹Ÿå¯ä»¥ç”¨promise.race(test1, test2);å®ç°ã€‚ï¼ˆå¹¶å‘æ‰§è¡Œå¯ä»¥ä½¿ç”¨promise.all() æ¥å®ç°ï¼‰</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> äº‹ä»¶å¾ªç¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‘å¾®å°å‰ç«¯æ¯æ—¥ä¸€ä¸ªâ€œç¦»èŒâ€å°æŠ€å·§</title>
      <link href="/MyBlog/client-tips/"/>
      <url>/MyBlog/client-tips/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å¼•é¢˜"><a href="#ä¸€ã€å¼•é¢˜" class="headerlink" title="ä¸€ã€å¼•é¢˜"></a>ä¸€ã€å¼•é¢˜</h2><blockquote><p>ğŸ¯ â€œä¸ç§¯è·¬æ­¥æ— ä»¥è‡³åƒé‡Œï¼Œä¸ç§¯å°æµæ— ä»¥æˆæ±Ÿæµ·â€<br>æ¯å¤©æ”¶é›†ä¸€ä¸ªå°æŠ€å·§ï¼Œæˆ–è®¸åœ¨å¾ˆä¹…çš„å°†æ¥ä½ ä¹Ÿå¯ä»¥æ˜¯å¤§ç¥ã€‚<br>æœ¬æ–‡ä¸»è¦æ”¶å½•ä¸€äº›é¢è¯•çš„åŸºç¡€é¢˜ï¼Œè¿˜æœ‰å¹³æ—¶å¸¸ç”¨çš„ä¸€äº›å°æ–¹æ³•ï¼Œå¦‚æœ‰æè¿°é”™è¯¯è¯·å„ä½å¤§ä½¬æŒ‡æ­£ï¼</p></blockquote><h2 id="äºŒã€æ­¥å…¥æ­£é¢˜CSSç¯‡"><a href="#äºŒã€æ­¥å…¥æ­£é¢˜CSSç¯‡" class="headerlink" title="äºŒã€æ­¥å…¥æ­£é¢˜CSSç¯‡"></a>äºŒã€æ­¥å…¥æ­£é¢˜CSSç¯‡</h2><blockquote><p>é¦–å…ˆï¼Œç®€å•äº†è§£ä¸€ä¸‹æµè§ˆå™¨çš„æ¸²æŸ“è¿‡ç¨‹ï¼š<br>1.è§£æjavascriptï¼Œæ„å»ºDOMæ ‘<br>2.è§£æcss/styleï¼Œæ„å»ºæ¸²æŸ“æ ‘<br>3.layout å¸ƒå±€<br>4.paint ç»˜åˆ¶<br>5.composite æ¸²æŸ“å±‚åˆæˆ</p></blockquote><h3 id="1-å¦‚ä½•è§£å†³é«˜åº¦å¡Œé™·"><a href="#1-å¦‚ä½•è§£å†³é«˜åº¦å¡Œé™·" class="headerlink" title="1.å¦‚ä½•è§£å†³é«˜åº¦å¡Œé™·"></a>1.å¦‚ä½•è§£å†³é«˜åº¦å¡Œé™·</h3><p>é«˜åº¦å¡Œé™·ï¼šæœ¬è¯¥åœ¨çˆ¶ç›’å­å†…éƒ¨çš„å…ƒç´ è·³åˆ°äº†å¤–é¢<br>ä¸ºä»€ä¹ˆä¼šå‡ºç°é«˜åº¦å¡Œé™·ï¼Ÿçˆ¶å…ƒç´ æ²¡æœ‰è®¾ç½®è¶³å¤Ÿçš„å¤§å°ï¼Œè€Œå­å…ƒç´ è®¾ç½®äº†æµ®åŠ¨</p><p>å¦‚ä½•è§£å†³é«˜åº¦å¡Œé™·çš„é—®é¢˜ï¼Ÿ</p><ol><li>ç®€å•ç²—æš´ï¼Œç›´æ¥è®¾ç½®çˆ¶å…ƒç´ çš„å®½é«˜ç›´åˆ°é€‚åˆä¸ºæ­¢ã€‚ç¼ºç‚¹ï¼šéè‡ªé€‚åº”ï¼Œæµè§ˆå™¨çª—å£ç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒã€‚</li><li>çˆ¶å…ƒç´ æ·»åŠ æµ®åŠ¨ï¼Œæ–¹ä¾¿ã€‚ç¼ºç‚¹ï¼šå¯¹å¸ƒå±€ä¸å‹å¥½ï¼Œä¸æ˜“ç»´æŠ¤ã€‚</li><li>çˆ¶å…ƒç´ æ·»åŠ overflowå±æ€§<br>a. overflowï¼šauto å¯èƒ½ä¼šå‡ºç°æ»šåŠ¨æ¡ï¼Œé¡µé¢ä¸ç¾è§‚<br>b. overflowï¼šhidden å¯èƒ½ä¼šç»™å†…å®¹å¸¦æ¥ä¸å¯è§é—®é¢˜</li><li>çˆ¶ç›’å­é‡Œæœ€ä¸‹æ–¹å¼•å…¥æ¸…é™¤æµ®åŠ¨å—ï¼Œæœ€ç®€å•çš„ï¼š<br style="clear:both;"> ç¼ºç‚¹ï¼šå¼•å…¥äº†å†—ä½™çš„ä»£ç å—</li><li>çˆ¶ç›’å­è®¾ç½®afterä¼ªç±»ï¼Œåœ¨ä¼ªç±»ä¸­æ·»åŠ clearï¼šboth å±æ€§ï¼Œæ¸…é™¤æµ®åŠ¨ã€‚ï¼ˆæ¨èï¼‰<pre class="line-numbers language-html" data-language="html"><code class="language-html">#parent:after{    clear: both;    width: 0;    height: 0;    display: block;    visibility: hiddenï¼›}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>è¡¥å……ï¼šæ¸…é™¤æµ®åŠ¨ä¼ªç±»æœ‰.clearfix clear:both overflow:hidden<br>å¸¸ç”¨ï¼š.clearfix</p></blockquote></li></ol><h3 id="2-CSSæ˜¾ç¤ºä¸éšè—çš„å®ç°æ–¹å¼æœ‰å“ªäº›ï¼ŸåŒºåˆ«åœ¨å“ªï¼Ÿ"><a href="#2-CSSæ˜¾ç¤ºä¸éšè—çš„å®ç°æ–¹å¼æœ‰å“ªäº›ï¼ŸåŒºåˆ«åœ¨å“ªï¼Ÿ" class="headerlink" title="2.CSSæ˜¾ç¤ºä¸éšè—çš„å®ç°æ–¹å¼æœ‰å“ªäº›ï¼ŸåŒºåˆ«åœ¨å“ªï¼Ÿ"></a>2.CSSæ˜¾ç¤ºä¸éšè—çš„å®ç°æ–¹å¼æœ‰å“ªäº›ï¼ŸåŒºåˆ«åœ¨å“ªï¼Ÿ</h3><p>å®ç°æ–¹å¼ï¼š<br>a.display[none]ï¼šä¸å ä½éšè—ï¼Œä¼šå¯¼è‡´é¡µé¢å›æµé‡ç»˜ï¼Œç»‘å®šäº‹ä»¶æ— æ•ˆ<br>b.visibility[hidden]ï¼šå ä½éšè—ï¼Œå¯èƒ½ä¼šå¯¼è‡´é¡µé¢é‡ç»˜ï¼Œç»‘å®šäº‹ä»¶æ— æ•ˆ<br>c.opacity[è®¾ç½®é€æ˜åº¦ä¸º0]ï¼šå†…éƒ¨å…ƒç´ éƒ½ä¼šå—å½±å“ï¼Œå¯ä»¥è¢«ç»§æ‰¿ï¼Œç»‘å®šäº‹ä»¶ä»æœ‰æ•ˆ<br>d.rgb[è®¾ç½®é€æ˜åº¦]ï¼šåªä½œç”¨äºå½“å‰å…ƒç´ ï¼Œä¸å¯è¢«ç»§æ‰¿</p><h3 id="3-ä½¿ç”¨cssç”»ä¸‰è§’å½¢"><a href="#3-ä½¿ç”¨cssç”»ä¸‰è§’å½¢" class="headerlink" title="3.ä½¿ç”¨cssç”»ä¸‰è§’å½¢"></a>3.ä½¿ç”¨cssç”»ä¸‰è§’å½¢</h3><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mydiv<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">    <span class="token comment">/* è®¾ç½®divè¾¹æ¡†é¢œè‰²ï¼ˆä¸Šã€å³ã€ä¸‹ã€å·¦ï¼‰ä¸‹è¾¹æ¡†ä¸ºçº¢è‰²ï¼Œå…¶ä»–è¾¹æ¡†è®¾ä¸ºé€æ˜ */</span>    <span class="token selector">#mydiv</span> <span class="token punctuation">{</span>        <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">border</span><span class="token punctuation">:</span> 15px solid<span class="token punctuation">;</span>        <span class="token property">border-color</span><span class="token punctuation">:</span> transparent transparent red transparent<span class="token punctuation">;</span>    <span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ•ˆæœå›¾ï¼š</p><div id="mydiv"></div><p></p><style>    #mydiv {        width: 0;        height: 0;        border: 20px solid;        border-color: transparent transparent red transparent;    }</style><h3 id="4-æ°´å¹³-å‚ç›´å±…ä¸­"><a href="#4-æ°´å¹³-å‚ç›´å±…ä¸­" class="headerlink" title="4.æ°´å¹³/å‚ç›´å±…ä¸­"></a>4.æ°´å¹³/å‚ç›´å±…ä¸­</h3><p>æ°´å¹³å±…ä¸­ï¼š<br>è¡Œå†…å…ƒç´ æ°´å¹³å±…ä¸­ text-align:center;</p><p>å—çº§å…ƒç´ æ°´å¹³å±…ä¸­<br>å®šå®½ï¼ˆwidthå›ºå®šï¼‰è®¾ç½® margin:0 auto å³å¯;<br>ä¸å®šå®½ï¼š<br>a. è®¾ç½®display:flex,justify-content:center;<br>b. è®¾ç½®display:table,ä¸”margin:0 auto<br>c. è®¾ç½®position + transform æˆ–è€…position + margin:0 auto;ç­‰</p><p>å‚ç›´å±…ä¸­ï¼š<br>å•è¡Œå…ƒç´ å‚ç›´å±…ä¸­ï¼š<br>a. è®¾ç½®è¡Œé«˜=é«˜ line-height = height;<br>b. è®¾ç½®ä¸Šä¸‹å†…è¾¹è·ç›¸ç­‰ paddingtop = paddingbottom;<br>å—çº§/å¤šè¡Œå…ƒç´ å‚ç›´å±…ä¸­ï¼š<br>a. è®¾ç½®çˆ¶å…ƒç´  display: flex;align-items: center;<br>b. è®¾ç½®çˆ¶å…ƒç´  display: table-cell;vertical-align: middle;<br>c. è®¾ç½®çˆ¶å…ƒç´  positionçš„å±æ€§å€¼ç­‰ç­‰</p><h3 id="5-æ°´å¹³å‚ç›´å±…ä¸­"><a href="#5-æ°´å¹³å‚ç›´å±…ä¸­" class="headerlink" title="5.æ°´å¹³å‚ç›´å±…ä¸­"></a>5.æ°´å¹³å‚ç›´å±…ä¸­</h3><p>æ¨è positionå®šä½ ä¸ flexå¸ƒå±€</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css"><span class="token comment">/* è®¾ç½®çˆ¶å…ƒç´ displayå±æ€§å€¼ä¸ºflexï¼Œå¹¶è®¾ç½®å­å…ƒç´ æ°´å¹³å±…ä¸­ */</span><span class="token selector">#parent</span> <span class="token punctuation">{</span>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">/* æˆ–è€…è®¾ç½®å…ƒç´ æœ¬èº«positionçš„å±æ€§å€¼ä¸ºabsolute */</span><span class="token selector">#mydiv</span> <span class="token punctuation">{</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span><span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="6-å·¦ä¸­å³å¸ƒå±€å®ç°æ–¹å¼"><a href="#6-å·¦ä¸­å³å¸ƒå±€å®ç°æ–¹å¼" class="headerlink" title="6.å·¦ä¸­å³å¸ƒå±€å®ç°æ–¹å¼"></a>6.å·¦ä¸­å³å¸ƒå±€å®ç°æ–¹å¼</h3><ol><li>æµ®åŠ¨å¸ƒå±€ï¼Œå·¦æµ®åŠ¨ï¼Œå³æµ®åŠ¨ï¼Œä¸­é—´è‡ªåŠ¨å¡«å……ã€‚</li><li>ç»å¯¹å®šä½ position<br>a. å·¦è¾¹å…ƒç´ positionï¼šabsoluteï¼›leftï¼š0ï¼›<br>b. å³è¾¹å…ƒç´ positionï¼šabsoluteï¼›rightï¼š0ï¼›<br>c. ä¸­é—´å…ƒç´ positionï¼šabsoluteï¼›leftï¼š300px;rightï¼š300px;</li><li>flexå¸ƒå±€<br>a. çˆ¶å…ƒç´ display: flexï¼›<br>b. å·¦å³å­å…ƒç´ width: 300px;<br>c. ä¸­é—´å­å…ƒç´ flex: 1;</li><li>tableå¸ƒå±€<br>a. çˆ¶å…ƒç´ width: 100%;display: table;<br>b. å·¦å³å­å…ƒç´ display: table-cell;width: 300px;</li><li>gridå¸ƒå±€(è®¾ç½®çˆ¶å…ƒç´ )<br>width: 100%;<br>display: grid;<br>grid-template-rows: 100;<br>grid-template-columns: 300px auto 300px;</li></ol><h3 id="7-ä¸€è¡Œæ–‡æœ¬è¶…å‡ºæ˜¾ç¤ºâ€¦"><a href="#7-ä¸€è¡Œæ–‡æœ¬è¶…å‡ºæ˜¾ç¤ºâ€¦" class="headerlink" title="7.ä¸€è¡Œæ–‡æœ¬è¶…å‡ºæ˜¾ç¤ºâ€¦"></a>7.ä¸€è¡Œæ–‡æœ¬è¶…å‡ºæ˜¾ç¤ºâ€¦</h3><pre class="line-numbers language-none"><code class="language-none">overflow: hidden;text-overflow:ellipsis;white-space: nowrap;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="8-å¤šè¡Œæ–‡æœ¬è¶…å‡ºæ˜¾ç¤ºâ€¦"><a href="#8-å¤šè¡Œæ–‡æœ¬è¶…å‡ºæ˜¾ç¤ºâ€¦" class="headerlink" title="8.å¤šè¡Œæ–‡æœ¬è¶…å‡ºæ˜¾ç¤ºâ€¦"></a>8.å¤šè¡Œæ–‡æœ¬è¶…å‡ºæ˜¾ç¤ºâ€¦</h3><pre class="line-numbers language-none"><code class="language-none">display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: 3;overflow: hidden;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸‰ã€æ­¥å…¥æ­£é¢˜jsç¯‡"><a href="#ä¸‰ã€æ­¥å…¥æ­£é¢˜jsç¯‡" class="headerlink" title="ä¸‰ã€æ­¥å…¥æ­£é¢˜jsç¯‡"></a>ä¸‰ã€æ­¥å…¥æ­£é¢˜jsç¯‡</h2><h3 id="1-æ•°ç»„ç›¸å…³æ“ä½œæ–¹æ³•"><a href="#1-æ•°ç»„ç›¸å…³æ“ä½œæ–¹æ³•" class="headerlink" title="1.æ•°ç»„ç›¸å…³æ“ä½œæ–¹æ³•"></a>1.æ•°ç»„ç›¸å…³æ“ä½œæ–¹æ³•</h3><p>â— push åœ¨æ•°ç»„æœ«å°¾æ·»åŠ å…ƒç´ <br>â— pop åˆ é™¤æœ«å°¾å…ƒç´ <br>â— unshift åœ¨æ•°ç»„é¦–ä½æ·»åŠ å…ƒç´ <br>â— shift åˆ é™¤é¦–ä½å…ƒç´ <br>â— splice åˆ é™¤æ•°ç»„å…ƒç´ ï¼Œæˆ–è€…åœ¨æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ <br>â— sort æ•°ç»„æ’åº<br>â— revese æ•°ç»„å€’åºï¼ˆæ’åºï¼‰</p><p>æ™®é€šæ•°ç»„çš„æŸ¥è¯¢ï¼š<br>â— indexOf ä»æ•°ç»„çš„ç¬¬ä¸€ä½å¼€å§‹å‘åæŸ¥æ‰¾æŒ‡å®šçš„å€¼å¹¶è¿”å›å€¼çš„ä½ç½®<br>â— lastIndexOf ä»æ•°ç»„çš„æœ€åä¸€é¡¹å‘å‰æŸ¥æ‰¾æŒ‡å®šçš„å€¼å¹¶è¿”å›å€¼çš„ä½ç½®ï¼ˆä¸‹æ ‡ï¼‰æ‰¾ä¸åˆ°è¿”å›-1<br>å¯¹è±¡æ•°ç»„çš„æŸ¥è¯¢ï¼š<br>â— findIndex ä»æ•°ç»„çš„ç¬¬ä¸€ä½å¼€å§‹å‘åæŸ¥æ‰¾æŒ‡å®šçš„å€¼å¹¶è¿”å›å€¼çš„ä½ç½®<br>â— filter éå†æ•°ç»„ï¼Œè¿”å›ç¬¦åˆæ¡ä»¶çš„æ–°æ•°ç»„<br>â— find éå†æ•°ç»„ï¼Œè¿”å›ç¬¦åˆæ¡ä»¶çš„å¯¹è±¡<br>â— every éå†æ•°ç»„ï¼Œå¦‚æœæœ‰ä¸€é¡¹ä¸ç¬¦åˆæ¡ä»¶å°±è¿”å›false (å¦‚æœæ•°ç»„æ¯é¡¹éƒ½ç¬¦åˆæ¡ä»¶ï¼Œå°±è¿”å›true)<br>â— some éå†æ•°ç»„ï¼Œå¦‚æœæœ‰ä¸€é¡¹æˆ–å¤šé¡¹ç¬¦åˆæ¡ä»¶å°±è¿”å›true<br>â— splice å¯åšåˆ é™¤ã€æ’å…¥ã€æ›¿æ¢<br>â— concat è¿½åŠ å…ƒç´ åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼ˆå¯åˆå¹¶ä¸¤ä¸ªæ•°ç»„ï¼‰</p><h3 id="2-å­—ç¬¦ä¸²ç›¸å…³æ“ä½œæ–¹æ³•"><a href="#2-å­—ç¬¦ä¸²ç›¸å…³æ“ä½œæ–¹æ³•" class="headerlink" title="2.å­—ç¬¦ä¸²ç›¸å…³æ“ä½œæ–¹æ³•"></a>2.å­—ç¬¦ä¸²ç›¸å…³æ“ä½œæ–¹æ³•</h3><p>â— includes() å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›true/false<br>â— repeat(number) å¾—åˆ°ä¸€ä¸ªé‡å¤numberæ¬¡çš„å­—ç¬¦ä¸²<br>â— startsWith() å­—ç¬¦ä¸²æ˜¯å¦ä¸ºæŸä¸ªå­—ç¬¦ä¸²å¼€å§‹ï¼Œæˆ‘ä¸€èˆ¬ç”¨å®ƒåˆ¤æ–­urlæ˜¯å¦æœ‰http<br>â— endsWith() å­—ç¬¦ä¸²æ˜¯å¦ä¸ºæŸä¸ªå­—ç¬¦ä¸²ç»“å°¾ï¼Œåˆ¤æ–­åç¼€å<br>â— â€˜abcâ€™.padEnd(5, â€˜0â€™); // abc00; ç”¨ç»™å®šçš„å­—ç¬¦ä¸²åœ¨å°¾éƒ¨æ‹¼æ¥åˆ°æŒ‡å®šé•¿åº¦ã€‚ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºé•¿åº¦ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºç”¨äºæ‹¼æ¥çš„å€¼ã€‚<br>â— â€˜abcâ€™.padStart(5, â€˜1â€™); // 11abc; ç”¨ç»™å®šçš„å­—ç¬¦ä¸²åœ¨é¦–éƒ¨æ‹¼æ¥åˆ°æŒ‡å®šé•¿åº¦ã€‚ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºé•¿åº¦ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºç”¨äºæ‹¼æ¥çš„å€¼ã€‚é¦–ä½è¡¥0ï¼Ÿ<br>â— trim()ã€trimStart()ã€trimEnd()å»ç©ºæ ¼</p><h3 id="3-åˆå¹¶ç©ºè¿ç®—ç¬¦"><a href="#3-åˆå¹¶ç©ºè¿ç®—ç¬¦" class="headerlink" title="3.??åˆå¹¶ç©ºè¿ç®—ç¬¦"></a>3.??åˆå¹¶ç©ºè¿ç®—ç¬¦</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test <span class="token operator">||</span> <span class="token string">'haha'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// haha;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test <span class="token operator">??</span> <span class="token string">'hah'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '';</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><a href="https://es6.ruanyifeng.com/#docs/string-methods">ES6å®˜æ–¹æ–‡æ¡£</a></p><blockquote><p>å®³ï¼ä»Šå¤©å°±å…ˆå†™åˆ°è¿™é‡Œå§ï¼åæœŸå†æ…¢æ…¢æ›´æ–°</p></blockquote><p><img src="./images.jpeg"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> ES6 </category>
          
          <category> Tips </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> ES6 </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯ç³»ç»Ÿæ·»åŠ æ°´å°</title>
      <link href="/MyBlog/client-watermark/"/>
      <url>/MyBlog/client-watermark/</url>
      
        <content type="html"><![CDATA[<img src="./images.jpeg" width="90%"><h2 id="ä¸€ã€éœ€æ±‚"><a href="#ä¸€ã€éœ€æ±‚" class="headerlink" title="ä¸€ã€éœ€æ±‚"></a>ä¸€ã€éœ€æ±‚</h2><blockquote><p>ğŸ¯ ç³»ç»Ÿä¸­é‡è¦æ•°æ®çš„å¯¼å‡ºæ–‡ä»¶éƒ½æœ‰æ°´å°ï¼Œè€Œé¡µé¢æˆªå›¾ï¼Œæ˜¯ä¸€ä¸ªæ¼æ´ã€‚<br>ä¸ºäº†é˜²æ­¢æˆªå›¾æ³„æ¼æ•°æ®ï¼Œå‰ç«¯æ·»åŠ æ°´å°ï¼Œä¸€æ—¦ï¼Œæˆªå›¾çš„æ•°æ®æ³„æ¼ï¼Œå¯ä»¥æ ¹æ®å›¾ç‰‡ä¸Šçš„æ°´å°ï¼Œè¿½ç©¶åˆ°äººã€‚<br>æœ¬æ–‡ä½¿ç”¨çš„æ˜¯å‰ç«¯æ–¹æ¡ˆï¼šæ˜¾æ€§æ°´å° + Canvasï¼ˆå‰ç«¯æ–¹æ¡ˆå¯ä»¥å‡å°‘æœåŠ¡å™¨å‹åŠ›ï¼Œå¿«é€Ÿå“åº”é¡µé¢ï¼‰<br>æ³¨ï¼šå¯¹äºå®‰å…¨åº¦è¦æ±‚ä¸æ˜¯é‚£ä¹ˆé«˜çš„æƒ…å†µè¿™ç§å‰ç«¯æ–¹æ¡ˆæ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯å¯¹äºå®‰å…¨åº¦è¦æ±‚æ¯”è¾ƒé«˜å»ºè®®é‡‡å–å…¶ä»–æ–¹æ¡ˆæ¯”å¦‚åç«¯å¤„ç†ï¼ˆä½é€æ˜åº¦éšè—æ°´å°ã€å‚…é‡Œå¶å¤§æ³•ç­‰ï¼‰</p></blockquote><h2 id="äºŒã€å®ç°"><a href="#äºŒã€å®ç°" class="headerlink" title="äºŒã€å®ç°"></a>äºŒã€å®ç°</h2><blockquote><p>1.å®šä¹‰watermark.js<br>2.è®¾ç½®ç”»æ¿çš„ pointerEvents å±æ€§ä¸ºnoneï¼Œé¡µé¢äº‹ä»¶ç©¿é€ã€‚<br>3.åˆ©ç”¨ç”»æ¿ canvas çš„ toDataURL æ–¹æ³•è®¾ç½®æ°´å°ï¼ŒåŒæ—¶è®¾ç½®é€æ˜åº¦ï¼Œå°†ç”»æ¿çš„ z-index è®¾ä¸º 99999ï¼ˆç½®é¡¶ï¼‰<br>4.è°ƒç”¨watermarkä¸­çš„æ–¹æ³•ï¼Œå®ç°å‰ç«¯ç³»ç»Ÿé¡µé¢æ·»åŠ æ°´å°</p></blockquote><p>1.æ–°å»ºwatermark.js<br>é€šè¿‡Canvasç»˜ç”»ï¼Œé¿å…äº†åœ¨æ°´å°å¯†åº¦è¾ƒå¤§çš„æƒ…å†µä¸‹å¤§é‡DOMå…ƒç´ çš„åˆ›å»ºä¸æ·»åŠ <br>ä¸”ç”¨æˆ·æ— æ³•é€šè¿‡æµè§ˆå™¨å¼€å‘è€…æ¨¡å¼ç¦ç”¨å…ƒç´ æ¥å»é™¤æ‰æ°´å°é®ç½©</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// åˆå§‹åŒ– watermark</span><span class="token keyword">let</span> watermark <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// å°è£…è®¾ç½®ç³»ç»Ÿæ°´å°æ–¹æ³•</span><span class="token keyword">let</span> <span class="token function-variable function">setWatermark</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> id <span class="token operator">=</span> <span class="token string">'3.141592653589793.3.141592653589793'</span><span class="token punctuation">;</span>  <span class="token keyword">let</span> watermarkOld <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>watermarkOld<span class="token punctuation">)</span> <span class="token punctuation">{</span>    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>watermarkOld<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">let</span> can <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  can<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">320</span><span class="token punctuation">;</span>  can<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">120</span><span class="token punctuation">;</span>  <span class="token keyword">let</span> cans <span class="token operator">=</span> can<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>cans<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>  cans<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  cans<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'15px Vedana'</span><span class="token punctuation">;</span>  cans<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'rgba(199, 199, 199, 0.256)'</span><span class="token punctuation">;</span>  cans<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">'left'</span><span class="token punctuation">;</span>  cans<span class="token punctuation">.</span>textBaseline <span class="token operator">=</span> <span class="token string">'Middle'</span><span class="token punctuation">;</span>  cans<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> can<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">20</span><span class="token punctuation">,</span> can<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">let</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  div<span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>  div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>pointerEvents <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>  div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token string">'0px'</span><span class="token punctuation">;</span>  div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token string">'0px'</span><span class="token punctuation">;</span>  div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'fixed'</span><span class="token punctuation">;</span>  div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>zIndex <span class="token operator">=</span> <span class="token string">'99999'</span><span class="token punctuation">;</span>  div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>  div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>  div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'url('</span> <span class="token operator">+</span> can<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">'image/png'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">') left top repeat'</span><span class="token punctuation">;</span>  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> id<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// è®¾ç½®ç³»ç»Ÿæ°´å°</span>watermark<span class="token punctuation">.</span><span class="token function-variable function">set</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> id <span class="token operator">=</span> <span class="token function">setWatermark</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>id<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>  <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>id <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      id <span class="token operator">=</span> <span class="token function">setWatermark</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  window<span class="token punctuation">.</span><span class="token function-variable function">onresize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token function">setWatermark</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// å¯¼å‡º watermark</span><span class="token keyword">export</span> <span class="token keyword">default</span> watermark<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>2.åœ¨main.jsä¸­å¯¼å…¥watermark.jså¹¶é…ç½®æˆå…¨å±€å±æ€§</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span><span class="token keyword">import</span> watermark <span class="token keyword">from</span> <span class="token string">'@/utils/watermark'</span><span class="token punctuation">;</span><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$watermark <span class="token operator">=</span> watermark<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>3.åœ¨é¡µé¢çš„jsä¸­è°ƒç”¨</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">'Header'</span><span class="token punctuation">,</span>  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>        <span class="token operator">...</span> <span class="token operator">...</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  methods<span class="token operator">:</span> <span class="token punctuation">{</span>      <span class="token comment">// è®¾ç½®ç³»ç»Ÿé¡µé¢æ°´å°</span>      <span class="token function">setWatermark</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>$watermark<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">test_watermark_msg</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue </category>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> elementUI </tag>
            
            <tag> æ°´å° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vueä½¿ç”¨eventBusæ€»çº¿ï¼Œå®ç°éçˆ¶å­ç»„ä»¶é—´çš„é€šä¿¡</title>
      <link href="/MyBlog/vue-bus-newsletter/"/>
      <url>/MyBlog/vue-bus-newsletter/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å‰æ"><a href="#ä¸€ã€å‰æ" class="headerlink" title="ä¸€ã€å‰æ"></a>ä¸€ã€å‰æ</h2><p>vueæä¾›çš„æ•°æ®é—´é€šè®¯æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„æœ‰ï¼š<br>1.çˆ¶å­ç»„ä»¶ä½¿ç”¨propsä¼ å€¼æˆ–è€…provide/inject</p><blockquote><p>çˆ¶ç»„ä»¶ä¸­é€šè¿‡ this.$refs.å­ç»„ä»¶refå€¼.å­ç»„ä»¶æ–¹æ³•ï¼›å­ç»„ä»¶ä¸­é€šè¿‡ this.$emit(â€˜çˆ¶ç»„ä»¶æ–¹æ³•â€™) æ¥è°ƒç”¨çˆ¶ç»„ä»¶æ–¹æ³•ã€‚<br>çˆ¶ç»„ä»¶ä¸­é€šè¿‡provideæ¥æä¾›å˜é‡, ç„¶åå†å­ç»„ä»¶ä¸­é€šè¿‡injectæ¥æ³¨å…¥å˜é‡ã€‚<br>(åªè¦è°ƒç”¨äº†inject å°±å¯ä»¥æ³¨å…¥provideä¸­çš„æ•°æ®ï¼Œä¸å±€é™äºåªèƒ½ä»å½“å‰çˆ¶ç»„ä»¶çš„propså±æ€§ä¸­å›å»æ•°æ®)</p></blockquote><p>2.éçˆ¶å­ç»„å»ºå¸¸ç”¨çš„é€šè®¯æ–¹å¼æœ‰ Vuex ã€eventBusæˆ–è€…localStorageã€sessionStorage</p><blockquote><p>vuexæ˜¯vue.jsæ•°æ®çŠ¶æ€ç®¡ç†ï¼Œé›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œé€šè¿‡vuexæ¥å®ç°æ•°æ®çš„å…¨å±€å…±äº«ã€‚ï¼ˆé€‚ç”¨äºæ¯”è¾ƒåºå¤§çš„ç³»ç»Ÿï¼Œå°é¡¹ç›®ä¸å»ºè®®ä½¿ç”¨ï¼‰<br>eventBusäº‹ä»¶æ€»çº¿ï¼Œæ‰€æœ‰ç»„ä»¶å…±ç”¨çš„ä¸€ä¸ªäº‹ä»¶ä¸­å¿ƒã€‚å¯ä»¥å‘è¯¥ä¸­å¿ƒæ³¨å†Œå‘é€äº‹ä»¶æˆ–æ¥æ”¶äº‹ä»¶ï¼Œ æ‰€æœ‰ç»„ä»¶éƒ½å¯ä»¥é€šçŸ¥å…¶ä»–ç»„ä»¶ã€‚ï¼ˆé€‚ç”¨äºè¾ƒå°çš„é¡¹ç›®ï¼Œé¡¹ç›®è¿‡å¤§éš¾ä»¥ç»´æŠ¤ï¼‰</p></blockquote><blockquote><p>é€šè¿‡window.localStorage.getItem(key)è·å–æ•°æ®(JSON.parse() / JSON.stringify() åšæ•°æ®æ ¼å¼è½¬æ¢)<br>é€šè¿‡window.localStorage.setItem(key,value)å­˜å‚¨æ•°æ®<br>localStorage / sessionStorageå¯ä»¥ç»“åˆvuexï¼Œå®ç°æ•°æ®çš„æŒä¹…ä¿å­˜ï¼Œè§£å†³æ•°æ®å’ŒçŠ¶æ€æ··ä¹±é—®é¢˜ã€‚</p></blockquote><h2 id="äºŒã€eventBusäº‹ä»¶æ€»çº¿"><a href="#äºŒã€eventBusäº‹ä»¶æ€»çº¿" class="headerlink" title="äºŒã€eventBusäº‹ä»¶æ€»çº¿"></a>äºŒã€eventBusäº‹ä»¶æ€»çº¿</h2><blockquote><p>eventBuså®ç°vueè·¨çº§ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œåœ¨é¡¹ç›®ä¸­ï¼Œå¦‚æœæ•°æ®å’Œä¸šåŠ¡é€»è¾‘ä¸æ˜¯ç‰¹åˆ«å¤æ‚ï¼Œæ²¡æœ‰å¿…è¦ä½¿ç”¨Vuexï¼Œç”¨eventBuså°±èƒ½å®ç°æˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½è€Œä¸”ä»£ç æ¯”è¾ƒç®€æ´ç›´è§‚ã€‚<br>é‚£ä¹ˆåœ¨vueé¡¹ç›®ä¸­å¦‚ä½•é€šè¿‡eventBusäº‹ä»¶æ€»çº¿æ¥å®ç°éçˆ¶å­ç»„ä»¶ä¹‹é—´çš„æ•°æ®é€šè®¯å‘¢ï¼Ÿ<br>åœ¨ç®€å•çš„åœºæ™¯ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªç©ºçš„Vueå®ä¾‹ä½œä¸ºä¸­å¤®äº‹ä»¶æ€»çº¿</p></blockquote><blockquote><p>åœºæ™¯ï¼šè¿™é‡Œæ¨¡æ‹Ÿåœ¨å³ä¾§åˆ—è¡¨ä¸­æ“ä½œæ•°æ®åï¼Œå±€éƒ¨åˆ·æ–°å·¦ä¾§èœå•çš„ç»Ÿè®¡<br>æ³¨ï¼šå·¦ä¾§èœå•navæ˜¯ä¸€ä¸ªå•ç‹¬çš„ç»„ä»¶ï¼Œå³ä¾§åˆ—è¡¨åˆ™æ˜¯homeä¸­çš„ä¸€ä¸ªè§†å›¾ï¼ˆç»„ä»¶ï¼‰[ä¸¤ä¸ªé¡µé¢æ˜¯éçˆ¶å­ç»„ä»¶]</p></blockquote><p><img src="./table.jpg"></p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// åœ¨é¡¹ç›®çš„main.jsä¸­å…¨å±€å®šä¹‰ï¼Œå°†busæŒ‚è½½åˆ°vue.prototypeä¸Š</span><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>bus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// åœ¨åˆ—è¡¨é¡µtest.vueï¼ˆAï¼‰ä¸­è§¦å‘äº‹ä»¶</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token operator">...</span> <span class="token operator">...</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  methods<span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// åˆå§‹åŒ–é¡µé¢</span>      <span class="token operator">...</span> <span class="token operator">...</span>      <span class="token comment">// æ›´æ–°å·¦ä¾§èœå•</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'refreshMenu'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// åœ¨èœå•ç»„ä»¶nav.vueï¼ˆBï¼‰ä¸­ç›‘å¬äº‹ä»¶</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">"Nav"</span><span class="token punctuation">,</span>  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token operator">...</span> <span class="token operator">...</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// ç›‘å¬äº‹ä»¶</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'refreshMenu'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// åœ¨ç»„ä»¶é”€æ¯æ—¶å¸è½½æ³¨å†Œçš„æ€»çº¿äº‹ä»¶ï¼Œå¦åˆ™ä¼šå¤šæ¬¡æŒ‚è½½ï¼Œé€ æˆè§¦å‘ä¸€æ¬¡ä½†å¤šä¸ªå“åº”çš„æƒ…å†µ</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>bus<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'refreshMenu'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  methods<span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// åˆå§‹åŒ–èœå•é¡µé¢ï¼ˆè·å–èœå•ç»Ÿè®¡æ•°æ®ï¼‰</span>      <span class="token operator">...</span> <span class="token operator">...</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue </category>
          
          <category> ç»„ä»¶é€šè®¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Bus </tag>
            
            <tag> ç»„ä»¶é€šè®¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Element è‡ªå®šä¹‰è¡¨å•éªŒè¯</title>
      <link href="/MyBlog/element-customize-form/"/>
      <url>/MyBlog/element-customize-form/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€éœ€æ±‚"><a href="#ä¸€ã€éœ€æ±‚" class="headerlink" title="ä¸€ã€éœ€æ±‚"></a>ä¸€ã€éœ€æ±‚</h2><blockquote><p>ä½¿ç”¨å®˜ç½‘æä¾›çš„è¡¨å•éªŒè¯ï¼Œå®ç°è¡¨å•æ•°æ®çš„è‡ªå®šä¹‰æ ¡éªŒ<br>é™¤äº†éç©ºæ ¡éªŒï¼Œå¯èƒ½è¿˜æœ‰ä¸€äº›ä¸šåŠ¡ç›¸å…³çš„æ•°æ®æ ¡éªŒï¼Œéœ€è¦ç”¨åˆ°è‡ªå®šä¹‰è¡¨å•éªŒè¯<br>è‡ªå®šä¹‰æ­£åˆ™æ ¡éªŒã€è°ƒç”¨æ¥å£æ ¡éªŒæ•°æ®ç­‰ç­‰</p></blockquote><h2 id="äºŒã€å¤„ç†æ–¹å¼"><a href="#äºŒã€å¤„ç†æ–¹å¼" class="headerlink" title="äºŒã€å¤„ç†æ–¹å¼"></a>äºŒã€å¤„ç†æ–¹å¼</h2><blockquote><p>åœ¨formè¡¨å•ä¸­ç»‘å®š rules å±æ€§<br>åœ¨è¡¨å•æ•°æ®é¡¹ä¸­ç”¨ prop ç»‘å®šæ¯ä¸ªæ•°æ®é¡¹æ ¡éªŒè§„åˆ™</p></blockquote><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span>  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myForm<span class="token punctuation">"</span></span>  <span class="token attr-name">:inline</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>  <span class="token attr-name">:model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myForm<span class="token punctuation">"</span></span>  <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myForm<span class="token punctuation">"</span></span>  <span class="token attr-name">:rules</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rules<span class="token punctuation">"</span></span>  <span class="token attr-name">label-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100px<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span>      <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>xzPerson<span class="token punctuation">"</span></span>      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-input<span class="token punctuation">"</span></span>      <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>åç§°<span class="token punctuation">"</span></span>    <span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span>        <span class="token attr-name">clearable</span>        <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myForm.xzPerson<span class="token punctuation">"</span></span>        <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å¡«å†™åç§°<span class="token punctuation">"</span></span>      <span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span>    <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>xzType<span class="token punctuation">"</span></span>    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-input<span class="token punctuation">"</span></span>    <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ç±»å‹<span class="token punctuation">"</span></span>  <span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-select</span>      <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myForm.xzType<span class="token punctuation">"</span></span>      <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è¯·é€‰æ‹©ç±»å‹<span class="token punctuation">"</span></span>    <span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-option</span>        <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item in typeList<span class="token punctuation">"</span></span>        <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.id<span class="token punctuation">"</span></span>        <span class="token attr-name">:label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.name<span class="token punctuation">"</span></span>        <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.id<span class="token punctuation">"</span></span>      <span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-option</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-select</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>  <span class="token comment">&lt;!--     è¡¨å•è®¾ç½®äº†rulesè§„åˆ™ï¼Œè¡¨å•ä¸­çš„æ¯ä¸ªæ•°æ®é¡¹ä¹Ÿå¯ä»¥å•ç‹¬è®¾ç½®æ•°æ®æ ¡éªŒè§„åˆ™ï¼š    å½“myForm.xzTypeä¸ºç©ºæˆ–è€…ä¸ºæŒ‡å®šå€¼æ—¶ï¼ŒxzXydméå¿…å¡«[{required: false}]ï¼Œå¦åˆ™å°±æŒ‰è¡¨å•å®šä¹‰çš„æ ¡éªŒè§„åˆ™  --&gt;</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span>    <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>xzXydm<span class="token punctuation">"</span></span>    <span class="token attr-name">:rules</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(myForm.xzType === <span class="token punctuation">'</span><span class="token punctuation">'</span> || myForm.xzType === <span class="token punctuation">'</span>xxx<span class="token punctuation">'</span>) ? [{required: false}] : rules.xzXydm<span class="token punctuation">"</span></span>    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-input form-label-max-length<span class="token punctuation">"</span></span>  <span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- å¦‚æœæ ‡é¢˜è¿‡é•¿ï¼Œå¯ä»¥è‡ªå®šä¹‰æ¢è¡Œ --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>label<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>xxxxxx_1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>(xxxxxä»£ç )<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span>      <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myForm.xzXydm<span class="token punctuation">"</span></span>      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%</span><span class="token punctuation">"</span></span></span>      <span class="token attr-name">clearable</span>      <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æç¤ºä¿¡æ¯<span class="token punctuation">"</span></span>    <span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span>    <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>xzGszch<span class="token punctuation">"</span></span>    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-input form-label-max-length<span class="token punctuation">"</span></span>  <span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>label<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>xxxxx_2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>(xxxxxx)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span>      <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myForm.xzGszch<span class="token punctuation">"</span></span>      <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(myForm.xzType === <span class="token punctuation">'</span><span class="token punctuation">'</span> || myForm.xzType === <span class="token punctuation">'</span>xxx<span class="token punctuation">'</span>) ? true : false<span class="token punctuation">"</span></span>      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%</span><span class="token punctuation">"</span></span></span>      <span class="token attr-name">clearable</span>      <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æç¤ºä¿¡æ¯<span class="token punctuation">"</span></span>    <span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>åœ¨jsä¸­å®šä¹‰å¹¶åˆå§‹åŒ–è¡¨å•æ•°æ®<br>å®šä¹‰å¥½ myForm ä»¥åŠ rules ç›¸å…³æ•°æ®<br>è‡ªå®šä¹‰éªŒè¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ä½¿ç”¨ validator å®ç°ï¼Œå…¶ä¸­å¯¹åº”çš„éªŒè¯æ–¹æ³•å¿…é¡»å†™åœ¨ data å‡½æ•° return çš„å¤–é¢</p></blockquote><blockquote><p>é”™è¯¯ä¿¡æ¯é€šè¿‡ return callback(new Error(â€˜é”™è¯¯ä¿¡æ¯â€™)) åœ¨é¡µé¢ä¸Šæç¤º<br>æ•°æ®æ­£å¸¸ callback() ä¸­ä¸new Error<br>æ¥å£æ ¡éªŒçš„æ–¹æ³•ï¼Œéœ€è¦åŠ ä¸Šasyncä¿®é¥°ç¬¦ï¼Œæ–¹æ³•å†…éƒ¨å¯ç›´æ¥é€šè¿‡ await æ¥å£åç§°({ å‚æ•°: value }) è·å–æ¥å£è¿”å›å€¼è¿›è¡Œåˆ¤æ–­ï¼ˆå¤„ç†å¼‚æ­¥è¯·æ±‚ï¼‰</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// å¼•å…¥å¤–éƒ¨æ¥å£æ ¡éªŒ</span><span class="token keyword">import</span> <span class="token punctuation">{</span>  checkXydm<span class="token punctuation">,</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@/api/publicity.js"</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">{</span>  getStrLength<span class="token punctuation">,</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@/utils/common"</span><span class="token punctuation">;</span><span class="token comment">// å¼•å…¥å¤–éƒ¨æ­£åˆ™æ ¡éªŒ</span><span class="token keyword">import</span> <span class="token punctuation">{</span>  regSpecialSymbol<span class="token punctuation">,</span>  regNotNum<span class="token punctuation">,</span>  regSocialCreditCode<span class="token punctuation">,</span>  regGszcCode<span class="token punctuation">,</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@/utils/reg"</span><span class="token punctuation">;</span><span class="token comment">// åˆå§‹åŒ–é¡µé¢æ•°æ®</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// è‡ªå®šä¹‰éªŒè¯ start</span>    <span class="token keyword">let</span> _this <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token comment">// åç§°</span>    <span class="token keyword">let</span> <span class="token function-variable function">validateXzPerson</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">rule<span class="token punctuation">,</span> value<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'è¯·è¾“å…¥åç§°'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>regSpecialSymbol<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span>regNotNum<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'åç§°ä¸å¾—åŒ…å«æ•°å­—ã€*æˆ–nullæˆ–testæˆ–ä¸­è‹±æ–‡é—®å·ç­‰ç‰¹æ®Šå­—ç¬¦'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">getStrLength</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">3</span> <span class="token operator">||</span> <span class="token function">getStrLength</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">50</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'åç§°é•¿åº¦ä¸èƒ½è¶…è¿‡50ä¸ªå­—ç¬¦ä¸”å¿…é¡»å¤§äºä¸€ä¸ªæ±‰å­—æˆ–å¤§äºä¸‰ä¸ªå­—ç¬¦'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token comment">// xxxxä»£ç </span>    <span class="token keyword">let</span> <span class="token function-variable function">validatorXzXydm</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">rule<span class="token punctuation">,</span> value<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'è¯·è¾“å…¥xxxä»£ç '</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>regSocialCreditCode<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'xxxxä»£ç å¡«å†™é”™è¯¯'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">checkXydm</span><span class="token punctuation">(</span><span class="token punctuation">{</span> xydm<span class="token operator">:</span> value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'xxxxä»£ç éªŒè¯æœ‰è¯¯'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token comment">// æ³¨å†Œå·</span>    <span class="token keyword">let</span> <span class="token function-variable function">validatorXzGszch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">rule<span class="token punctuation">,</span> value<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>regGszcCode<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'æ³¨å†Œä»£ç å¡«å†™é”™è¯¯'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// è‡ªå®šä¹‰éªŒè¯ end</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>      myForm<span class="token operator">:</span> <span class="token punctuation">{</span>        xzPerson<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        xzType<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        xzXydm<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        xzGszch<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token comment">// è¡¨å•æ ¡éªŒ</span>      rules<span class="token operator">:</span> <span class="token punctuation">{</span>        xzPerson<span class="token operator">:</span> <span class="token punctuation">[</span>          <span class="token punctuation">{</span>            required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            validator<span class="token operator">:</span> validateXzPerson<span class="token punctuation">,</span>            trigger<span class="token operator">:</span> <span class="token string">'blur'</span><span class="token punctuation">,</span>          <span class="token punctuation">}</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>        xzType<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// æ™®é€šçš„éç©ºéªŒè¯</span>          <span class="token punctuation">{</span> required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">'è¯·è¾“å…¥ç±»å‹'</span><span class="token punctuation">,</span> trigger<span class="token operator">:</span> <span class="token string">'blur'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>        xzXydm<span class="token operator">:</span> <span class="token punctuation">[</span>          <span class="token punctuation">{</span>            required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            validator<span class="token operator">:</span> validatorXzXydm<span class="token punctuation">,</span>            trigger<span class="token operator">:</span> <span class="token string">'blur'</span><span class="token punctuation">,</span>          <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>        xzGszch<span class="token operator">:</span> <span class="token punctuation">[</span>          <span class="token punctuation">{</span>             validator<span class="token operator">:</span> validatorXzGszch<span class="token punctuation">,</span>            trigger<span class="token operator">:</span> <span class="token string">"blur"</span><span class="token punctuation">,</span>          <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>OKå®Œç¾ç»“æŸï¼</p></blockquote><img src="./imagepic.jpg" style="width: 400px">]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue </category>
          
          <category> ElementUI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> ElementUI </tag>
            
            <tag> form </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯ä¹‹æ­£åˆ™æ ¡éªŒï¼ˆä¸€ï¼‰</title>
      <link href="/MyBlog/client-reg/"/>
      <url>/MyBlog/client-reg/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€æ­£åˆ™è¡¨è¾¾å¼"><a href="#ä¸€ã€æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="ä¸€ã€æ­£åˆ™è¡¨è¾¾å¼"></a>ä¸€ã€æ­£åˆ™è¡¨è¾¾å¼</h2><blockquote><p>ğŸ¯ å½’çº³æœ€è¿‘ç”¨åˆ°çš„ä¸€äº›æ­£åˆ™è¡¨è¾¾å¼</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// æ­£åˆ™è¡¨è¾¾å¼</span><span class="token comment">// ä¸åŒ…å«ç‰¹æ®Šç¬¦å·ï¼ˆé•¿åº¦0-50ï¼‰</span><span class="token keyword">export</span> <span class="token keyword">const</span> regSpecialSymbol <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^((?!\\|\/|:|\*|test|null|ï¼Ÿ|:|;|~|,|ã€|ã€‚|ï¼Œ|ã€ã€‘|{}|&amp;|$|Â¥|=|\?|&lt;|&gt;|\||'|%).){1,50}$</span><span class="token regex-delimiter">/</span></span><span class="token comment">// ä¸å«æ•°å­—</span><span class="token keyword">export</span> <span class="token keyword">const</span> regNotNum <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[^0-9]$</span><span class="token regex-delimiter">/</span></span><span class="token comment">// ä¸åŒ…å«*æˆ–nullæˆ–test</span><span class="token keyword">export</span> <span class="token keyword">const</span> regNotStart <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[^*|null|test]$</span><span class="token regex-delimiter">/</span></span><span class="token comment">// æŠ¤ç…§ï¼ˆåŒ…å«é¦™æ¸¯ã€æ¾³é—¨ï¼‰</span><span class="token keyword">export</span> <span class="token keyword">const</span> regPassport <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(^[EeKkGgDdSsPpHh]\d{8}$)|(^(([Ee][a-fA-F])|([DdSsPp][Ee])|([Kk][Jj])|([Mm][Aa])|(1[45]))\d{7}$)</span><span class="token regex-delimiter">/</span></span><span class="token comment">// æ¸¯æ¾³å±…æ°‘æ¥å¾€å†…åœ°é€šè¡Œè¯</span><span class="token keyword">export</span> <span class="token keyword">const</span> regGaoPass <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[H|h|M|m](\d{8}|\d{10})$</span><span class="token regex-delimiter">/</span></span><span class="token comment">// å°æ¹¾å±…æ°‘æ¥å¾€å¤§é™†é€šè¡Œè¯</span><span class="token keyword">export</span> <span class="token keyword">const</span> regTwPass <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\d{8}|^[a-zA-Z0-9]{10}|^\d{18}$</span><span class="token regex-delimiter">/</span></span><span class="token comment">// å¤–å›½äººæ°¸ä¹…å±…ç•™èº«ä»½è¯ï¼Œå¦‚ï¼šUSA110074110419ã€aUs110074110419</span><span class="token keyword">export</span> <span class="token keyword">const</span> regForeignerResideCard <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-zA-Z]{3}\d{12}$</span><span class="token regex-delimiter">/</span></span><span class="token comment">// èº«ä»½è¯</span><span class="token keyword">export</span> <span class="token keyword">const</span> regIdCard <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(^\d{8}(0\d|10|11|12)([0-2]\d|30|31)\d{3}$)|(^\d{6}(18|19|20)\d{2}(0\d|10|11|12)([0-2]\d|30|31)\d{3}(\d|X|x)$)</span><span class="token regex-delimiter">/</span></span><span class="token comment">// ç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç </span><span class="token keyword">export</span> <span class="token keyword">const</span> regSocialCreditCode <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^([0-9A-HJ-NPQRTUWXY]{2}\d{6}[0-9A-HJ-NPQRTUWXY]{10}|[1-9]\d{14})$</span><span class="token regex-delimiter">/</span></span><span class="token comment">// ä¼ä¸šæ³¨å†Œå·</span><span class="token keyword">export</span> <span class="token keyword">const</span> regCompanyIdNum <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[A-Za-z0-9]\w{14}$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token comment">// å·¥å•†æ³¨å†Œå·</span><span class="token keyword">export</span> <span class="token keyword">const</span> regGszcCode <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[1-7]\d{14}$</span><span class="token regex-delimiter">/</span></span><span class="token comment">// ç»„ç»‡æœºæ„ä»£ç </span><span class="token keyword">export</span> <span class="token keyword">const</span> regZzjgCode <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[0-9A-HJ-NPQRTUWXY]{9}</span><span class="token regex-delimiter">/</span></span><span class="token comment">// ç¨åŠ¡ç™»è®°å·ï¼šä¸º15ä½æ•°å­—å’Œå¤§å†™è‹±æ–‡å­—æ¯</span><span class="token keyword">export</span> <span class="token keyword">const</span> regUnitNum <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[A-Z0-9]{15}$</span><span class="token regex-delimiter">/</span></span><span class="token comment">// äº‹ä¸šå•ä½è¯ä¹¦å·ï¼ˆé•¿åº¦ä¸èƒ½è¶…è¿‡12ä¸ªå­—ç¬¦ï¼Œä¸èƒ½å«æœ‰é™¤æ•°å­—æˆ–å­—æ¯ä¹‹å¤–çš„å­—ç¬¦ï¼‰</span><span class="token keyword">export</span> <span class="token keyword">const</span> regSyzsCode <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[A-Za-z0-9]{12}$</span><span class="token regex-delimiter">/</span></span><span class="token comment">// ç¤¾ä¼šç»„ç»‡ç™»è®°è¯å·ï¼ˆé•¿åº¦ä¸èƒ½è¶…è¿‡50ä¸ªå­—ç¬¦ï¼Œä¸èƒ½å«æœ‰é™¤æ•°å­—æˆ–å­—æ¯ä¹‹å¤–çš„å­—ç¬¦ï¼‰</span><span class="token keyword">export</span> <span class="token keyword">const</span> regShzzdjCode <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[A-Za-z0-9]{50}$</span><span class="token regex-delimiter">/</span></span><span class="token comment">// é‡‘é¢ (å¤§äº0æˆ–è€…æ­£æ•°ï¼Œå…­ä½å°æ•°)ã€/(^[1-9]{1}[0-9]*$)|(^[0-9]*\.[0-9]{2}$)/ã€‘</span><span class="token keyword">export</span> <span class="token keyword">const</span> regMoney <span class="token operator">=</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^([1-9]\d{0,9}|0)(\.\d{1,6})?$</span><span class="token regex-delimiter">/</span></span><span class="token comment">// æ‰‹æœºå·éªŒè¯</span><span class="token keyword">export</span> <span class="token keyword">const</span> regPhone <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(1[3|5|4|6|7|8|9]\d{1}[*|\d]{4}\d{4})$</span><span class="token regex-delimiter">/</span></span><span class="token comment">// é‚®ç®±éªŒè¯</span><span class="token keyword">export</span> <span class="token keyword">const</span> regEmail <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-zA-Z0-9_]+[a-zA-Z0-9_\-\.]+[a-zA-Z0-9_]+@[\w-]+\.[\w-]+$|^[a-zA-Z0-9_]+[a-zA-Z0-9_\-\.]+[a-zA-Z0-9_]+@[\w-]+\.[\w-]+\.[\w-]+$</span><span class="token regex-delimiter">/</span></span><span class="token comment">// è‹±æ–‡å­—æ¯é¦–å­—æ¯å¿…é¡»å¤§å†™</span><span class="token keyword">export</span> <span class="token keyword">const</span> capitalize_first_letter <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(([A-Z0-9\u4e00-\u9fa5]+)([\w\u4e00-\u9fa5]+)?([\W]*))+$</span><span class="token regex-delimiter">/</span></span><span class="token comment">// ä¸èƒ½ä»¥ç©ºæ ¼ã€-ã€&amp;ç¬¦å·å¼€å¤´ã€ç»“å°¾</span><span class="token keyword">export</span> <span class="token keyword">const</span> ignore_spaces <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^([\u4e00-\u9fa5A-Za-z0-9\(\)]+)(.*[\u4e00-\u9fa5A-Za-z0-9\(\)]+)?$</span><span class="token regex-delimiter">/</span></span><span class="token keyword">export</span> <span class="token keyword">const</span> ignore_spaces_1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[^\s\-\.\,;:'"!@\#\$%\^\&amp;\*\(\)\&lt;\&gt;\/\|\\].+$</span><span class="token regex-delimiter">/</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="äºŒã€å°æ’ä»¶"><a href="#äºŒã€å°æ’ä»¶" class="headerlink" title="äºŒã€å°æ’ä»¶"></a>äºŒã€å°æ’ä»¶</h2><blockquote><p>æ¨èvs codeä¸­ä¸€ä¸ªå…³äºæ­£åˆ™çš„å°æ’ä»¶ any-rule ä¸ªäººè§‰å¾—è¿˜å¯ä»¥ï¼Œè™½ç„¶åŒ…å«çš„æ­£åˆ™æ•°ç›®ä¸å¤šï¼Œä½†æ˜¯å¸¸è§„çš„ä¸€äº›éƒ½æœ‰ã€‚<br>åœ¨vs codeåº”ç”¨å•†åº—ä¸­ä¸‹è½½å®‰è£…åï¼Œæ‰“å¼€ä¸€ä¸ªé¡µé¢å³é”®å°±ä¼šæœ‰ï¼šæ­£åˆ™å¤§å…¨75æ¡<br>å½“ç„¶ï¼Œç‰¹æ®Šçš„æ­£åˆ™ä¹Ÿæ˜¯å¯ä»¥æ ¹æ®ä¸ªäººéœ€è¦åšä¸€äº›è°ƒæ•´çš„ã€‚</p></blockquote><p><img src="./reg1.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> æ­£åˆ™ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> jquery </tag>
            
            <tag> æ­£åˆ™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯é¡µé¢ä¼˜åŒ–ä¹‹é˜²æŠ–èŠ‚æµ</title>
      <link href="/MyBlog/client-optimization-one/"/>
      <url>/MyBlog/client-optimization-one/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å¼•é¢˜"><a href="#ä¸€ã€å¼•é¢˜" class="headerlink" title="ä¸€ã€å¼•é¢˜"></a>ä¸€ã€å¼•é¢˜</h2><p> ğŸ¯ æœ€è¿‘åŒäº‹åœ¨åšé¡¹ç›®è¿‡ç¨‹ä¸­é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šä¸€ä¸ªå•é¡µé¢çš„æ•°æ®ä¿å­˜ï¼Œåœ¨ç”¨æˆ·ç–¯ç‹‚ç‚¹å‡»ä¿å­˜æŒ‰é’®æ—¶ï¼Œæ•°æ®åº“ä¼šä¿å­˜å¤šæ¡æ•°æ®ã€‚å¯¹äºè¿™ä¸ªé—®é¢˜é™¤äº†é˜²æŠ–å…¶å®æœ‰å¾ˆå¤šè§£å†³åŠæ³•ï¼Œç½‘ä¸Šä¹Ÿæœ‰ä¸å°‘å·²ç»å¤„ç†å¥½çš„æ¶æ„ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºè¿™ä¸ªè¿˜æ˜¯å¯ä»¥æ”¶å½•åœ¨åšå®¢é‡Œçš„å“ˆå“ˆå“ˆæ–¹ä¾¿è‡ªå·±å·©å›ºä¸€ä¸‹åŸºç¡€çŸ¥è¯†ï¼Œä¹Ÿé”»ç‚¼é”»ç‚¼è‡ªå·±å†™åšå®¢çš„èƒ½åŠ›ã€‚<img src="./watermark.webp"></p><h2 id="äºŒã€å…³äºé˜²æŠ–èŠ‚æµ"><a href="#äºŒã€å…³äºé˜²æŠ–èŠ‚æµ" class="headerlink" title="äºŒã€å…³äºé˜²æŠ–èŠ‚æµ"></a>äºŒã€å…³äºé˜²æŠ–èŠ‚æµ</h2><h3 id="1-ä»€ä¹ˆæ˜¯é˜²æŠ–"><a href="#1-ä»€ä¹ˆæ˜¯é˜²æŠ–" class="headerlink" title="1. ä»€ä¹ˆæ˜¯é˜²æŠ–"></a>1. ä»€ä¹ˆæ˜¯é˜²æŠ–</h3><blockquote><p>é˜²æŠ–ä¸èŠ‚æµéƒ½æ˜¯é€šè¿‡å‡å°‘ç”¨æˆ·è¯·æ±‚ï¼Œä¼˜åŒ–å‰ç«¯æ€§èƒ½ã€å‡å°‘æœåŠ¡å™¨å‹åŠ›</p></blockquote><blockquote><p>é˜²æŠ–ï¼šnç§’æ‰§è¡Œ1æ¬¡ï¼Œåœ¨nç§’å†…è¢«å†æ¬¡è§¦å‘å°†ä¼šé‡æ–°è®¡æ—¶ã€‚ï¼ˆå…¶ä»–è¯·æ±‚ä¼šè¢«é‡ç½®/æ¸…é™¤ï¼‰clearTimeout<br>ç®€å•ç†è§£ä¸ºï¼šäº‹ä»¶å“åº”å‡½æ•°åœ¨ä¸€æ®µæ—¶é—´åæ‰ä¼šæ‰§è¡Œ</p></blockquote><blockquote><p>ä½¿ç”¨åœºæ™¯ï¼š<br>a. searchæœç´¢è”æƒ³<br>b. inputè¾“å…¥æ ¡éªŒï¼ŒonChangeäº‹ä»¶ã€onInputäº‹ä»¶<br>c. ç”¨æˆ·ä¸æ–­è¾“å…¥æ—¶ï¼Œé˜²æŠ–èŠ‚çº¦è¯·æ±‚èµ„æºã€‚<br>d. windowçª—å£ä¸æ–­æ”¹å˜å¤§å°æ—¶ï¼Œé˜²æ­¢é‡å¤æ¸²æŸ“</p></blockquote><h3 id="2-ä»€ä¹ˆæ˜¯èŠ‚æµ"><a href="#2-ä»€ä¹ˆæ˜¯èŠ‚æµ" class="headerlink" title="2. ä»€ä¹ˆæ˜¯èŠ‚æµ"></a>2. ä»€ä¹ˆæ˜¯èŠ‚æµ</h3><blockquote><p>èŠ‚æµï¼šé—´éš”æ—¶é—´æ‰§è¡Œ</p></blockquote><blockquote><p>ä½¿ç”¨åœºæ™¯ï¼š<br>a. é¼ æ ‡é«˜é¢‘ç‚¹å‡»ï¼Œé˜²æ­¢é‡å¤æäº¤<br>b. æ»šåŠ¨åŠ è½½<br>c. æœç´¢ç›¸å…³ä¹Ÿå¯ä»¥ä½¿ç”¨</p></blockquote><h2 id="ä¸‰ã€å®ç°æ–¹å¼"><a href="#ä¸‰ã€å®ç°æ–¹å¼" class="headerlink" title="ä¸‰ã€å®ç°æ–¹å¼"></a>ä¸‰ã€å®ç°æ–¹å¼</h2><blockquote><p>åœ¨ç³»ç»Ÿçš„utilsæ–‡ä»¶å¤¹ä¸‹é¢åˆ›å»ºä¸€ä¸ªcommon.js å°†ä¸€äº›å…¬å…±çš„å‡½æ•°æ”¾å…¥<br>jsé˜²æŠ–ï¼ˆåœ¨æŒ‡å®šçš„æ—¶é—´å•ä½å†…åªè§¦å‘ä¸€æ¬¡ï¼‰ä¸èŠ‚æµï¼ˆåœ¨è§¦å‘äº‹ä»¶çš„ä¸€æ®µæ—¶é—´å†…ï¼Œä¸ä¼šå†è§¦å‘ç¬¬äºŒæ¬¡ï¼‰<br>è¿™é‡Œæˆ‘åªæ˜¯åšäº†ä¸€ä¸ªç®€æ˜“ç‰ˆï¼Œæ ¹æ®ä¸åŒçš„ä¸šåŠ¡å¯åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œæ‹“å±•ã€‚</p></blockquote><h3 id="1-é˜²æŠ–"><a href="#1-é˜²æŠ–" class="headerlink" title="1. é˜²æŠ–"></a>1. é˜²æŠ–</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// å®šä¹‰å®šæ—¶å™¨</span><span class="token comment">/** * é˜²æŠ– * @param {*} fn å›è°ƒ * @param {*} delay å»¶è¿Ÿæ—¶é—´ * @param {*} msg æç¤ºä¿¡æ¯ */</span> <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">debance</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay<span class="token punctuation">,</span> msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  delay <span class="token operator">=</span> delay <span class="token operator">?</span> delay <span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// è¿™é‡Œå¯ä»¥æ·»åŠ æç¤ºä¿¡æ¯ï¼Œå‘Šè¯‰ç”¨æˆ·ä¸è¦é¢‘ç¹æ“ä½œ</span>        console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'æç¤ºä¿¡æ¯ï¼šæ‚¨å·²ç»æ“ä½œè¿‡å•¦ï¼è¯·å‹¿é¢‘ç¹æ“ä½œå“¦ï¼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰§è¡Œå‡½æ•°ï¼Œå¹¶ä¸”æ¸…ç©ºå®šæ—¶å™¨</span>    timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-èŠ‚æµ"><a href="#2-èŠ‚æµ" class="headerlink" title="2. èŠ‚æµ"></a>2. èŠ‚æµ</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> throttleLast <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®æ—¶é—´æˆ³å˜é‡</span><span class="token comment">/** * èŠ‚æµ * @param {*} fn å›è°ƒ * @param {*} delay é—´éš”æ—¶é—´ * @param {*} msg æç¤ºä¿¡æ¯ */</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay<span class="token punctuation">,</span> msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  delay <span class="token operator">=</span> delay <span class="token operator">?</span> delay <span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">;</span>  <span class="token keyword">let</span> current <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–å½“å‰æ—¶é—´æ¯«ç§’æ•°</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>current <span class="token operator">&gt;</span> throttleLast <span class="token operator">+</span> delay<span class="token punctuation">)</span> <span class="token punctuation">{</span>    throttleLast <span class="token operator">=</span> current<span class="token punctuation">;</span>    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      <span class="token comment">// è¿™é‡Œå¯ä»¥æ·»åŠ æç¤ºä¿¡æ¯ï¼Œå‘Šè¯‰ç”¨æˆ·ä¸è¦é¢‘ç¹æ“ä½œ</span>      console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'æç¤ºä¿¡æ¯ï¼šæ‚¨å·²ç»æ“ä½œè¿‡å•¦ï¼é»˜è®¤2ç§’é’Ÿå†…å°†ä¼šåˆ·æ–°ï¼Œè¯·å‹¿é¢‘ç¹æ“ä½œå“¦ï¼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-åœ¨é¡µé¢ä¸­ä½¿ç”¨"><a href="#3-åœ¨é¡µé¢ä¸­ä½¿ç”¨" class="headerlink" title="3. åœ¨é¡µé¢ä¸­ä½¿ç”¨"></a>3. åœ¨é¡µé¢ä¸­ä½¿ç”¨</h3><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// å¼•å…¥å‡½æ•°ï¼ˆè¿™é‡Œæˆ‘å°±ä¸è¯¦ç»†æè¿°äº†ï¼Œå…·ä½“çš„è¿˜æ˜¯æ ¹æ®ç³»ç»Ÿä¸šåŠ¡æ¥ï¼‰</span><span class="token keyword">import</span> <span class="token punctuation">{</span>  debance<span class="token punctuation">,</span>  throttle<span class="token punctuation">,</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@/utils/common"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">{</span>            <span class="token operator">...</span> <span class="token operator">...</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    methods<span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// è¯·æ±‚æ¥å£è·å–åˆ—è¡¨æ•°æ®</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token comment">// é¡µé¢åˆå§‹åŒ–è·å–åˆ—è¡¨æ•°æ®</span>        <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>getList<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token function">saveData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// è°ƒç”¨æ¥å£ä¿å­˜æ•°æ®</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token comment">// ä¿å­˜æ“ä½œæŒ‰é’®ç‚¹å‡»äº‹ä»¶</span>        <span class="token function">handleSave</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">debance</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>saveData<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å››ã€ç»“è¯­"><a href="#å››ã€ç»“è¯­" class="headerlink" title="å››ã€ç»“è¯­"></a>å››ã€ç»“è¯­</h2><blockquote><p>å‡½æ•°é˜²æŠ–å’Œå‡½æ•°èŠ‚æµéƒ½æ˜¯é˜²æ­¢æŸä¸€æ—¶é—´é¢‘ç¹è§¦å‘ï¼Œå¾ˆå¤šæƒ…å†µä¸‹ï¼Œé˜²æŠ–ä¸èŠ‚æµä¹Ÿéƒ½èƒ½å¤Ÿè¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼Œä½†æ˜¯å…¶å…·ä½“çš„å®ç°åŸç†è¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚<br>å‡½æ•°é˜²æŠ–æ˜¯æŸä¸€æ®µæ—¶é—´å†…åªæ‰§è¡Œä¸€æ¬¡ï¼Œè€Œå‡½æ•°èŠ‚æµæ˜¯é—´éš”æ—¶é—´æ‰§è¡Œ<br>æ‰€ä»¥åœ¨ä½¿ç”¨æ—¶åªéœ€è¦åŒºåˆ†ä¸åŒåœºæ™¯ä¾¿å¯çµæ´»æ“ä½œï¼Œå½“ç„¶ä¸¤è€…ä¹Ÿæ˜¯å¯ä»¥ç»“åˆä½¿ç”¨çš„å“¦</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> é˜²æŠ– </tag>
            
            <tag> èŠ‚æµ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Element tableç»„ä»¶ä¸Šç§»ä¸‹ç§»æ•°æ®å®ç°è‡ªå®šä¹‰æ’åº</title>
      <link href="/MyBlog/element-sort-table/"/>
      <url>/MyBlog/element-sort-table/</url>
      
        <content type="html"><![CDATA[<img src="./IMG_1987.JPG"><h2 id="ä¸€ã€éœ€æ±‚"><a href="#ä¸€ã€éœ€æ±‚" class="headerlink" title="ä¸€ã€éœ€æ±‚"></a>ä¸€ã€éœ€æ±‚</h2><blockquote><p>åœ¨é¡µé¢æ“ä½œä¸Šç§»ä¸‹ç§»æŒ‰é’®ï¼Œå¯¹è¡¨æ ¼è¡Œæ•°æ®è¿›è¡Œç§»åŠ¨<br>å®ç°è¡¨æ ¼è‡ªå®šä¹‰æ’åº</p></blockquote><h2 id="äºŒã€å¤„ç†æ–¹å¼"><a href="#äºŒã€å¤„ç†æ–¹å¼" class="headerlink" title="äºŒã€å¤„ç†æ–¹å¼"></a>äºŒã€å¤„ç†æ–¹å¼</h2><blockquote><p>æ€è·¯ï¼š<br>1.ç›‘å¬ table æ•°æ®è¡Œçš„é€‰ä¸­äº‹ä»¶ï¼ˆè·å–å½“å‰é€‰ä¸­è¡Œçš„æ•°æ®ï¼‰å‡è®¾å½“å‰è¡Œ currentData<br>2.ä¸Šç§»ã€ä¸‹ç§»æŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼šhandleSortUpã€handleSortDown<br>3.ä¿å­˜é€‰ä¸­è¡Œçš„ä¸‹æ ‡ currentIndex<br>4.ä¿å­˜é€‰ä¸­è¡Œçš„ä¸Šä¸€è¡Œæ•°æ® currentData<br>5.ç§»é™¤é€‰ä¸­è¡Œï¼ˆä¸‹ä¸€è¡Œæ•°æ®ä¸Šç§»ï¼‰ï¼Œå¹¶å°†ä¸Šä¸€è¡Œæ•°æ® currentData æ’å…¥åˆ°é€‰ä¸­è¡Œçš„ä½ç½®</p></blockquote><h3 id="1-å®ç°tableæ•°æ®å•è¡Œé€‰ä¸­ï¼Œå¹¶è·å¾—è¯¥è¡Œæ•°æ®çš„indexä¿¡æ¯ï¼ˆç”¨äºåé¢ä¸Šç§»ä¸‹ç§»æ•°æ®ï¼‰"><a href="#1-å®ç°tableæ•°æ®å•è¡Œé€‰ä¸­ï¼Œå¹¶è·å¾—è¯¥è¡Œæ•°æ®çš„indexä¿¡æ¯ï¼ˆç”¨äºåé¢ä¸Šç§»ä¸‹ç§»æ•°æ®ï¼‰" class="headerlink" title="1. å®ç°tableæ•°æ®å•è¡Œé€‰ä¸­ï¼Œå¹¶è·å¾—è¯¥è¡Œæ•°æ®çš„indexä¿¡æ¯ï¼ˆç”¨äºåé¢ä¸Šç§»ä¸‹ç§»æ•°æ®ï¼‰"></a>1. å®ç°tableæ•°æ®å•è¡Œé€‰ä¸­ï¼Œå¹¶è·å¾—è¯¥è¡Œæ•°æ®çš„indexä¿¡æ¯ï¼ˆç”¨äºåé¢ä¸Šç§»ä¸‹ç§»æ•°æ®ï¼‰</h3><blockquote><p>å®šä¹‰tableå¹¶ç»‘å®šæ•°æ®<br>è®¾ç½®tableçš„ current-change äº‹ä»¶ï¼ˆå®ç°å•è¡Œé€‰ä¸­è·å–è¡Œä¿¡æ¯ï¼‰</p></blockquote><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table</span>  <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sortTable<span class="token punctuation">"</span></span>  <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sortTablData<span class="token punctuation">"</span></span>  <span class="token attr-name">:highlight-current-row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>  <span class="token attr-name">@current-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleSortTableCurrentChange<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>åºå·<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>scope<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>      {{ scope.$index + 1 }}    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span>    <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å•ä½åç§°<span class="token punctuation">"</span></span>    <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span>    <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>departmentName<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>åœ¨tableçš„ current-change å›è°ƒä¸­è·å–åˆ°å½“å‰é€‰ä¸­è¡Œçš„indexï¼Œå¹¶èµ‹å€¼ç»™å…¨å±€å˜é‡ currentIndex<br>åœ¨ handleSortUp è·Ÿ handleSortDown ä¸­å®ç°ä¸Šç§»ä¸‹ç§»</p></blockquote><blockquote><p>ä½¿ç”¨ splice å‡½æ•°ï¼Œä¸Šç§»å®ç°æ–¹å¼ï¼š<br>a. è®°å½•å½“å‰é€‰ä¸­è¡Œçš„indexï¼Œç„¶åä¿å­˜å½“å‰é€‰ä¸­æ•°æ®çš„ä¸Šä¸€è¡Œæ•°æ® upData<br>b. ç„¶åå†å°† upData ç§»é™¤[è¿™æ ·å½“å‰é€‰ä¸­è¡Œå°±ä¼šè‡ªåŠ¨ä¸Šç§»åˆ° upData çš„ä½ç½®]<br>c. å°†äº‹å…ˆä¿å­˜å¥½çš„ upData æ’å…¥åˆ°å½“å‰é€‰ä¸­è¡Œçš„index [ è¿™æ ·å°±å®Œç¾å®ç°äº†é€‰ä¸­è¡Œä¸Šç§»ï¼Œä»¥æ­¤ç±»æ¨ ]</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// æ’åˆ—åˆ—è¡¨é€‰ä¸­æŸè¡Œæ•°æ®å›è°ƒäº‹ä»¶ï¼ˆè·å–å½“å‰é€‰ä¸­è¡Œçš„ä¸‹æ ‡ï¼‰</span><span class="token function">handleSortTableCurrentChange</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>currentIndex <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sortTablData<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">i</span> <span class="token operator">=&gt;</span> i <span class="token operator">===</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//æ’åºä¸Šç§»</span><span class="token function">handleSortUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentIndex<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> upData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sortTablData<span class="token punctuation">[</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>sortTablData<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>sortTablData<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> upData<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>currentIndex <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//æ’åºä¸‹ç§»</span><span class="token function">handleSortDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentIndex<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sortTablData <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sortTablData<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> downData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sortTablData<span class="token punctuation">[</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>sortTablData<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>sortTablData<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> downData<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>currentIndex <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-ç•Œé¢é¢„è§ˆ"><a href="#2-ç•Œé¢é¢„è§ˆ" class="headerlink" title="2. ç•Œé¢é¢„è§ˆ"></a>2. ç•Œé¢é¢„è§ˆ</h3><p><img src="./code-img.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue </category>
          
          <category> ElementUI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> ElementUI </tag>
            
            <tag> table </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Elementè‡ªå®šä¹‰buttonå›¾æ ‡</title>
      <link href="/MyBlog/element-myself-button-icon/"/>
      <url>/MyBlog/element-myself-button-icon/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å‰æ"><a href="#ä¸€ã€å‰æ" class="headerlink" title="ä¸€ã€å‰æ"></a>ä¸€ã€å‰æ</h2><blockquote><p>ğŸ¯ ElementUIä¸­iconå›¾æ ‡æœ‰é™ï¼Œæ— æ³•æ»¡è¶³æ‰€æœ‰é¡¹ç›®çš„éœ€æ±‚ã€‚<br>APIæ–‡æ¡£ä¸­çš„ Button éƒ½æ˜¯è®¾ç½®iconå±æ€§æˆ–è€…ç›´æ¥ç”¨<i class="xxx"></i>æ ‡ç­¾æ¥å®šä¹‰æŒ‰é’®çš„å›¾æ ‡ï¼Œè¿™æ˜¯ä½¿ç”¨elementæä¾›çš„iconå¸¸è§„æ“ä½œã€‚<br>é‚£ä¹ˆï¼Œå¦‚æœéœ€è¦å¼•ç”¨å…¶ä»–å›¾æ ‡è¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿæœ€è¿‘åšçš„é¡¹ç›®ä¸­å°±æœ‰ç”¨åˆ°ï¼ŒæŒ‰é’®éœ€è¦è‡ªå®šä¹‰å›¾æ ‡ï¼Œæˆ‘æ˜¯é‡‡ç”¨äº†ä»¥ä¸‹æ–¹å¼æ¥å¤„ç†çš„ï¼ˆä¸æ˜¯æœ€ä¼˜ï¼Œä½†å¯æ»¡è¶³é¡¹ç›®éœ€æ±‚ï¼‰</p></blockquote><h2 id="äºŒã€å¤„ç†æ–¹å¼"><a href="#äºŒã€å¤„ç†æ–¹å¼" class="headerlink" title="äºŒã€å¤„ç†æ–¹å¼"></a>äºŒã€å¤„ç†æ–¹å¼</h2><h3 id="1-å®˜ç½‘APIæä¾›çš„å›¾æ ‡æŒ‰é’®"><a href="#1-å®˜ç½‘APIæä¾›çš„å›¾æ ‡æŒ‰é’®" class="headerlink" title="1. å®˜ç½‘APIæä¾›çš„å›¾æ ‡æŒ‰é’®"></a>1. å®˜ç½‘APIæä¾›çš„å›¾æ ‡æŒ‰é’®</h3><p><img src="./img1.jpg" title="ElementUIå›¾æ ‡æŒ‰é’®"></p><h3 id="2-è‡ªå®šä¹‰iconæ ·å¼"><a href="#2-è‡ªå®šä¹‰iconæ ·å¼" class="headerlink" title="2. è‡ªå®šä¹‰iconæ ·å¼"></a>2. è‡ªå®šä¹‰iconæ ·å¼</h3><blockquote><p>1ã€è‡ªå®šä¹‰ä¸€ä¸ªæœç´¢å›¾æ ‡æŒ‰é’®<br>2ã€å®šä¹‰ä¸€ä¸ª el-icon-myself-search ç±»å±æ€§ï¼Œå°†è‡ªå®šä¹‰ï¼ˆå¤–éƒ¨ï¼‰çš„å›¾ç‰‡è®¾ç½®èƒŒæ™¯å›¾<br>3ã€åœ¨ el-icon-myself-search:before ä¼ªç±»ä¸­å®šä¹‰ content æ–‡æœ¬å ä½ï¼ˆæœ€å¥½æ˜¯ä¸€ä¸ªæ±‰å­—è¿™æ ·å›¾æ ‡å¤§å°æ­£å¥½ï¼Œæˆ‘è¿™é‡Œç”¨Unicodeè½¬ç äº†ï¼‰<br>4ã€åœ¨ä¼ªç±»ä¸­è®¾ç½® visibility å±æ€§éšè—æ–‡å­—</p></blockquote><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* æŸ¥è¯¢æŒ‰é’® */</span><span class="token selector">.el-icon-myself-search</span><span class="token punctuation">{</span>  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'./assets/assets/ic_æŒ‰é’®_æœæŸ¥.png'</span><span class="token punctuation">)</span></span> no-repeat<span class="token punctuation">;</span>  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>  <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">.el-icon-myself-search:before</span><span class="token punctuation">{</span>  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">"\66ff"</span><span class="token punctuation">;</span>  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>  <span class="token property">visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-åœ¨é¡µé¢ä¸­å¼•ç”¨è‡ªå®šä¹‰çš„icon"><a href="#3-åœ¨é¡µé¢ä¸­å¼•ç”¨è‡ªå®šä¹‰çš„icon" class="headerlink" title="3. åœ¨é¡µé¢ä¸­å¼•ç”¨è‡ªå®šä¹‰çš„icon"></a>3. åœ¨é¡µé¢ä¸­å¼•ç”¨è‡ªå®šä¹‰çš„icon</h3><pre class="line-numbers language-none"><code class="language-none">&lt;el-button type="primary"    icon="el-icon-myself-search"    @click="handelSearch"&gt;æŸ¥è¯¢&lt;/el-button&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="4-æ•ˆæœé¢„è§ˆ"><a href="#4-æ•ˆæœé¢„è§ˆ" class="headerlink" title="4. æ•ˆæœé¢„è§ˆ"></a>4. æ•ˆæœé¢„è§ˆ</h3><p><img src="./img2.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue </category>
          
          <category> ElementUI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> ElementUI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>antdåœ¨IEæµè§ˆå™¨ä¸­ç»„ä»¶ä¸æ¸²æŸ“</title>
      <link href="/MyBlog/client-antd/"/>
      <url>/MyBlog/client-antd/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å…¼å®¹æ€§"><a href="#ä¸€ã€å…¼å®¹æ€§" class="headerlink" title="ä¸€ã€å…¼å®¹æ€§"></a>ä¸€ã€å…¼å®¹æ€§</h2><blockquote><p>ğŸ¯ Ant Design Vue æ”¯æŒæ‰€æœ‰çš„ç°ä»£æµè§ˆå™¨å’Œ IE9+<br>å¯¹äº IE ç³»åˆ—æµè§ˆå™¨ï¼Œéœ€è¦æä¾› es5-shim å’Œ es6-shim ç­‰ Polyfills çš„æ”¯æŒ<br>å¦‚æœä½ ä½¿ç”¨äº† babelï¼Œå¼ºçƒˆæ¨èä½¿ç”¨ babel-polyfill å’Œ babel-plugin-transform-runtime æ¥æ›¿ä»£ä»¥ä¸Šä¸¤ä¸ªshim<br>ã€æ‘˜è‡ªAnt Design Vueå®˜ç½‘ã€‘</p></blockquote><h2 id="äºŒã€å¤„ç†æ–¹å¼"><a href="#äºŒã€å¤„ç†æ–¹å¼" class="headerlink" title="äºŒã€å¤„ç†æ–¹å¼"></a>äºŒã€å¤„ç†æ–¹å¼</h2><p>æŒ‰ç…§å®˜æ–¹æ–‡æ¡£çš„è¦æ±‚ï¼Œåœ¨é¡¹ç›®ä¸­å¼•å…¥babel-polyfill å’Œ babel-plugin-transform-runtime</p><ol><li><p>å…ˆåœ¨é¡¹ç›®ä¸­å®‰è£…ä¾èµ–åŒ…</p><pre class="line-numbers language-none"><code class="language-none">npm i @babel/polyfill @babel/runtime --savenpm i  @babel/plugin-transform-runtime @babel/preset-envnpm install --save @babel/polyfill<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>åœ¨main.jsä¸­å¼•ç”¨</p><pre class="line-numbers language-none"><code class="language-none">// å…¼å®¹IEæµè§ˆå™¨import 'core-js/stable'import 'regenerator-runtime/runtime'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ol><p><a href="https://www.antdv.com/docs/vue/getting-started-cn/">Ant Design Vueå®˜æ–¹æ–‡æ¡£åœ°å€</a></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Ant Design Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ğŸ‘¨â€ğŸ’»macå®‰è£…win10è™šæ‹Ÿæœº</title>
      <link href="/MyBlog/virtual-machine/"/>
      <url>/MyBlog/virtual-machine/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å‡†å¤‡ä¸‹è½½ç›¸å…³å·¥å…·"><a href="#ä¸€ã€å‡†å¤‡ä¸‹è½½ç›¸å…³å·¥å…·" class="headerlink" title="ä¸€ã€å‡†å¤‡ä¸‹è½½ç›¸å…³å·¥å…·"></a>ä¸€ã€å‡†å¤‡ä¸‹è½½ç›¸å…³å·¥å…·</h2><blockquote><p>ğŸ¯ éœ€è¦å®‰è£…çš„å·¥å…·ï¼šè™šæ‹Ÿæœºæ§åˆ¶ä¸­å¿ƒ + win10é•œåƒ<br>1ã€win10é•œåƒ<br>2ã€Parallels Desktop<br>âš ï¸ä¸€å®šè¦å…ˆä¸‹è½½é•œåƒç„¶åå†ä¸‹è½½å¹¶å®‰è£…æ§åˆ¶ä¸­å¿ƒï¼ï¼ï¼</p></blockquote><h2 id="äºŒã€ä¸‹è½½win10é•œåƒ-æ§åˆ¶ä¸­å¿ƒ"><a href="#äºŒã€ä¸‹è½½win10é•œåƒ-æ§åˆ¶ä¸­å¿ƒ" class="headerlink" title="äºŒã€ä¸‹è½½win10é•œåƒ+æ§åˆ¶ä¸­å¿ƒ"></a>äºŒã€ä¸‹è½½win10é•œåƒ+æ§åˆ¶ä¸­å¿ƒ</h2><pre class="line-numbers language-none"><code class="language-none">ç”¨è¿…é›·ä¸‹è½½win10é•œåƒed2k://|file|cn_windows_10_business_editions_version_1909_x64_dvd_0ca83907.iso|5275090944|9BCD5FA6C8009E4D0260E4B23008BD47|/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>ä¸‹è½½è™šæ‹Ÿæœºæ§åˆ¶ä¸­å¿ƒï¼Œè¿™é‡Œåˆ†äº«çš„æ˜¯icloudä¸­çš„åœ°å€ï¼Œä¹Ÿå¯ä»¥å»å®˜ç½‘ä¸Šå»ä¸‹è½½å®‰è£…<br><a href="https://www.icloud.com.cn/iclouddrive/012o3HDPl3lcQA-Ym_oLoJS9Q#Parallels_Desktop_16.5.0-49183_-_Toolbox_4.5">https://www.icloud.com.cn/iclouddrive/012o3HDPl3lcQA-Ym_oLoJS9Q#Parallels_Desktop_16.5.0-49183_-_Toolbox_4.5</a></p></blockquote><h2 id="ä¸‰ã€å®‰è£…æ§åˆ¶ä¸­å¿ƒ"><a href="#ä¸‰ã€å®‰è£…æ§åˆ¶ä¸­å¿ƒ" class="headerlink" title="ä¸‰ã€å®‰è£…æ§åˆ¶ä¸­å¿ƒ"></a>ä¸‰ã€å®‰è£…æ§åˆ¶ä¸­å¿ƒ</h2><h3 id="1ã€åŒå‡»ä¸‹å›¾â€œå®‰è£…-appâ€"><a href="#1ã€åŒå‡»ä¸‹å›¾â€œå®‰è£…-appâ€" class="headerlink" title="1ã€åŒå‡»ä¸‹å›¾â€œå®‰è£….appâ€"></a>1ã€åŒå‡»ä¸‹å›¾â€œå®‰è£….appâ€</h3><p><img src="./image.png"></p><h3 id="2ã€ç‚¹å‡»åˆ é™¤"><a href="#2ã€ç‚¹å‡»åˆ é™¤" class="headerlink" title="2ã€ç‚¹å‡»åˆ é™¤"></a>2ã€ç‚¹å‡»åˆ é™¤</h3><p><img src="./image(1).png"></p><h3 id="3ã€é€‰â€œå®‰è£…-Windowsæˆ–å…¶ä»–æ“ä½œç³»ç»Ÿï¼ˆä»DVDæˆ–é•œåƒæ–‡ä»¶ï¼‰â€ï¼Œç‚¹å‡»ç»§ç»­"><a href="#3ã€é€‰â€œå®‰è£…-Windowsæˆ–å…¶ä»–æ“ä½œç³»ç»Ÿï¼ˆä»DVDæˆ–é•œåƒæ–‡ä»¶ï¼‰â€ï¼Œç‚¹å‡»ç»§ç»­" class="headerlink" title="3ã€é€‰â€œå®‰è£… Windowsæˆ–å…¶ä»–æ“ä½œç³»ç»Ÿï¼ˆä»DVDæˆ–é•œåƒæ–‡ä»¶ï¼‰â€ï¼Œç‚¹å‡»ç»§ç»­"></a>3ã€é€‰â€œå®‰è£… Windowsæˆ–å…¶ä»–æ“ä½œç³»ç»Ÿï¼ˆä»DVDæˆ–é•œåƒæ–‡ä»¶ï¼‰â€ï¼Œç‚¹å‡»ç»§ç»­</h3><p><img src="./image(2).png"></p><h3 id="4ã€ä¹‹åä¼šæ‰«æå½“å‰ç³»ç»Ÿä¸­çš„é•œåƒæ–‡ä»¶ï¼Œç‚¹å‡»ç»§ç»­"><a href="#4ã€ä¹‹åä¼šæ‰«æå½“å‰ç³»ç»Ÿä¸­çš„é•œåƒæ–‡ä»¶ï¼Œç‚¹å‡»ç»§ç»­" class="headerlink" title="4ã€ä¹‹åä¼šæ‰«æå½“å‰ç³»ç»Ÿä¸­çš„é•œåƒæ–‡ä»¶ï¼Œç‚¹å‡»ç»§ç»­"></a>4ã€ä¹‹åä¼šæ‰«æå½“å‰ç³»ç»Ÿä¸­çš„é•œåƒæ–‡ä»¶ï¼Œç‚¹å‡»ç»§ç»­</h3><p><img src="./image(3).png"></p><h3 id="5ã€é€‰æ‹©windows-ç‰ˆæœ¬ï¼Œæˆ‘é€‰çš„æ˜¯ä¸“ä¸šç‰ˆï¼ˆé»˜è®¤æ˜¯ä¼ä¸šç‰ˆï¼‰"><a href="#5ã€é€‰æ‹©windows-ç‰ˆæœ¬ï¼Œæˆ‘é€‰çš„æ˜¯ä¸“ä¸šç‰ˆï¼ˆé»˜è®¤æ˜¯ä¼ä¸šç‰ˆï¼‰" class="headerlink" title="5ã€é€‰æ‹©windows ç‰ˆæœ¬ï¼Œæˆ‘é€‰çš„æ˜¯ä¸“ä¸šç‰ˆï¼ˆé»˜è®¤æ˜¯ä¼ä¸šç‰ˆï¼‰"></a>5ã€é€‰æ‹©windows ç‰ˆæœ¬ï¼Œæˆ‘é€‰çš„æ˜¯ä¸“ä¸šç‰ˆï¼ˆé»˜è®¤æ˜¯ä¼ä¸šç‰ˆï¼‰</h3><p><img src="./image(4).png"></p><h3 id="6ã€å–æ¶ˆå‹¾é€‰åï¼Œç‚¹å‡»ç»§ç»­"><a href="#6ã€å–æ¶ˆå‹¾é€‰åï¼Œç‚¹å‡»ç»§ç»­" class="headerlink" title="6ã€å–æ¶ˆå‹¾é€‰åï¼Œç‚¹å‡»ç»§ç»­"></a>6ã€å–æ¶ˆå‹¾é€‰åï¼Œç‚¹å‡»ç»§ç»­</h3><p><img src="./image(5).png"></p><h3 id="7ã€åˆ°è¿™é‡Œå°±å·²ç»å®‰è£…æˆåŠŸäº†ï¼Œä½†æ˜¯æˆ‘åœ¨è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œçš„æ—¶å€™åˆé‡åˆ°äº†å…¶ä»–çš„é—®é¢˜ï¼Œå¦‚å›¾"><a href="#7ã€åˆ°è¿™é‡Œå°±å·²ç»å®‰è£…æˆåŠŸäº†ï¼Œä½†æ˜¯æˆ‘åœ¨è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œçš„æ—¶å€™åˆé‡åˆ°äº†å…¶ä»–çš„é—®é¢˜ï¼Œå¦‚å›¾" class="headerlink" title="7ã€åˆ°è¿™é‡Œå°±å·²ç»å®‰è£…æˆåŠŸäº†ï¼Œä½†æ˜¯æˆ‘åœ¨è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œçš„æ—¶å€™åˆé‡åˆ°äº†å…¶ä»–çš„é—®é¢˜ï¼Œå¦‚å›¾"></a>7ã€åˆ°è¿™é‡Œå°±å·²ç»å®‰è£…æˆåŠŸäº†ï¼Œä½†æ˜¯æˆ‘åœ¨è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œçš„æ—¶å€™åˆé‡åˆ°äº†å…¶ä»–çš„é—®é¢˜ï¼Œå¦‚å›¾</h3><p><img src="./image(6).png"></p><h2 id="ä¸‰ã€é…ç½®è™šæ‹Ÿæœºç½‘ç»œ"><a href="#ä¸‰ã€é…ç½®è™šæ‹Ÿæœºç½‘ç»œ" class="headerlink" title="ä¸‰ã€é…ç½®è™šæ‹Ÿæœºç½‘ç»œ"></a>ä¸‰ã€é…ç½®è™šæ‹Ÿæœºç½‘ç»œ</h2><h3 id="1ã€å¯åŠ¨è™šæ‹Ÿæœºå‡ºç°ç½‘ç»œé—®é¢˜"><a href="#1ã€å¯åŠ¨è™šæ‹Ÿæœºå‡ºç°ç½‘ç»œé—®é¢˜" class="headerlink" title="1ã€å¯åŠ¨è™šæ‹Ÿæœºå‡ºç°ç½‘ç»œé—®é¢˜"></a>1ã€å¯åŠ¨è™šæ‹Ÿæœºå‡ºç°ç½‘ç»œé—®é¢˜</h3><p><img src="./image(7).png"></p><p>å¯åŠ¨è™šæ‹Ÿæœºä¹‹åï¼Œç”±äºæœªè”ç½‘ä¼šå¯¼è‡´åˆå§‹åŒ–å¤±è´¥ï¼Œå› æ­¤éœ€è¦è®¾ç½®è™šæ‹Ÿæœºçš„ç½‘ç»œä¸å®¿ä¸»æœºå…±äº«ã€‚</p><blockquote><p>(1)ã€å³é”®è®¿è¾¾-&gt;å‰å¾€æ–‡ä»¶å¤¹</p></blockquote><p><img src="./image(8).png"></p><blockquote><p>(2)ã€æ‰“å¼€ç›®å½•ï¼šã€Œ/Library/Preferences/Parallels/ã€ ä¸­çš„ ã€Œnetwork.desktop.xml æ–‡ä»¶ã€‚æ‰¾åˆ°<usekextless>-1</usekextless> é€‰é¡¹ï¼Œå°†å…¶æ”¹ä¸º<usekextless>0</usekextless>ï¼Œç„¶åä¿å­˜å¹¶æ›¿æ¢ï¼å¦‚æœæ–‡ä»¶ä¸­æ²¡æœ‰è¿™ä¸ªé€‰é¡¹ï¼Œå¯ä»¥ç›´æ¥å°†æ­¤é€‰é¡¹å¤åˆ¶ç²˜è´´åˆ° ã€Œnetwork.desktop.xmlã€ æ–‡ä»¶ä¸­ã€‚</p></blockquote><p><img src="./image(9).png"><br><img src="./image(10).png"></p><p>(3)ã€æ“ä½œå®Œæˆåé‡å¯è™šæ‹Ÿæœºç”Ÿæ•ˆ</p><p>å…·ä½“å‚è€ƒ<a href="https://www.foxmac.com/pd-16-network-failure.html">è§£å†³ PDè™šæ‹Ÿæœº ç½‘ç»œåˆå§‹åŒ–å¤±è´¥çš„æ–¹æ¡ˆ</a></p><h2 id="å››ã€é…ç½®è™šæ‹Ÿæœºç½‘ç»œ"><a href="#å››ã€é…ç½®è™šæ‹Ÿæœºç½‘ç»œ" class="headerlink" title="å››ã€é…ç½®è™šæ‹Ÿæœºç½‘ç»œ"></a>å››ã€é…ç½®è™šæ‹Ÿæœºç½‘ç»œ</h2><h3 id="1ã€è®¾ç½®è™šæ‹Ÿæœºä¸å®¿ä¸»æœºï¼ˆMacï¼‰å…±äº«ç½‘ç»œ"><a href="#1ã€è®¾ç½®è™šæ‹Ÿæœºä¸å®¿ä¸»æœºï¼ˆMacï¼‰å…±äº«ç½‘ç»œ" class="headerlink" title="1ã€è®¾ç½®è™šæ‹Ÿæœºä¸å®¿ä¸»æœºï¼ˆMacï¼‰å…±äº«ç½‘ç»œ"></a>1ã€è®¾ç½®è™šæ‹Ÿæœºä¸å®¿ä¸»æœºï¼ˆMacï¼‰å…±äº«ç½‘ç»œ</h3><p>åœ¨è™šæ‹Ÿæœºçš„æ§åˆ¶ä¸­å¿ƒ-&gt;è®¾ç½®-&gt;ç¡¬ä»¶-&gt;ç½‘ç»œ<br><img src="./image(11).png"></p><h3 id="2ã€è®¾ç½®è™šæ‹Ÿæœºæ‰“å¼€æ¨¡å¼"><a href="#2ã€è®¾ç½®è™šæ‹Ÿæœºæ‰“å¼€æ¨¡å¼" class="headerlink" title="2ã€è®¾ç½®è™šæ‹Ÿæœºæ‰“å¼€æ¨¡å¼"></a>2ã€è®¾ç½®è™šæ‹Ÿæœºæ‰“å¼€æ¨¡å¼</h3><p>åœ¨è™šæ‹Ÿæœºä¸­-&gt;æŸ¥çœ‹ï¼Œè®¾ç½®æ‰“å¼€æ¨¡å¼ï¼šèåˆ/å…¨å±<br><img src="./image(12).png"></p><p>OKå•¦åˆ°è¿™é‡Œè™šæ‹Ÿæœºå·²ç»å®‰è£…å¥½äº†ï¼Œç›¸å…³é…ç½®åœ¨æ§åˆ¶ä¸­å¿ƒé…ç½®å°±å¥½å•¦ï¼Œæ›´æ–°é…ç½®ä¹‹åé‡å¯ç”Ÿæ•ˆå“¦ï¼<br>åˆ°è¿™ä½ å°±èƒ½åœ¨Macä¸Šäº«ç”¨åŒæ“ä½œç³»ç»Ÿå•¦ï¼å…·ä½“çš„ç½‘ç»œä»£ç†è®¾ç½®å¯èƒ½ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œåç»­é‡åˆ°äº†å†å¤„ç†ï¼Œè¡¥å……ã€‚<br><img src="./image(13).png"></p>]]></content>
      
      
      <categories>
          
          <category> è™šæ‹Ÿæœº </category>
          
          <category> win10 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mac </tag>
            
            <tag> æœåŠ¡å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySqlæ—¥æœŸå‡½æ•°çš„ä½¿ç”¨ä¸æ‰¹é‡æ›´æ–°</title>
      <link href="/MyBlog/first-mysql/"/>
      <url>/MyBlog/first-mysql/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ç›®å‰MySQLç‰ˆæœ¬å·²ç»æ›´æ–°åˆ°8.0.15ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†ä¼ä¸šä¸­ä½¿ç”¨çš„è¿˜æ˜¯MySQL5.7çš„ã€‚æˆ‘æœ¬åœ°å®‰è£…çš„æ˜¯MySQL5.7.20ï¼Œå› ä¸ºMySQLç‰ˆæœ¬çš„ä¸åŒå¯èƒ½å¯¹æŸäº›SQLè¯­å¥çš„æ”¯æŒåº¦ä¹Ÿä¸åŒï¼Œæ‰€ä»¥ç‰¹åœ°åœ¨æ­¤è¯´æ˜ã€‚</p></blockquote><h3 id="æœ€è¿‘ä½¿ç”¨åˆ°MySQLä¸­è¿™ä¸¤ä¸ªæ—¥æœŸå‡½æ•°ï¼š"><a href="#æœ€è¿‘ä½¿ç”¨åˆ°MySQLä¸­è¿™ä¸¤ä¸ªæ—¥æœŸå‡½æ•°ï¼š" class="headerlink" title="æœ€è¿‘ä½¿ç”¨åˆ°MySQLä¸­è¿™ä¸¤ä¸ªæ—¥æœŸå‡½æ•°ï¼š"></a>æœ€è¿‘ä½¿ç”¨åˆ°MySQLä¸­è¿™ä¸¤ä¸ªæ—¥æœŸå‡½æ•°ï¼š</h3><p>1ã€date_sub(dateï¼Œinterval num å•ä½); è¿”å›dateå‡å»num æ—¶é—´é—´éš”åçš„æ—¶é—´</p><pre class="line-numbers language-none"><code class="language-none">ä¾‹å¦‚ï¼šselect date_sub(date, interval 1 year);select date_sub(date, interval 1 quarter);select date_sub(date, interval 1 month);select date_sub(date, interval 1 week);select date_sub(date, interval 1 day);  ç­‰åŒäº date_add(date, interval -1 day);select date_sub(date, interval 1 hour);select date_sub(date, interval 1 minute);select date_sub(date, interval 1 second);select date_sub(date, interval 1 microsecond);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ³¨ï¼šdate_sub(dateï¼Œinterval num å•ä½) é‡Œé¢çš„ num æ˜¯æ•°å­—ç±»å‹çš„å‚æ•°ï¼Œå•ä½åˆ™æ˜¯ å¹´(year)ã€åŠå¹´(quarter)ã€æœˆ(month)ã€æ—¥(day)ã€å‘¨(week)ã€å°æ—¶(hour)ã€åˆ†é’Ÿ(minute)ã€ç§’(second)ã€æ¯«ç§’(microsecond)ã€‚ã€ä¸ä¹‹å¯¹åº”çš„è¿˜æœ‰ date_add() å‡½æ•°ç”¨æ³•ä¸ date_sub() ä¸€æ ·ã€‘</p></blockquote><p>2ã€datediff(date1,date2); è¿”å›date1å‡å»date2çš„å·®å€¼</p><pre class="line-numbers language-none"><code class="language-none">ä¾‹å¦‚ï¼šselect datediff('2019-05-17', '2019-05-11'); -- 6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å¦‚æœä½¿ç”¨è¿™ä¸¤ä¸ªå‡½æ•°æ¥æŸ¥è¯¢æœ€è¿‘ä¸€å‘¨ã€ä¸€ä¸ªæœˆã€åŠå¹´ã€ä¸€å¹´â€¦çš„æ•°æ®ä¼šæœ‰ä»€ä¹ˆä¸åŒçš„æ•ˆæœå‘¢ï¼Ÿ</p><p>1ã€ä½¿ç”¨å‡½æ•° date_sub()ï¼š</p><pre class="line-numbers language-none"><code class="language-none">select date_sub(date, interval 1 day); -- å½“å¤©select date_sub(date, interval 7 day); -- æœ€è¿‘ä¸€å‘¨select date_sub(date, interval 30 day); -- æœ€è¿‘ä¸€ä¸ªæœˆselect date_sub(date, interval 365 day); -- æœ€è¿‘ä¸€å¹´......<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>2ã€ä½¿ç”¨å‡½æ•° datediff():</p><pre class="line-numbers language-none"><code class="language-none">ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºåŠ¨æ€å‚æ•°è¾“å…¥ï¼Œç¬¬äºŒä¸ªä¸ºæ•°æ®åº“ä¸­çš„æ—¶é—´å­—æ®µselect datediff('2019-05-17', '2019-05-11') &lt;= 7 ; -- æœ€è¿‘ä¸€å‘¨æ˜¾ç„¶æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯å½“ç¬¬äºŒä¸ªå‚æ•°çš„å¤©æ•°å¤§äºç¬¬ä¸€ä¸ªå‚æ•°çš„å¤©æ•°æ—¶åˆ™ä¼šå‡ºç°é—®é¢˜ã€‚ä¾‹å¦‚ï¼šselect datediff('2019-05-01', '2019-04-11') &lt;= 7 ;     select datediff('2019-05-01', '2019-05-11') &lt;= 7 ;è¿™ä¸¤æ¡è¯­å¥ä¼šä½¿å¾—æ—¶é—´èŒƒå›´åˆ¤æ–­æ— æ•ˆ!!!!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ€»ç»“ï¼šå‡½æ•° date_sub() ä¸ date_add() éƒ½å¯ä»¥åšæ—¶é—´èŒƒå›´çš„åˆ¤æ–­ï¼Œè€Œ datediff() æ›´é€‚ç”¨åšæ—¶é—´å·®ã€‚è¿™å‡ ä¸ªå‡½æ•°å„å¸å…¶èŒï¼Œå¤§å¤§ç®€åŒ–äº†æ•°æ®åº“çš„æ—¶é—´æ“ä½œã€‚</p></blockquote><h3 id="å…³äºMySQLè¯­å¥çš„æ‰¹é‡æ›´æ–°æ“ä½œ"><a href="#å…³äºMySQLè¯­å¥çš„æ‰¹é‡æ›´æ–°æ“ä½œ" class="headerlink" title="å…³äºMySQLè¯­å¥çš„æ‰¹é‡æ›´æ–°æ“ä½œ"></a>å…³äºMySQLè¯­å¥çš„æ‰¹é‡æ›´æ–°æ“ä½œ</h3><p>ä¸€èˆ¬éœ€è¦ç”¨åˆ°æ‰¹é‡æ·»åŠ æˆ–è€…æ›´æ–°çš„ï¼Œæˆ‘ä»¬éƒ½ä¼šæƒ³åˆ°ç”¨å¾ªç¯è¿­ä»£ã€‚sqlä¸­ä½¿ç”¨when â€¦ then â€¦</p><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;!-- æ‰¹é‡ä¿®æ”¹ --&gt;&lt;update id="updateBatch" parameterType="java.util.List"&gt;     update hnca_licetype set     PARAM_TOP =     &lt;foreach collection="list" item="licetypes" index="index"                    separator=" " open="case LICETYPEID" close="end"&gt;          when #{licetypes.lICETYPEID} then #{licetypes.pARAMTOP}     &lt;/foreach&gt;     ,PARAM_LEFT =     &lt;foreach collection="list" item="licetypes" index="index"                    separator=" " open="case LICETYPEID" close="end"&gt;          when #{licetypes.lICETYPEID} then #{licetypes.pARAMLEFT}     &lt;/foreach&gt;     where LICETYPEID in     &lt;foreach collection="list" item="licetypeIds" index="index"                    separator="," open="(" close=")"&gt;          #{licetypeIds.lICETYPEID}     &lt;/foreach&gt;&lt;/update&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å‚è€ƒ <a href="https://www.cnblogs.com/ggjucheng/p/3352280.html">https://www.cnblogs.com/ggjucheng/p/3352280.html</a></p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MYSQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLé¡µé¢ä¸Šæ—¶é—´å±•ç¤ºä¸æ•°æ®åº“ä¸­æ—¶é—´ç›¸å·®8ä¸ªå°æ—¶</title>
      <link href="/MyBlog/mysql-time/"/>
      <url>/MyBlog/mysql-time/</url>
      
        <content type="html"><![CDATA[<p>å°è¯•ä¸€ä¸‹å‡ ç§æ–¹æ³•ï¼š</p><p>æ–¹æ³•ä¸€ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@JsonFormat</span><span class="token punctuation">(</span>pattern<span class="token operator">=</span><span class="token string">"yyyy-MM-dd  HH:mm:ss"</span> <span class="token punctuation">,</span>  timezone<span class="token operator">=</span><span class="token string">"GMT+8"</span><span class="token punctuation">)</span><span class="token keyword">private</span>  <span class="token class-name">Date</span>  createTime<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ–¹æ³•äºŒï¼š</p><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml">url: jdbc:mysql://127.0.0.1:3306/guns?autoReconnect=true&amp;useUnicode=true&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=CONVERT_TO_NULL&amp;useSSL=false&amp;serverTimezone=Asia/Shanghai<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¿®æ”¹:<br>æŠŠserverTimezone=UTCæ”¹ä¸ºserverTimezone=Asia/Shanghai<br>UTCä¸ºä¸–ç•Œç»Ÿä¸€æ—¶é—´ï¼Œå¯ä»¥é€‰æ‹©ä¸œ8åŒºçš„Hongkongã€Asia/Shanghaiæˆ–è€…Asia/Hongkongä½œä¸ºå‚æ•°</p><p>åŸç½‘å€ <a href="https://blog.csdn.net/beauxie/article/details/78552919">SpringBootè¿”å›dateæ—¥æœŸæ ¼å¼åŒ–ï¼Œè§£å†³è¿”å›ä¸ºTIMESTAMPæ—¶é—´æˆ³æ ¼å¼æˆ–8å°æ—¶æ—¶é—´å·®</a><br>åœ¨å…¶ä»–æ–¹æ¡ˆæ²¡æœ‰è§£å†³çš„æƒ…å†µä¸‹ï¼ŒåŒ…æ‹¬<a href="https://blog.csdn.net/luan666/article/details/80399349">spring booté¡¹ç›®ä½¿ç”¨@JsonFormatæ— æ•ˆé—®é¢˜</a></p><p>æ–¹æ³•ä¸‰ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@JSONField</span><span class="token punctuation">(</span>format <span class="token operator">=</span> <span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span>  <span class="token comment">//FastJsonåŒ…ä½¿ç”¨æ³¨è§£</span>    <span class="token annotation punctuation">@JsonFormat</span><span class="token punctuation">(</span>pattern <span class="token operator">=</span> <span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">,</span>timezone <span class="token operator">=</span> <span class="token string">"GMT+8"</span><span class="token punctuation">)</span> <span class="token comment">//JacksonåŒ…ä½¿ç”¨æ³¨è§£</span>    <span class="token annotation punctuation">@DateTimeFormat</span><span class="token punctuation">(</span>pattern <span class="token operator">=</span> <span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span>   <span class="token comment">//æ ¼å¼åŒ–å‰å°æ—¥æœŸå‚æ•°æ³¨è§£</span>    <span class="token keyword">private</span> <span class="token class-name">Date</span> createTime<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è§£å†³æ–¹æ¡ˆï¼šåœ¨application.propertiesé…ç½®æ–‡ä»¶å¢åŠ ä»¥ä¸‹é…ç½®:</p><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml">spring.jackson.date-format=yyyy-MM-dd HH:mm:ssspring.jackson.time-zone=GMT+8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬ä¸€è¡ŒæŒ‡å®šdateè¾“å‡ºæ ¼å¼ä¸ºyyyy-MM-dd HH:mm:ssï¼›<br>ç¬¬äºŒè¡ŒæŒ‡å®šæ—¶åŒºï¼Œè§£å†³8å°æ—¶çš„æ—¶é—´å·®é—®é¢˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MYSQL </tag>
            
            <tag> Date </tag>
            
            <tag> Spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ jQuery.fileDownload.js æ’ä»¶å®ç°Ajaxä¸‹è½½æ–‡ä»¶</title>
      <link href="/MyBlog/hello-world/"/>
      <url>/MyBlog/hello-world/</url>
      
        <content type="html"><![CDATA[<blockquote><p>è¿‘æœŸåšé¡¹ç›®è¿‡ç¨‹ä¸­æœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œæ ¹æ®æ–‡æ¡£çš„åœ°å€ä»æœåŠ¡å™¨ä¸Šä¸‹è½½è¯¥æ–‡æ¡£ã€‚åˆ†ä¸¤ç§æƒ…å†µï¼Œç¬¬ä¸€ç§æ˜¯å•ä¸ªæ–‡ä»¶çš„ä¸‹è½½ï¼ˆä½¿ç”¨æ–‡ä»¶æµè¾“å‡ºåˆ°å‰å°é¡µé¢ï¼‰ï¼Œç¬¬äºŒç§æ˜¯å¤šä¸ªæ–‡ä»¶å®ç°æ‰¹é‡ä¸‹è½½ã€‚</p></blockquote><blockquote><p>æ€è·¯ä¸€ï¼šå•ä¸ªæ–‡ä»¶ä¸‹è½½ï¼Œè·å–æ–‡ä»¶æµå“åº”åˆ°å‰å°é¡µé¢ã€‚<br>å¤šä¸ªæ–‡ä»¶æ‰¹é‡ä¸‹è½½ï¼Œè·å–æ–‡ä»¶è·¯å¾„é›†åˆï¼Œå¾ªç¯ä¸‹è½½ã€‚ï¼ˆæ•ˆç‡ä½ï¼Œæ˜¾ç„¶æ˜¯ä¸å¯å–çš„ï¼‰<br>æ€è·¯äºŒï¼šå•ä¸ªæ–‡ä»¶ä¸‹è½½ï¼Œå†™ä¸€ä¸ªå·¥å…·ç±»è·å–æ–‡ä»¶æµå“åº”åˆ°é¡µé¢åŒæ—¶å°è£…æ–‡ä»¶æ‰“åŒ…zipæ–¹æ³•ã€‚<br>å¤šä¸ªæ–‡ä»¶æ‰¹é‡ä¸‹è½½ï¼Œå°†è·å–åˆ°çš„æ–‡ä»¶è·¯å¾„æ‰“åŒ…æˆzipï¼Œå†ä½¿ç”¨æ–‡ä»¶æµå“åº”åˆ°å‰å°é¡µé¢ã€‚</p></blockquote><blockquote><p>åŸç†ï¼šï¼ˆä»ç£ç›˜è¯»åˆ°å†…å­˜ç„¶åä»å†…å­˜å†™å…¥ç½‘ç»œï¼Œå®¢æœç«¯æ¥æ”¶æµä¿å­˜ï¼‰<br>1ã€è·å–æ–‡ä»¶è·¯å¾„ï¼Œä½¿ç”¨æ–‡ä»¶è¾“å…¥æµå°†æ–‡ä»¶è¾“å…¥åˆ°å†…å­˜<br>2ã€ä½¿ç”¨è¾“å‡ºæµå°†æ–‡ä»¶è¾“å‡ºåˆ°é¡µé¢<br>3ã€é¡µé¢æ¥æ”¶åˆ°å“åº”æµåœ¨å›è°ƒä¸­ç»™å‡ºæç¤º</p></blockquote><p>é—®é¢˜ï¼š<br>1ã€è¿”å›æ–‡ä»¶åä¸­æ–‡ä¹±ç </p><p>è§£å†³ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Disposition"</span><span class="token punctuation">,</span> <span class="token string">"attachment;filename="</span> <span class="token operator">+</span> <span class="token class-name">URLEncoder</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>downFile<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>2ã€å› ä¸ºåŸç”Ÿçš„ajaxè¯·æ±‚æ˜¯æ— æ³•è¿›è¡Œæ–‡ä»¶ä¸Šä¼ ä¸‹è½½çš„ï¼ˆæ— æ³•å¤„ç†æµæ ¼å¼çš„å‚æ•°ï¼‰ï¼Œæ‰€ä»¥æˆ‘æƒ³åˆ°äº†ç”¨formè¡¨å•æ¨¡æ‹Ÿæäº¤ã€‚ä½†æ˜¯ï¼Œä½¿ç”¨formè¡¨å•æäº¤åœ¨è¯·æ±‚ç»“æŸä¹‹åå‰å°æ— æ³•è·å¾—å›è°ƒå‡½æ•°ã€‚</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> url <span class="token operator">=</span> rootPath <span class="token operator">+</span> <span class="token string">"hncaBusinessinfo/downLoadPdf"</span><span class="token punctuation">;</span><span class="token keyword">var</span> form <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&amp;lt;form&amp;gt;&amp;lt;/form&amp;gt;"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"action"</span><span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"method"</span><span class="token punctuation">,</span> <span class="token string">"post"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>form<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&amp;lt;input&amp;gt;&amp;lt;/input&amp;gt;"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"type"</span><span class="token punctuation">,</span> <span class="token string">"hidden"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"PATHSIGNFORM"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"value"</span><span class="token punctuation">,</span> path<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>form<span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è§£å†³ï¼š<br>ä½¿ç”¨jQuery.filedownload.jsæ¥å®ç°æ–‡ä»¶ä¸‹è½½çš„å›è°ƒï¼ˆé¡µé¢éœ€è¦å…ˆå¼•ç”¨ jQuery.fileDownload.jsï¼‰ã€‚</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> url <span class="token operator">=</span> rootPath <span class="token operator">+</span> <span class="token string">"hncaBusinessinfo/downLoadPdf"</span><span class="token punctuation">;</span><span class="token keyword">var</span> index <span class="token operator">=</span> layer<span class="token punctuation">.</span><span class="token function">msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>$<span class="token punctuation">.</span><span class="token function">fileDownload</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>    httpMethod <span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>    data <span class="token operator">:</span> <span class="token function">encodeURI</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function-variable function">prepareCallback</span> <span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        index <span class="token operator">=</span> layer<span class="token punctuation">.</span><span class="token function">msg</span><span class="token punctuation">(</span><span class="token string">'æ–‡ä»¶æ­£åœ¨ä¸‹è½½ä¸­ï¼Œè¯·ç¨å...'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>icon<span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>shade<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">'#f5f5f5'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>scrollbar<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>offset<span class="token operator">:</span> <span class="token string">'auto'</span><span class="token punctuation">,</span> time<span class="token operator">:</span><span class="token number">10000</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function-variable function">successCallback</span> <span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        layer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function-variable function">failCallback</span> <span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">html<span class="token punctuation">,</span> url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">myAlert</span><span class="token punctuation">(</span><span class="token string">"ä¸‹è½½å¤±è´¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>3ã€åœ¨ä½¿ç”¨äº†jQuery.filedownload.jsæ¥ä¸‹è½½æ–‡ä»¶ï¼Œä½†æ˜¯é¡µé¢ä¸‹è½½æˆåŠŸåå›è°ƒæ²¡æœ‰ååº”ã€‚</p><p>è§£å†³ï¼šåˆšå¼€å§‹æ‰¾äº†å¾ˆä¹…ï¼Œä¸€ç›´ä»¥ä¸ºæ˜¯å‰å°ä»£ç å†™é”™äº†åé¢æ‰å‘ç°ä½¿ç”¨jQuery.filedownload.jsä¸‹è½½æ–‡ä»¶é¡µé¢è¦è·å–å›è°ƒå‡½æ•°åå°å¿…é¡»è¦è®¾ç½®å¤´éƒ¨ä¿¡æ¯ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// æ²¡æœ‰è®¾ç½®è¿™ä¸ªå¤´éƒ¨ä¿¡æ¯ï¼Œé¡µé¢è¿˜æ˜¯æ²¡åŠæ³•æ‰§è¡Œå›è°ƒå‡½æ•°çš„å‘¢ï¼</span>response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Set-Cookie"</span><span class="token punctuation">,</span> <span class="token string">"fileDownload=true; path=/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="è¯ä¸å¤šè¯´ï¼Œç›´æ¥æ¥å·¥å…·ç±»çš„ä»£ç ï¼š"><a href="#è¯ä¸å¤šè¯´ï¼Œç›´æ¥æ¥å·¥å…·ç±»çš„ä»£ç ï¼š" class="headerlink" title="è¯ä¸å¤šè¯´ï¼Œç›´æ¥æ¥å·¥å…·ç±»çš„ä»£ç ï¼š"></a>è¯ä¸å¤šè¯´ï¼Œç›´æ¥æ¥å·¥å…·ç±»çš„ä»£ç ï¼š</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/**    * å•ä¸ªPDFæ–‡ä»¶ä¸‹è½½ï¼ˆå•ä¸ªæ–‡ä»¶ä¸‹è½½ï¼‰    * @param response å“åº”æµ    * @param fileName æ–‡ä»¶åï¼ˆå•ä¸ªæ–‡ä»¶ä¸‹è½½æ— éœ€è®¾ç½®æ­¤å±æ€§å€¼ï¼‰    * @param urlStr PDFè·¯å¾„    * @return    */</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">downLoadPdfByUrl</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span><span class="token class-name">String</span> fileName<span class="token punctuation">,</span><span class="token class-name">String</span> urlStr<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment">// è·å–ä¸€ä¸ªæ–‡ä»¶</span>    <span class="token class-name">File</span> downFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>urlStr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// é…ç½®æ–‡ä»¶ä¸‹è½½</span>    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"content-type"</span><span class="token punctuation">,</span> <span class="token string">"application/octet-stream"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"application/octet-stream"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// å®ç°æ–‡ä»¶ä¸‹è½½</span>    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// æ§åˆ¶ä¸€æ¬¡è¾“å‡ºçš„æµé‡</span>    <span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// æ–‡ä»¶è¾“å…¥æµ ã€è¾“å…¥åˆ°æœåŠ¡å™¨å†…å­˜ã€‘</span>    <span class="token class-name">BufferedInputStream</span> bis <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// æ–‡ä»¶è¾“å…¥ç¼“å†²æµ</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>        <span class="token comment">//é¡µé¢ä¸‹è½½æˆåŠŸå›è°ƒå‡½æ•°éœ€è®¾ç½®å¤´ä¿¡æ¯</span>        response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Set-Cookie"</span><span class="token punctuation">,</span> <span class="token string">"fileDownload=true; path=/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// ä¸‹è½½æ–‡ä»¶èƒ½æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡</span>        response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Disposition"</span><span class="token punctuation">,</span> <span class="token string">"attachment;filename="</span> <span class="token operator">+</span> <span class="token class-name">URLEncoder</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>downFile<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å°†æœ¬åœ°çš„æ–‡ä»¶ è¾“å‡º åˆ° å†…å­˜ä¸­</span>        fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>downFile<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ·»åŠ ç¼“å†² ã€æé«˜è¯»å†™æ€§èƒ½ã€‘</span>        bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span>fis<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è·å–ç½‘ç»œ è¾“å‡ºæµ ï¼ˆä» response ä¸­è·å–ï¼‰</span>        <span class="token class-name">OutputStream</span> os <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è¯»å–è§„å®šæµé‡ çš„ æ–‡ä»¶æµ</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// å¦‚æœè¿˜æœ‰æ–‡ä»¶æµ ï¼ˆä½¿ç”¨while å¾ªç¯è¯»å– æ–‡ä»¶æµï¼‰</span>            os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºåˆ°ç½‘ç»œä¸­</span>            i <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å†è¯»ä¸€æ®µæ–‡ä»¶æµ</span>        <span class="token punctuation">}</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Download the song successfully!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//            e.printStackTrace();</span>        <span class="token keyword">return</span> <span class="token string">"ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ï¼ŒPDFæ–‡ä»¶ä¸‹è½½å¤±è´¥ï¼"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">finally</span> <span class="token punctuation">{</span>        <span class="token comment">// ä¸ºäº†æé«˜æœåŠ¡å™¨æ€§èƒ½ï¼Œè¯»å†™æµç”¨å®Œåä¸€å®šè¦å…³é—­</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>bis <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">try</span> <span class="token punctuation">{</span>                bis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>fis <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">try</span> <span class="token punctuation">{</span>                fis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token string">"PDFæ–‡ä»¶ä¸‹è½½æˆåŠŸï¼"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å¤šæ–‡ä»¶ä¸‹è½½ï¼ˆæ‰¹é‡ä¸‹è½½ï¼‰ï¼Œä¸‹è½½çš„æ˜¯zipæ ¼å¼"><a href="#å¤šæ–‡ä»¶ä¸‹è½½ï¼ˆæ‰¹é‡ä¸‹è½½ï¼‰ï¼Œä¸‹è½½çš„æ˜¯zipæ ¼å¼" class="headerlink" title="å¤šæ–‡ä»¶ä¸‹è½½ï¼ˆæ‰¹é‡ä¸‹è½½ï¼‰ï¼Œä¸‹è½½çš„æ˜¯zipæ ¼å¼"></a>å¤šæ–‡ä»¶ä¸‹è½½ï¼ˆæ‰¹é‡ä¸‹è½½ï¼‰ï¼Œä¸‹è½½çš„æ˜¯zipæ ¼å¼</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/**    * æ‰¹é‡ä¸‹è½½æ‰“åŒ…zipå‹ç¼©åŒ…    * @param response    * @param names    * @param paths    */</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">downloadZip</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> names<span class="token punctuation">,</span><span class="token class-name">String</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> paths<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">//å­˜æ”¾--æœåŠ¡å™¨ä¸Šzipæ–‡ä»¶çš„ç›®å½•</span>    <span class="token class-name">String</span> directory <span class="token operator">=</span> <span class="token string">"D:\\repositoryPdf\\"</span><span class="token operator">+</span><span class="token string">"pdf"</span><span class="token punctuation">;</span>    <span class="token class-name">File</span> directoryFile<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>directory<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>directoryFile<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>directoryFile<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        directoryFile<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">//è®¾ç½®æœ€ç»ˆè¾“å‡ºzipæ–‡ä»¶çš„ç›®å½•+æ–‡ä»¶å</span>    <span class="token class-name">SimpleDateFormat</span> formatter  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyyå¹´MMæœˆddæ—¥HHæ—¶mmåˆ†ssç§’"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">String</span> zipFileName <span class="token operator">=</span> formatter<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">".zip"</span><span class="token punctuation">;</span>    <span class="token class-name">String</span> strZipPath <span class="token operator">=</span> directory<span class="token operator">+</span><span class="token string">"\\"</span><span class="token operator">+</span>zipFileName<span class="token punctuation">;</span>    <span class="token class-name">ZipOutputStream</span> zipStream <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token class-name">FileInputStream</span> zipSource <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token class-name">BufferedInputStream</span> bufferStream <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token class-name">File</span> zipFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>strZipPath<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">try</span><span class="token punctuation">{</span>        <span class="token comment">//æ„é€ æœ€ç»ˆå‹ç¼©åŒ…çš„è¾“å‡ºæµ</span>        zipStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZipOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>zipFile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>paths<span class="token punctuation">.</span>length <span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token comment">//è§£ç è·å–çœŸå®è·¯å¾„ä¸æ–‡ä»¶å</span>            <span class="token class-name">String</span> realFileName <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span>URLDecoder</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>names<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">String</span> realFilePath <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span>URLDecoder</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>paths<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>realFilePath<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//è€ƒè™‘æ–‡ä»¶ä¸å­˜åœ¨æ—¶å¦‚ä½•å¤„ç†</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                zipSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å°†éœ€è¦å‹ç¼©çš„æ–‡ä»¶æ ¼å¼åŒ–ä¸ºè¾“å…¥æµ</span>                <span class="token comment">/**                    * å‹ç¼©æ¡ç›®ä¸æ˜¯å…·ä½“ç‹¬ç«‹çš„æ–‡ä»¶ï¼Œè€Œæ˜¯å‹ç¼©åŒ…æ–‡ä»¶åˆ—è¡¨ä¸­çš„åˆ—è¡¨é¡¹ï¼Œç§°ä¸ºæ¡ç›®ï¼Œå°±åƒç´¢å¼•ä¸€æ ·è¿™é‡Œçš„nameå°±æ˜¯æ–‡ä»¶å,                    * æ–‡ä»¶åå’Œä¹‹å‰çš„é‡å¤å°±ä¼šå¯¼è‡´æ–‡ä»¶è¢«è¦†ç›–                    */</span>                <span class="token class-name">ZipEntry</span> zipEntry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZipEntry</span><span class="token punctuation">(</span>realFileName<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åœ¨å‹ç¼©ç›®å½•ä¸­æ–‡ä»¶çš„åå­—</span>                zipStream<span class="token punctuation">.</span><span class="token function">putNextEntry</span><span class="token punctuation">(</span>zipEntry<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å®šä½è¯¥å‹ç¼©æ¡ç›®ä½ç½®ï¼Œå¼€å§‹å†™å…¥æ–‡ä»¶åˆ°å‹ç¼©åŒ…ä¸­</span>                bufferStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span>zipSource<span class="token punctuation">,</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> read <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>read <span class="token operator">=</span> bufferStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    zipStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> read<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>        <span class="token comment">//å…³é—­æµ</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> bufferStream<span class="token punctuation">)</span> bufferStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> zipStream<span class="token punctuation">)</span><span class="token punctuation">{</span>                zipStream<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                zipStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> zipSource<span class="token punctuation">)</span> zipSource<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//                e.printStackTrace();</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"PDFæ–‡ä»¶ä¸‹è½½å¤±è´¥ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment">//åˆ¤æ–­ç³»ç»Ÿå‹ç¼©æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼štrue-æŠŠè¯¥å‹ç¼©æ–‡ä»¶é€šè¿‡æµè¾“å‡ºç»™å®¢æˆ·ç«¯ååˆ é™¤è¯¥å‹ç¼©æ–‡ä»¶  false-æœªå¤„ç†</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>zipFile<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token function">downLoadPdfByUrl</span><span class="token punctuation">(</span>response<span class="token punctuation">,</span>zipFileName<span class="token punctuation">,</span>strZipPath<span class="token punctuation">)</span><span class="token punctuation">;</span>        zipFile<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="controllerç±»"><a href="#controllerç±»" class="headerlink" title="controllerç±»"></a>controllerç±»</h4><h5 id="åˆ¤æ–­è¯¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æœ‰æ•ˆ"><a href="#åˆ¤æ–­è¯¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æœ‰æ•ˆ" class="headerlink" title="åˆ¤æ–­è¯¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æœ‰æ•ˆ"></a>åˆ¤æ–­è¯¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æœ‰æ•ˆ</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"hncaBusinessinfo/fileExists"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Pass</span><span class="token annotation punctuation">@ResponseBody</span><span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨"</span><span class="token punctuation">,</span> notes<span class="token operator">=</span><span class="token string">"è¿”å›æ–‡ä»¶æ˜¯å¦å­˜åœ¨æ¶ˆæ¯"</span> <span class="token punctuation">,</span>httpMethod<span class="token operator">=</span><span class="token string">"POST"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">DataRes</span> <span class="token function">fileExists</span><span class="token punctuation">(</span><span class="token class-name">HncaBusinessinfo</span> hncaBusinessinfo<span class="token punctuation">,</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> paths <span class="token operator">=</span> hncaBusinessinfo<span class="token punctuation">.</span><span class="token function">getPATHSIGNFORM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//è®°å½•æœªæ‰¾åˆ°è·¯å¾„çš„æ–‡ä»¶ä¸ªæ•°</span>    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>paths<span class="token punctuation">.</span>length<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>paths<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token class-name">DataRes</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">,</span><span class="token string">"æ‰¾ä¸åˆ°è¯¥æ–‡ä»¶ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token operator">:</span>paths<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                count<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>count<span class="token operator">&gt;</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>count<span class="token operator">!=</span>paths<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token class-name">DataRes</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"404"</span><span class="token punctuation">,</span><span class="token string">"å…¶ä¸­åŒ…å«"</span><span class="token operator">+</span>count<span class="token operator">+</span><span class="token string">"ä¸ªæ— æ•ˆè·¯å¾„æ–‡ä»¶ï¼Œæ˜¯å¦ç»§ç»­ä¸‹è½½ï¼Ÿ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>count<span class="token operator">==</span>paths<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token class-name">DataRes</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">,</span><span class="token string">"æ‰€é€‰çš„"</span><span class="token operator">+</span>paths<span class="token punctuation">.</span>length<span class="token operator">+</span><span class="token string">"ä¸ªæ–‡ä»¶è·¯å¾„çš†ä¸ºæ— æ•ˆè·¯å¾„ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token class-name">DataRes</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">"ç¡®è®¤ä¸‹è½½æ‚¨é€‰ä¸­çš„"</span><span class="token operator">+</span>paths<span class="token punctuation">.</span>length<span class="token operator">+</span><span class="token string">"ä¸ªæ–‡ä»¶ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="ä¸‹è½½æ–‡ä»¶"><a href="#ä¸‹è½½æ–‡ä»¶" class="headerlink" title="ä¸‹è½½æ–‡ä»¶"></a>ä¸‹è½½æ–‡ä»¶</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/*** æ‰¹é‡ä¸‹è½½PDFæ–‡æ¡£-&gt;hnca_businessinfo*/</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"hncaBusinessinfo/downLoadPdf"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Pass</span><span class="token annotation punctuation">@ResponseBody</span><span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"ä¸‹è½½PDFæ–‡æ¡£"</span><span class="token punctuation">,</span> notes<span class="token operator">=</span><span class="token string">"æ‰¹é‡ä¸‹è½½ç­¾å­—è¡¨"</span> <span class="token punctuation">,</span>httpMethod<span class="token operator">=</span><span class="token string">"POST"</span><span class="token punctuation">,</span>produces <span class="token operator">=</span> <span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">downLoadPdf</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">String</span> path<span class="token punctuation">,</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>path<span class="token operator">!=</span><span class="token keyword">null</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span>path<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        path <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"=undefined"</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> paths <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>        paths <span class="token operator">=</span> <span class="token class-name">URLDecoder</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">UnsupportedEncodingException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">//åˆ¤æ–­æ˜¯æ‰¹é‡ä¸‹è½½è¿˜æ˜¯å•ä¸ªä¸‹è½½</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>paths<span class="token punctuation">.</span>length<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment">//ç›´æ¥è°ƒç”¨å•ä¸ªPDFæ–‡æ¡£ä¸‹è½½</span>        <span class="token class-name">DownloadPdf</span><span class="token punctuation">.</span><span class="token function">downLoadPdfByUrl</span><span class="token punctuation">(</span>response<span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">,</span>paths<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token comment">//æ ¹æ®PDFä¸‹è½½åœ°å€è·å–å•ä¸ªPDFæ–‡æ¡£åç§°ï¼ˆpathçš„æœ€åä¸€ä¸ª/åˆ°.pdfï¼‰ lastIndexOf("f")</span>        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> names <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span>paths<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>paths<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            names<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> paths<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>paths<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">"\\"</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>paths<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">".pdf"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span>UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">".pdf"</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">//å°†PDFæ–‡æ¡£æ‰“åŒ…ä¸ºzipæ–‡ä»¶æä¾›ç»™ç”¨æˆ·ä¸‹è½½</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>paths<span class="token punctuation">.</span>length<span class="token operator">==</span>names<span class="token punctuation">.</span>length<span class="token punctuation">)</span>            <span class="token class-name">DownloadPdf</span><span class="token punctuation">.</span><span class="token function">downloadZip</span><span class="token punctuation">(</span>response<span class="token punctuation">,</span>names<span class="token punctuation">,</span>paths<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token string">"PDFæ–‡ä»¶ä¸‹è½½æˆåŠŸï¼"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="https://blog.csdn.net/zf18234031156/article/details/83744097">springboot-å•æ–‡ä»¶ä¸‹è½½ã€å¤šæ–‡ä»¶ä¸‹è½½ï¼ˆzipï¼‰</a></p><p><a href="https://blog.csdn.net/weixin_41029960/article/details/82585082">ä½¿ç”¨ jQuery.fileDownload.js æ’ä»¶å®ç°Ajaxä¸‹è½½æ–‡ä»¶</a></p>]]></content>
      
      
      <categories>
          
          <category> æ–‡ä»¶ä¸‹è½½ </category>
          
          <category> å‰ç«¯ </category>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
            <tag> JQ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring å®ç°å®šæ—¶å™¨çš„å‡ ç§æ–¹å¼</title>
      <link href="/MyBlog/spring-time/"/>
      <url>/MyBlog/spring-time/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ€è¿‘åœ¨é¡¹ç›®å¼€å‘ä¸­ä½¿ç”¨åˆ°springå®šæ—¶å™¨ï¼Œç»¼åˆè‡ªå·±çš„å¼€å‘ä»¥åŠåœ¨ç½‘ä¸ŠæŸ¥æ‰¾çš„èµ„æ–™æ€»ç»“ä¸€ä¸‹ã€‚</p></blockquote><blockquote><p>1ã€Quartz æ˜¯æˆ‘æœ€å…ˆäº†è§£åˆ°çš„ä¸€ä¸ªåŠŸèƒ½æ¯”è¾ƒå¼ºå¤§çš„springå®šæ—¶å™¨ã€‚å¯ä»¥å®ç°æŒ‰ç…§æŒ‡å®šæ—¶é—´æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§æŒ‡å®šçš„é¢‘ç‡æ‰§è¡Œå®šæ—¶ä»»åŠ¡ã€‚åªæ˜¯åœ¨é…ç½®æ–¹é¢ä¼¼ä¹æ¯”è¾ƒå¤æ‚ã€‚<br>Quartz ä»»åŠ¡è°ƒåº¦çš„æ ¸å¿ƒå…ƒç´ æœ‰ï¼šSchedulerï¼ˆä»»åŠ¡è°ƒåº¦å™¨ï¼‰ã€Triggerï¼ˆè§¦å‘å™¨ï¼‰ã€Jobï¼ˆä»»åŠ¡ï¼‰ã€‚å…¶ä¸­Scheduleræ˜¯å®é™…ä»»åŠ¡è°ƒåº¦çš„æ§åˆ¶å™¨ï¼ŒTriggeræ˜¯å®šä¹‰ä»»åŠ¡è°ƒåº¦æ—¶é—´çš„å…ƒç´ ï¼ŒJobæ˜¯è°ƒåº¦çš„ä»»åŠ¡ã€‚</p></blockquote><p>demoå®ç°ï¼š</p><p>ï¼ˆ1ï¼‰ã€Pom.xmlå¼•å…¥ä¾èµ–ï¼š</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--é›†æˆquartz--&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.quartz-scheduler<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>quartz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${quartz.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- quartzé»˜è®¤ä½¿ç”¨csp0è¿æ¥æ± ï¼Œå¦‚æœé¡¹ç›®ä½¿ç”¨çš„ä¸æ˜¯åˆ™éœ€è¦æ’é™¤ä¾èµ–åŒ… --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>c3p0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>c3p0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context-support<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ï¼ˆ2ï¼‰ã€åˆ›å»ºé…ç½®æ–‡ä»¶ç±»</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Qualifier</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>scheduling<span class="token punctuation">.</span>quartz<span class="token punctuation">.</span></span><span class="token class-name">SchedulerFactoryBean</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span><span class="token punctuation">;</span><span class="token comment">/** * å®šæ—¶ä»»åŠ¡é…ç½® * */</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QuartzConfig</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">SchedulerFactoryBean</span> <span class="token function">scheduler</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">"druidDataSource"</span><span class="token punctuation">)</span> <span class="token class-name">DataSource</span> dataSource<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//quartzå‚æ•°</span>        <span class="token class-name">Properties</span> prop <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//é…ç½®å®ä¾‹</span>        <span class="token comment">//prop.put("org.quartz.scheduler.instanceName", "MyScheduler");//å®ä¾‹åç§°</span>        prop<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"org.quartz.scheduler.instanceId"</span><span class="token punctuation">,</span> <span class="token string">"AUTO"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//çº¿ç¨‹æ± é…ç½®</span>        prop<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"org.quartz.threadPool.threadCount"</span><span class="token punctuation">,</span> <span class="token string">"5"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//JobStoreé…ç½®</span>        prop<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"org.quartz.jobStore.class"</span><span class="token punctuation">,</span> <span class="token string">"org.quartz.impl.jdbcjobstore.JobStoreTX"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        prop<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"org.quartz.jobStore.tablePrefix"</span><span class="token punctuation">,</span> <span class="token string">"QRTZ_"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SchedulerFactoryBean</span> factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SchedulerFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        factory<span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>        factory<span class="token punctuation">.</span><span class="token function">setQuartzProperties</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">;</span>        factory<span class="token punctuation">.</span><span class="token function">setSchedulerName</span><span class="token punctuation">(</span><span class="token string">"MyScheduler"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ•°æ®åº“ä¸­å­˜å‚¨çš„åå­—</span>        <span class="token comment">//QuartzScheduler å»¶æ—¶å¯åŠ¨ï¼Œåº”ç”¨å¯åŠ¨5ç§’å QuartzScheduler å†å¯åŠ¨</span>        factory<span class="token punctuation">.</span><span class="token function">setStartupDelay</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//factory.setApplicationContextSchedulerContextKey("applicationContextKey");</span>        <span class="token comment">//å¯é€‰ï¼ŒQuartzScheduler å¯åŠ¨æ—¶æ›´æ–°å·±å­˜åœ¨çš„Jobï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡ä¿®æ”¹targetObjectååˆ é™¤qrtz_job_detailsè¡¨å¯¹åº”è®°å½•äº†</span>        factory<span class="token punctuation">.</span><span class="token function">setOverwriteExistingJobs</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è®¾ç½®è‡ªåŠ¨å¯åŠ¨ï¼Œé»˜è®¤ä¸ºtrue</span>        factory<span class="token punctuation">.</span><span class="token function">setAutoStartup</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> factory<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ï¼ˆ3ï¼‰ã€åˆ›å»ºè‡ªå®šä¹‰Jobä»»åŠ¡ç±»ï¼Œç»§æ‰¿QuartzJobBean</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span>JSON<span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>qfedu<span class="token punctuation">.</span>rongzaiboot<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">ScheduleJob</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>qfedu<span class="token punctuation">.</span>rongzaiboot<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">ScheduleJobLog</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>qfedu<span class="token punctuation">.</span>rongzaiboot<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">ScheduleJobLogService</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>qfedu<span class="token punctuation">.</span>rongzaiboot<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">SpringContextUtils</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">StringUtils</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>quartz<span class="token punctuation">.</span></span><span class="token class-name">JobExecutionContext</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>quartz<span class="token punctuation">.</span></span><span class="token class-name">JobExecutionException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">LoggerFactory</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>scheduling<span class="token punctuation">.</span>quartz<span class="token punctuation">.</span></span><span class="token class-name">QuartzJobBean</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ReflectionUtils</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Method</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QuartzJob</span> <span class="token keyword">extends</span> <span class="token class-name">QuartzJobBean</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">executeInternal</span><span class="token punctuation">(</span><span class="token class-name">JobExecutionContext</span> context<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">JobExecutionException</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ‰§è¡Œquartzä»»åŠ¡ã€‚ã€‚ã€‚ã€‚ã€‚"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> json <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getMergedJobDataMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"JOB_PARAM_KEY"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å°†è·å–çš„å¯¹è±¡åºåˆ—åŒ–çš„json è½¬åŒ–ä¸ºå®ä½“ç±»å¯¹è±¡</span>        <span class="token class-name">ScheduleJob</span> scheduleJob <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span>json<span class="token punctuation">,</span> <span class="token class-name">ScheduleJob</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Long</span> jobId <span class="token operator">=</span> scheduleJob<span class="token punctuation">.</span><span class="token function">getJobId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> beanName <span class="token operator">=</span> scheduleJob<span class="token punctuation">.</span><span class="token function">getBeanName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> methodName <span class="token operator">=</span> scheduleJob<span class="token punctuation">.</span><span class="token function">getMethodName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> params <span class="token operator">=</span> scheduleJob<span class="token punctuation">.</span><span class="token function">getParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//quartzæ²¡æœ‰è¢«springç®¡ç† æ‰€ä»¥é€šè¿‡å…¶å®ƒæ–¹å¼è·å–service</span>        <span class="token class-name">ScheduleJobLogService</span> scheduleJobLogService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ScheduleJobLogService</span><span class="token punctuation">)</span> <span class="token class-name">SpringContextUtils</span><span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"scheduleJobLogServiceImpl"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ä¿å­˜ä»»åŠ¡è®°å½•æ—¥å¿—</span>        <span class="token class-name">ScheduleJobLog</span> scheduleJobLog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ScheduleJobLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        scheduleJobLog<span class="token punctuation">.</span><span class="token function">setJobId</span><span class="token punctuation">(</span>jobId<span class="token punctuation">)</span><span class="token punctuation">;</span>        scheduleJobLog<span class="token punctuation">.</span><span class="token function">setBeanName</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">;</span>        scheduleJobLog<span class="token punctuation">.</span><span class="token function">setMethodName</span><span class="token punctuation">(</span>methodName<span class="token punctuation">)</span><span class="token punctuation">;</span>        scheduleJobLog<span class="token punctuation">.</span><span class="token function">setParams</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>        scheduleJobLog<span class="token punctuation">.</span><span class="token function">setCreateTime</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            <span class="token class-name">Object</span> targetClass <span class="token operator">=</span> <span class="token class-name">SpringContextUtils</span><span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Method</span> method <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            <span class="token comment">//é€šè¿‡åå°„è·å–æ–¹æ³•</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isNotBlank</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                method <span class="token operator">=</span> targetClass<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span>methodName<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                method <span class="token operator">=</span> targetClass<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span>methodName<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token class-name">ReflectionUtils</span><span class="token punctuation">.</span><span class="token function">makeAccessible</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä½¿æ–¹æ³•å…·æœ‰publicæƒé™</span>            <span class="token comment">//æ ¹æ®åå°„æ‰§è¡Œæ–¹æ³•</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isNotBlank</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>targetClass<span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>targetClass<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">long</span> endTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime<span class="token punctuation">;</span>            scheduleJobLog<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä¿å­˜æ—¥å¿—é‡Œçš„æ“ä½œçŠ¶æ€ 0:æˆåŠŸ</span>            scheduleJobLog<span class="token punctuation">.</span><span class="token function">setTimes</span><span class="token punctuation">(</span>endTime<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è€—æ—¶å¤šé•¿æ—¶é—´</span>            logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"ä»»åŠ¡æ‰§è¡ŒæˆåŠŸï¼Œä»»åŠ¡IDï¼š"</span> <span class="token operator">+</span> jobId <span class="token operator">+</span> <span class="token string">"ï¼Œæ€»è€—æ—¶ï¼š"</span> <span class="token operator">+</span> endTime <span class="token operator">+</span> <span class="token string">"æ¯«ç§’"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">long</span> endTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime<span class="token punctuation">;</span>            scheduleJobLog<span class="token punctuation">.</span><span class="token function">setError</span><span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é”™è¯¯æ¶ˆæ¯</span>            scheduleJobLog<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¤±è´¥</span>            scheduleJobLog<span class="token punctuation">.</span><span class="token function">setTimes</span><span class="token punctuation">(</span>endTime<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è€—æ—¶</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"ä»»åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œä»»åŠ¡IDï¼š"</span><span class="token operator">+</span>jobId<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>            <span class="token comment">//æœ€åè°ƒç”¨serviceä¿å­˜å®šæ—¶ä»»åŠ¡æ—¥å¿—è®°å½•</span>            scheduleJobLogService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>scheduleJobLog<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ï¼ˆ4ï¼‰ã€åˆ›å»ºSchedulerå·¥å…·ç±»,quartzçš„æ“ä½œæ ¸å¿ƒï¼ŒåŒ…æ‹¬æ“ä½œquartzåœ¨æ•°æ®åº“ä¸­çš„è¡¨</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span>JSON<span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>qfedu<span class="token punctuation">.</span>rongzaiboot<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">ScheduleJob</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>qfedu<span class="token punctuation">.</span>rongzaiboot<span class="token punctuation">.</span>quartz<span class="token punctuation">.</span></span><span class="token class-name">QuartzJob</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>quartz<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SchedulerUtils</span> <span class="token punctuation">{</span>    <span class="token comment">/**     * åˆ›å»ºä»»åŠ¡     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">createJob</span><span class="token punctuation">(</span><span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">,</span> <span class="token class-name">ScheduleJob</span> scheduleJob<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            <span class="token class-name">Long</span> jobId <span class="token operator">=</span> scheduleJob<span class="token punctuation">.</span><span class="token function">getJobId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//åˆ›å»ºJobå¯¹è±¡</span>            <span class="token class-name">JobDetail</span> job <span class="token operator">=</span> <span class="token class-name">JobBuilder</span><span class="token punctuation">.</span><span class="token function">newJob</span><span class="token punctuation">(</span><span class="token class-name">QuartzJob</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withIdentity</span><span class="token punctuation">(</span><span class="token string">"JOB_"</span> <span class="token operator">+</span> jobId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//è·å–cronè¡¨è¾¾å¼ å¹¶åˆ›å»ºå¯¹è±¡</span>            <span class="token class-name">CronScheduleBuilder</span> cronScheduleBuilder <span class="token operator">=</span> <span class="token class-name">CronScheduleBuilder</span><span class="token punctuation">.</span><span class="token function">cronSchedule</span><span class="token punctuation">(</span>scheduleJob<span class="token punctuation">.</span><span class="token function">getCronExpression</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">withMisfireHandlingInstructionDoNothing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//åˆ›å»ºè§¦å‘å™¨</span>            <span class="token class-name">CronTrigger</span> trigger <span class="token operator">=</span> <span class="token class-name">TriggerBuilder</span><span class="token punctuation">.</span><span class="token function">newTrigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">withIdentity</span><span class="token punctuation">(</span><span class="token string">"TRIGGET_"</span> <span class="token operator">+</span> jobId<span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">withSchedule</span><span class="token punctuation">(</span>cronScheduleBuilder<span class="token punctuation">)</span> <span class="token comment">//å°†cronè¡¨è¾¾å¼é…ç½®åˆ°è§¦å‘å™¨</span>                    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å°†å¯¹è±¡josnåºåˆ—åŒ–å­˜å‚¨åˆ°Jobçš„getJobDataMap()æ–¹æ³•ä¸­ï¼Œä¸ºåç»­æ ¹æ®è·å–å±æ€§æ‰§è¡Œå¯¹åº”çš„ç±»çš„ä»»åŠ¡</span>            job<span class="token punctuation">.</span><span class="token function">getJobDataMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"JOB_PARAM_KEY"</span><span class="token punctuation">,</span> JSON<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>scheduleJob<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å­˜æ•°æ®</span>            scheduler<span class="token punctuation">.</span><span class="token function">scheduleJob</span><span class="token punctuation">(</span>job<span class="token punctuation">,</span> trigger<span class="token punctuation">)</span><span class="token punctuation">;</span>            scheduler<span class="token punctuation">.</span><span class="token function">pauseJob</span><span class="token punctuation">(</span><span class="token class-name">JobKey</span><span class="token punctuation">.</span><span class="token function">jobKey</span><span class="token punctuation">(</span><span class="token string">"JOB_"</span> <span class="token operator">+</span> jobId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä½¿ä»»åŠ¡å¤„äºç­‰å¾…çŠ¶æ€,åˆ›å»ºåä¸ä¼šæ‰§è¡Œ</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SchedulerException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RRException</span><span class="token punctuation">(</span><span class="token string">"åˆ›å»ºä»»åŠ¡å¤±è´¥"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment">/**     * æ›´æ–°ä»»åŠ¡     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">updateJob</span><span class="token punctuation">(</span><span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">,</span> <span class="token class-name">ScheduleJob</span> scheduleJob<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//è·å–æ–°çš„cronè¡¨è¾¾å¼</span>        <span class="token class-name">CronScheduleBuilder</span> cronScheduleBuilder <span class="token operator">=</span> <span class="token class-name">CronScheduleBuilder</span><span class="token punctuation">.</span><span class="token function">cronSchedule</span><span class="token punctuation">(</span>scheduleJob<span class="token punctuation">.</span><span class="token function">getCronExpression</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">withMisfireHandlingInstructionDoNothing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Long</span> jobId <span class="token operator">=</span> scheduleJob<span class="token punctuation">.</span><span class="token function">getJobId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            <span class="token comment">//æ‹¿åˆ°åŸæœ‰çš„trigger</span>            <span class="token class-name">TriggerKey</span> triggerKey <span class="token operator">=</span> <span class="token class-name">TriggerKey</span><span class="token punctuation">.</span><span class="token function">triggerKey</span><span class="token punctuation">(</span><span class="token string">"TRIGGER_"</span> <span class="token operator">+</span> jobId<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">CronTrigger</span> trigger <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">CronTrigger</span><span class="token punctuation">)</span> scheduler<span class="token punctuation">.</span><span class="token function">getTrigger</span><span class="token punctuation">(</span>triggerKey<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//ä¸ºåŸæœ‰çš„triggerèµ‹äºˆæ–°çš„cronè¡¨è¾¾å¼</span>            trigger <span class="token operator">=</span> trigger<span class="token punctuation">.</span><span class="token function">getTriggerBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withIdentity</span><span class="token punctuation">(</span>triggerKey<span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">withSchedule</span><span class="token punctuation">(</span>cronScheduleBuilder<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//æ‰§è¡ŒåŸæœ‰çš„triggeræ›´æ–°</span>            scheduler<span class="token punctuation">.</span><span class="token function">rescheduleJob</span><span class="token punctuation">(</span>triggerKey<span class="token punctuation">,</span> trigger<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SchedulerException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RRException</span><span class="token punctuation">(</span><span class="token string">"æ›´æ–°å®šæ—¶ä»»åŠ¡å¤±è´¥"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment">/**     * åˆ é™¤ä»»åŠ¡     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">deleteJob</span><span class="token punctuation">(</span><span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">,</span> <span class="token class-name">Long</span> jobId<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            scheduler<span class="token punctuation">.</span><span class="token function">deleteJob</span><span class="token punctuation">(</span><span class="token class-name">JobKey</span><span class="token punctuation">.</span><span class="token function">jobKey</span><span class="token punctuation">(</span><span class="token string">"JOB_"</span> <span class="token operator">+</span> jobId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SchedulerException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RRException</span><span class="token punctuation">(</span><span class="token string">"åˆ é™¤å®šæ—¶ä»»åŠ¡å¤±è´¥"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment">/**     * æ¢å¤ä»»åŠ¡     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">resumeJob</span><span class="token punctuation">(</span><span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">,</span> <span class="token class-name">Long</span> jobId<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            scheduler<span class="token punctuation">.</span><span class="token function">resumeJob</span><span class="token punctuation">(</span><span class="token class-name">JobKey</span><span class="token punctuation">.</span><span class="token function">jobKey</span><span class="token punctuation">(</span><span class="token string">"JOB_"</span> <span class="token operator">+</span> jobId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SchedulerException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RRException</span><span class="token punctuation">(</span><span class="token string">"æ¢å¤å®šæ—¶ä»»åŠ¡å¤±è´¥"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment">/**     * ç«‹å³æ‰§è¡Œå®šæ—¶ä»»åŠ¡     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">,</span> <span class="token class-name">Long</span> jobId<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            <span class="token comment">//åªæ‰§è¡Œä¸€æ¬¡å¹¶ä¸”ä¸ä¼šæ”¹å˜ä»»åŠ¡çš„çŠ¶æ€</span>            scheduler<span class="token punctuation">.</span><span class="token function">triggerJob</span><span class="token punctuation">(</span><span class="token class-name">JobKey</span><span class="token punctuation">.</span><span class="token function">jobKey</span><span class="token punctuation">(</span><span class="token string">"JOB_"</span> <span class="token operator">+</span> jobId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SchedulerException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RRException</span><span class="token punctuation">(</span><span class="token string">"ç«‹å³æ‰§è¡Œå®šæ—¶ä»»åŠ¡å¤±è´¥"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment">/**     * æš‚åœä»»åŠ¡     *     * @param scheduler     * @param jobId     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">pauseJob</span><span class="token punctuation">(</span><span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">,</span> <span class="token class-name">Long</span> jobId<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            scheduler<span class="token punctuation">.</span><span class="token function">pauseJob</span><span class="token punctuation">(</span><span class="token class-name">JobKey</span><span class="token punctuation">.</span><span class="token function">jobKey</span><span class="token punctuation">(</span><span class="token string">"JOB_"</span> <span class="token operator">+</span> jobId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SchedulerException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RRException</span><span class="token punctuation">(</span><span class="token string">"æš‚åœå®šæ—¶ä»»åŠ¡å¤±è´¥"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ï¼ˆ5ï¼‰ã€ä¿å­˜ä»»åŠ¡çš„è‡ªå®šä¹‰ç±»å®ä½“ç±»</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ScheduleJob</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">Long</span> jobId<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> beanName<span class="token punctuation">;</span> <span class="token comment">//æ‰§è¡Œçš„ç±»å</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> methodName<span class="token punctuation">;</span> <span class="token comment">//æ–¹æ³•å</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> params<span class="token punctuation">;</span> <span class="token comment">//å‚æ•°</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> cronExpression<span class="token punctuation">;</span> <span class="token comment">//cronè¡¨è¾¾å¼</span>    <span class="token keyword">private</span> <span class="token class-name">Byte</span> status<span class="token punctuation">;</span> <span class="token comment">//ä»»åŠ¡çŠ¶æ€ 0ï¼Œè¿è¡Œ 1ï¼Œæš‚åœ</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> remark<span class="token punctuation">;</span> <span class="token comment">//å¤‡æ³¨</span>    <span class="token keyword">private</span> <span class="token class-name">Date</span> createTime<span class="token punctuation">;</span> <span class="token comment">//åˆ›å»ºæ—¶é—´</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>2ã€Timer æ˜¯javaè‡ªå¸¦çš„java.util.Timerç±»ï¼Œå…è®¸è°ƒåº¦ä¸€ä¸ªjava.util.TimerTaskä»»åŠ¡ï¼Œå¯ä»¥è®©ç¨‹åºæŒ‰ç…§æŸä¸ªé¢‘ç‡æ‰§è¡Œä»»åŠ¡ï¼Œä½†ä¸èƒ½æŒ‡å®šæ—¶é—´è¿è¡Œï¼Œæ‰€ä»¥ä¸€èˆ¬ä½¿ç”¨çš„è¾ƒå°‘ã€‚</p></blockquote><p>demo å®ç°ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestTimer</span> <span class="token punctuation">{</span>   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token class-name">TimerTask</span> timerTask <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TimerTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>           <span class="token annotation punctuation">@Override</span>           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>               <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"task  run:"</span><span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token punctuation">}</span>       <span class="token punctuation">}</span><span class="token punctuation">;</span>       <span class="token class-name">Timer</span> timer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//å®‰æ’æŒ‡å®šçš„ä»»åŠ¡åœ¨æŒ‡å®šçš„æ—¶é—´å¼€å§‹è¿›è¡Œé‡å¤çš„å›ºå®šå»¶è¿Ÿæ‰§è¡Œã€‚è¿™é‡Œæ˜¯æ¯3ç§’æ‰§è¡Œä¸€æ¬¡</span>       timer<span class="token punctuation">.</span><span class="token function">schedule</span><span class="token punctuation">(</span>timerTask<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>3ã€ScheduledExecutorService jdkè‡ªå¸¦çš„ä¸€ä¸ªç±»ï¼›æ˜¯åŸºäºçº¿ç¨‹æ± è®¾è®¡çš„å®šæ—¶ä»»åŠ¡ç±»,æ¯ä¸ªè°ƒåº¦ä»»åŠ¡éƒ½ä¼šåˆ†é…åˆ°çº¿ç¨‹æ± ä¸­çš„ä¸€ä¸ªçº¿ç¨‹å»æ‰§è¡Œ,ä¹Ÿå°±æ˜¯è¯´,ä»»åŠ¡æ˜¯å¹¶å‘æ‰§è¡Œ,äº’ä¸å½±å“ã€‚</p></blockquote><p>demo å®ç°ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestScheduledExecutorService</span> <span class="token punctuation">{</span>   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token class-name">ScheduledExecutorService</span> service <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newSingleThreadScheduledExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// å‚æ•°ï¼š1ã€ä»»åŠ¡ä½“ 2ã€é¦–æ¬¡æ‰§è¡Œçš„å»¶æ—¶æ—¶é—´</span>       <span class="token comment">//      3ã€ä»»åŠ¡æ‰§è¡Œé—´éš” 4ã€é—´éš”æ—¶é—´å•ä½</span>       service<span class="token punctuation">.</span><span class="token function">scheduleAtFixedRate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"task ScheduledExecutorService "</span><span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>4ã€Spring Taskï¼šSpring3.0ä»¥åè‡ªå¸¦çš„taskï¼Œå¯ä»¥å°†å®ƒçœ‹æˆä¸€ä¸ªè½»é‡çº§çš„Quartzï¼Œè€Œä¸”ä½¿ç”¨èµ·æ¥æ¯”Quartzç®€å•è®¸å¤šã€‚</p></blockquote><p>demo å®ç°ï¼š</p><p>ï¼ˆ1ï¼‰ã€Pom.xmlä¾èµ–ï¼š</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ï¼ˆ2ï¼‰ã€åˆ›å»ºä»»åŠ¡ç±»ï¼šåœ¨ä¸»ç±»ä¸Šä½¿ç”¨@EnableSchedulingæ³¨è§£å¼€å¯å¯¹å®šæ—¶ä»»åŠ¡çš„æ”¯æŒï¼Œç„¶åå¯åŠ¨é¡¹ç›®ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Slf4j</span><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ScheduledService</span> <span class="token punctuation">{</span>   <span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>cron <span class="token operator">=</span> <span class="token string">"0/5 * * * * *"</span><span class="token punctuation">)</span>   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">scheduled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>       log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"=====&gt;&gt;&gt;&gt;&gt;ä½¿ç”¨cron  {}"</span><span class="token punctuation">,</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span>   <span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>fixedRate <span class="token operator">=</span> <span class="token number">5000</span><span class="token punctuation">)</span>   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">scheduled1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"=====&gt;&gt;&gt;&gt;&gt;ä½¿ç”¨fixedRate{}"</span><span class="token punctuation">,</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span>   <span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>fixedDelay <span class="token operator">=</span> <span class="token number">5000</span><span class="token punctuation">)</span>   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">scheduled2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"=====&gt;&gt;&gt;&gt;&gt;fixedDelay{}"</span><span class="token punctuation">,</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ¨èï¼šSpringå¿«é€Ÿå¼€å¯è®¡åˆ’ã€‚å¯ä»¥çœ‹åˆ°ä¸‰ä¸ªå®šæ—¶ä»»åŠ¡éƒ½å·²ç»æ‰§è¡Œï¼Œå¹¶ä¸”ä½¿åŒä¸€ä¸ªçº¿ç¨‹ä¸­ä¸²è¡Œæ‰§è¡Œï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œè¿™æ ·åšè‚¯å®šæ²¡é—®é¢˜ï¼Œå½“å®šæ—¶ä»»åŠ¡å¢å¤šï¼Œå¦‚æœä¸€ä¸ªä»»åŠ¡å¡æ­»ï¼Œä¼šå¯¼è‡´å…¶ä»–ä»»åŠ¡ä¹Ÿæ— æ³•æ‰§è¡Œã€‚</p></blockquote><p><a href="https://juejin.im/post/5ca24fb1e51d454a490a4809">å‚è€ƒé“¾æ¥</a></p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
          <category> å®šæ—¶ä»»åŠ¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Date </tag>
            
            <tag> Spring </tag>
            
            <tag> Job </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨gitä¸Šä¼ ä»£ç è‡³GitHubä»“åº“</title>
      <link href="/MyBlog/first-git/"/>
      <url>/MyBlog/first-git/</url>
      
        <content type="html"><![CDATA[<p>å†™åœ¨å‰é¢ï¼šçœ‹åˆ°è¿™ä¸ªæ ‡é¢˜ï¼Œæˆ‘æƒ³æœ‰å¾ˆå¤šæ²¡æœ‰æ¥è§¦è¿‡Gitçš„å¤§ä½¬ä»¬è‚¯å®šä¹Ÿæ˜¯ä¸€çŸ¥åŠè§£ï¼Œæ‰€ä»¥æˆ‘è¿˜æ˜¯å…ˆæ¥è®²è®²Gitä¸GitHubçš„åŒºåˆ«ã€‚ä¹‹å‰åœ¨æŸä¸ªå¸–å­ä¸Šé¢çœ‹è§é‚£ä½å¤§ä½¬æ˜¯è¿™ä¹ˆæ€»ç»“çš„ï¼šgitæ˜¯å¼“ï¼Œä½ çš„ä»£ç æ˜¯ç®­ï¼Œè€ŒGitHubåˆ™æ˜¯é¶å­ã€‚æˆ‘åªèƒ½è¯´ä¸¤ä¸ªå­—ï¼šç²¾è¾Ÿï¼å“ˆå“ˆï¼è¨€å½’æ­£ä¼ ï¼Œåˆ°åº•ä»€ä¹ˆæ˜¯Gitä»€ä¹ˆæ˜¯GitHubå‘¢ï¼Ÿ</p><h2 id="Git-ç‰ˆæœ¬æ§åˆ¶"><a href="#Git-ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="Git ç‰ˆæœ¬æ§åˆ¶"></a>Git ç‰ˆæœ¬æ§åˆ¶</h2><p>gitæ˜¯ç”¨äºLinuxå†…æ ¸å¼€å‘çš„ç‰ˆæœ¬æ§åˆ¶å·¥å…·ã€‚ä¸å¸¸ç”¨çš„ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼šCVS,SVN(SubVersion)ç­‰ä¸åŒï¼Œå®ƒé‡‡ç”¨äº†åˆ†å¸ƒå¼ç‰ˆæœ¬åº“çš„æ–¹å¼ï¼Œä¸å¿…æœåŠ¡å™¨ç«¯è½¯ä»¶æ”¯æŒï¼ˆè¿™è¦åˆ†æ˜¯ç”¨ä»€ä¹ˆæ ·çš„æœåŠ¡ç«¯ï¼Œä½¿ç”¨httpåè®®æˆ–è€…gitåè®®ç­‰ä¸å¤ªä¸€æ ·ã€‚å¹¶ä¸”åœ¨pushå’Œpullçš„æ—¶å€™å’ŒæœåŠ¡å™¨ç«¯è¿˜æ˜¯æœ‰äº¤äº’çš„ã€‚ï¼‰ä½¿æºä»£ç çš„å‘å¸ƒå’Œäº¤æµåŠå…¶æ–¹ä¾¿ã€‚Gitçš„é€Ÿåº¦å¾ˆå¿«è¿™å¯¹äºè¯¸å¦‚Linux kernelè¿™æ ·çš„å¤§é¡¹ç›®æ¥è¯´è‡ªç„¶å¾ˆé‡è¦ã€‚Gitæœ€ä¸ºå‡ºè‰²çš„æ˜¯å®ƒçš„åˆå¹¶è·Ÿè¸ªï¼ˆmerge tracingï¼‰èƒ½åŠ›ã€‚</p><p>æˆ‘ä»¬éƒ½çŸ¥é“é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ˜¯å¿…é¡»è”ç½‘æ‰èƒ½å·¥ä½œï¼Œå¦‚æœåœ¨å±€åŸŸç½‘å†…è¿˜å¥½ï¼Œå¸¦å®½å¤Ÿå¤§ï¼Œé€Ÿåº¦å¤Ÿå¿«ï¼Œå¯å¦‚æœåœ¨äº’è”ç½‘ä¸Šï¼Œé‡åˆ°ç½‘é€Ÿæ…¢çš„è¯ï¼Œå¯èƒ½æäº¤ä¸€ä¸ª10Mçš„æ–‡ä»¶å°±éœ€è¦5åˆ†é’Ÿï¼Œå¾ˆæ˜¾ç„¶è¿™ç§ç­‰å¾…æ˜¯éå¸¸ç—›è‹¦çš„ã€‚åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ ¹æœ¬æ²¡æœ‰â€œä¸­å¤®æœåŠ¡å™¨â€ï¼Œæ¯ä¸ªäººçš„ç”µè„‘ä¸Šéƒ½æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç‰ˆæœ¬åº“ï¼Œè¿™æ ·ï¼Œä½ å·¥ä½œçš„æ—¶å€™ï¼Œå°±ä¸éœ€è¦è”ç½‘äº†ï¼Œå› ä¸ºç‰ˆæœ¬åº“å°±åœ¨ä½ è‡ªå·±çš„ç”µè„‘ä¸Šã€‚æ—¢ç„¶æ¯ä¸ªäººç”µè„‘ä¸Šéƒ½æœ‰ä¸€ä¸ªå®Œæ•´çš„ç‰ˆæœ¬åº“ï¼Œé‚£å¤šä¸ªäººå¦‚ä½•åä½œå‘¢ï¼Ÿ</p><p>æ¯”æ–¹è¯´ä½ åœ¨è‡ªå·±ç”µè„‘ä¸Šæ”¹äº†æ–‡ä»¶Aï¼Œä½ çš„åŒäº‹ä¹Ÿåœ¨ä»–çš„ç”µè„‘ä¸Šæ”¹äº†æ–‡ä»¶Aï¼Œè¿™æ—¶ï¼Œä½ ä»¬ä¿©ä¹‹é—´åªéœ€æŠŠå„è‡ªçš„ä¿®æ”¹æ¨é€ç»™å¯¹æ–¹ï¼Œå°±å¯ä»¥äº’ç›¸çœ‹åˆ°å¯¹æ–¹çš„ä¿®æ”¹äº†ã€‚</p><p>å’Œé›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿç›¸æ¯”ï¼Œåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„å®‰å…¨æ€§è¦é«˜å¾ˆå¤šï¼Œå› ä¸ºæ¯ä¸ªäººç”µè„‘é‡Œéƒ½æœ‰å®Œæ•´çš„ç‰ˆæœ¬åº“ï¼ŒæŸä¸€ä¸ªäººçš„ç”µè„‘åæ‰äº†ä¸è¦ç´§ï¼Œéšä¾¿ä»å…¶ä»–äººé‚£é‡Œå¤åˆ¶ä¸€ä¸ªå°±å¯ä»¥äº†ã€‚è€Œé›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„ä¸­å¤®æœåŠ¡å™¨è¦æ˜¯å‡ºäº†é—®é¢˜ï¼Œæ‰€æœ‰äººéƒ½æ²¡æ³•å¹²æ´»äº†ã€‚</p><p>è€Œ Git çš„æ­£å¸¸ä½¿ç”¨éƒ½ç”±ä¸€äº›å‹å¥½çš„è„šæœ¬å‘½ä»¤æ¥æ‰§è¡Œï¼Œä½¿ Git å˜å¾—éå¸¸å¥½ç”¨ï¼Œå³ä½¿æ˜¯ç”¨æ¥ç®¡ç†æˆ‘ä»¬è‡ªå·±çš„å¼€å‘é¡¹ç›®ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚</p><h2 id="GitHub-æ‰˜ç®¡"><a href="#GitHub-æ‰˜ç®¡" class="headerlink" title="GitHub æ‰˜ç®¡"></a>GitHub æ‰˜ç®¡</h2><p>gitHubæ˜¯ä¸€ä¸ªé¢å‘å¼€æºåŠç§æœ‰è½¯ä»¶é¡¹ç›®çš„æ‰˜ç®¡å¹³å°ï¼Œå› ä¸ºåªæ”¯æŒ git ä½œä¸ºå”¯ä¸€çš„ç‰ˆæœ¬åº“æ ¼å¼è¿›è¡Œæ‰˜ç®¡æ•…ågitHubã€‚ </p><p>å¦‚å‰æ‰€è¿°ï¼Œä½œä¸ºä¸€ä¸ªåˆ†å¸ƒå¼çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œåœ¨Gitä¸­å¹¶ä¸å­˜åœ¨ä¸»åº“è¿™æ ·çš„æ¦‚å¿µï¼Œæ¯ä¸€ä»½å¤åˆ¶å‡ºçš„åº“éƒ½å¯ä»¥ç‹¬ç«‹ä½¿ç”¨ï¼Œä»»ä½•ä¸¤ä¸ªåº“ä¹‹é—´çš„ä¸ä¸€è‡´ä¹‹å¤„éƒ½å¯ä»¥è¿›è¡Œåˆå¹¶ã€‚GitHubå¯ä»¥æ‰˜ç®¡å„ç§gitåº“ï¼Œå¹¶æä¾›ä¸€ä¸ªwebç•Œé¢ï¼Œä½†ä¸å…¶å®ƒåƒ SourceForgeæˆ–Google Codeè¿™æ ·çš„æœåŠ¡ä¸åŒï¼ŒGitHubçš„ç‹¬ç‰¹å–ç‚¹åœ¨äºä»å¦å¤–ä¸€ä¸ªé¡¹ç›®è¿›è¡Œåˆ†æ”¯çš„ç®€æ˜“æ€§ã€‚</p><p>ä¸ºä¸€ä¸ªé¡¹ç›®è´¡çŒ®ä»£ç éå¸¸ç®€å•ï¼šé¦–å…ˆç‚¹å‡»é¡¹ç›®ç«™ç‚¹çš„â€œforkâ€çš„æŒ‰é’®ï¼Œç„¶åå°†ä»£ç æ£€å‡ºå¹¶å°†ä¿®æ”¹åŠ å…¥åˆ°åˆšæ‰åˆ†å‡ºçš„ä»£ç åº“ä¸­ï¼Œæœ€åé€šè¿‡å†…å»ºçš„â€œpull requestâ€æœºåˆ¶å‘é¡¹ç›®è´Ÿè´£äººç”³è¯·ä»£ç åˆå¹¶ã€‚å·²ç»æœ‰äººå°†GitHubç§°ä¸ºä»£ç ç©å®¶çš„MySpaceã€‚åœ¨GitHubè¿›è¡Œåˆ†æ”¯å°±åƒåœ¨Myspaceï¼ˆæˆ–Facebookâ€¦ï¼‰è¿›è¡Œäº¤å‹ä¸€æ ·ï¼Œåœ¨ç¤¾ä¼šå…³ç³»å›¾çš„èŠ‚ç‚¹ä¸­ä¸æ–­çš„è¿çº¿ã€‚GitHubé¡¹ç›®æœ¬èº«è‡ªç„¶è€Œç„¶çš„ä¹Ÿåœ¨GitHubä¸Šè¿›è¡Œæ‰˜ç®¡ï¼Œåªä¸è¿‡åœ¨ä¸€ä¸ªç§æœ‰çš„ï¼Œå…¬å…±è§†å›¾ä¸å¯è§çš„åº“ä¸­ã€‚</p><p>å¼€æºé¡¹ç›®å¯ä»¥å…è´¹æ‰˜ç®¡ï¼Œä½†ç§æœ‰åº“åˆ™å¹¶ä¸å¦‚æ­¤ã€‚Chris Wanstrathï¼ŒGitHubçš„å¼€å‘è€…ä¹‹ä¸€ï¼Œè‚¯å®šäº†é€šè¿‡ä»˜è´¹çš„ç§æœ‰åº“æ¥åœ¨è´¢åŠ¡ä¸Šæ”¯æŒå…è´¹åº“çš„æ‰˜ç®¡è¿™ä¸€è®¡åˆ’ã€‚é€šè¿‡ä¸å®¢æˆ·çš„æ¥æ´½ï¼Œå¼€å‘FamSpamï¼Œç”šè‡³æ˜¯å¼€å‘GitHubæœ¬èº«ï¼ŒGitHubçš„ç§æœ‰åº“å·²ç»è¢«è¯æ˜äº†ç‰©æœ‰æ‰€å€¼ã€‚ä»»ä½•å¸Œæœ›èŠ‚çœæ—¶é—´å¹¶å¸Œæœ›å’Œå›¢é˜Ÿå…¶å®ƒæˆå‘˜ä¸€æ ·è¿œç¦»é¡µé¢é¢‘ç¹è½¬æ¢ä¹‹è‹¦çš„äººå£«éƒ½ä¼šä»GitHubä¸­è·å¾—ä»–ä»¬çœŸæ­£æƒ³è¦çš„ä»·å€¼ã€‚åœ¨GitHubï¼Œç”¨æˆ·å¯ä»¥ååˆ†è½»æ˜“åœ°æ‰¾åˆ°æµ·é‡çš„å¼€æºä»£ç ã€‚</p><p>è¯´å®ŒGitä¸GitHubçš„åŒºåˆ«æˆ‘ä»¬å¼€å§‹æ­¥å…¥æ­£é¢˜ï¼Œä½¿ç”¨gitä¸Šä¼ ä»£ç è‡³GitHubä»“åº“ã€‚</p><h2 id="å‰ææ¡ä»¶ï¼š"><a href="#å‰ææ¡ä»¶ï¼š" class="headerlink" title="å‰ææ¡ä»¶ï¼š"></a>å‰ææ¡ä»¶ï¼š</h2><h3 id="è¦ä½¿ç”¨Gitçš„å‰æå½“ç„¶å¾—æ˜¯ä½ çš„æœ¬åœ°å®‰è£…äº†Git"><a href="#è¦ä½¿ç”¨Gitçš„å‰æå½“ç„¶å¾—æ˜¯ä½ çš„æœ¬åœ°å®‰è£…äº†Git" class="headerlink" title="è¦ä½¿ç”¨Gitçš„å‰æå½“ç„¶å¾—æ˜¯ä½ çš„æœ¬åœ°å®‰è£…äº†Git"></a>è¦ä½¿ç”¨Gitçš„å‰æå½“ç„¶å¾—æ˜¯ä½ çš„æœ¬åœ°å®‰è£…äº†Git</h3><pre class="line-numbers language-none"><code class="language-none">å®‰è£…Gitï¼š1ã€è¿›å…¥Gitå®˜ç½‘ https://git-scm.com/2ã€ä¸‹è½½å¯¹åº”ç‰ˆæœ¬æ ¹æ®å¼•å¯¼å®‰è£…Gitå³å¯3ã€å®‰è£…å®Œæˆä¹‹åæ‰§è¡Œ git --version å‘½ä»¤æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ4ã€å®‰è£…åéšå¤„å³é”®ä¼šå‡ºç°è¿™ä¸¤ä¸ªç›®å½•ï¼šGit GUI Hereã€Git Bash Here<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ‹¥æœ‰è‡ªå·±çš„GitHubä»“åº“"><a href="#æ‹¥æœ‰è‡ªå·±çš„GitHubä»“åº“" class="headerlink" title="æ‹¥æœ‰è‡ªå·±çš„GitHubä»“åº“"></a>æ‹¥æœ‰è‡ªå·±çš„GitHubä»“åº“</h3><pre class="line-numbers language-none"><code class="language-none">1ã€è¿›å…¥GitHubå®˜ç½‘ https://github.com/ æ³¨å†Œè‡ªå·±çš„GitHubè´¦å·2ã€åœ¨GitHubä¸­æ–°å»ºä¸€ä¸ªè‡ªå·±çš„ä»“åº“ NEW Repositories<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="ä¸Šä¼ ä»£ç åˆ°GitHub"><a href="#ä¸Šä¼ ä»£ç åˆ°GitHub" class="headerlink" title="ä¸Šä¼ ä»£ç åˆ°GitHub"></a>ä¸Šä¼ ä»£ç åˆ°GitHub</h2><h3 id="1ã€è¦ä¸Šä¼ çš„é¡¹ç›®ä»£ç "><a href="#1ã€è¦ä¸Šä¼ çš„é¡¹ç›®ä»£ç " class="headerlink" title="1ã€è¦ä¸Šä¼ çš„é¡¹ç›®ä»£ç "></a>1ã€è¦ä¸Šä¼ çš„é¡¹ç›®ä»£ç </h3><h3 id="2ã€ç”ŸæˆSSHå¯†é’¥"><a href="#2ã€ç”ŸæˆSSHå¯†é’¥" class="headerlink" title="2ã€ç”ŸæˆSSHå¯†é’¥"></a>2ã€ç”ŸæˆSSHå¯†é’¥</h3><pre class="line-numbers language-none"><code class="language-none">åœ¨é¡¹ç›®çš„æ ¹ç›®å½•æ‰“å¼€ Git Bash Here æ‰§è¡Œä¸€ä¸‹å‘½ä»¤åœ¨æ‰§è¡Œå‘½ä»¤ä¹‹å‰å¯ä»¥å…ˆæ£€éªŒä¸€ä¸‹ä¹‹å‰æ˜¯å¦æœ‰é…ç½®ï¼šgit config user.namegit config user.emailå¦‚æœæ²¡æœ‰é…ç½®å°±é…ç½®ä¸€ä¸‹ï¼šgit config â€“global user.name 'ä½ çš„ç”¨æˆ·å' git config â€“global user.email 'ä½ çš„é‚®ç®±åœ°å€'ç”Ÿæˆå¯†é’¥ï¼šssh-keygen -t rsa -C 'ä½ çš„é‚®ç®±åœ°å€'ç”¨æˆ·åå’Œå¯†ç å¯ä»¥è‡ªå·±è¾“ï¼Œåœ°å€å¯ä»¥ä½¿ç”¨é»˜è®¤çš„ï¼ˆä¹Ÿå¯ä»¥ç›´æ¥ä¸‰ä¸ªå›è½¦ï¼‰å¯†é’¥é»˜è®¤åœ°å€åœ¨ C:\ç”¨æˆ·\ä½ ç”µè„‘çš„ç”¨æˆ·å\.ssh ä¸‹é¢id_rsaï¼ˆç§æœ‰ç§˜é’¥ï¼‰å’Œid_rsa.pubï¼ˆå…¬æœ‰å¯†é’¥ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3ã€å°†ç”Ÿæˆçš„SSHå¯†é’¥è¿æ¥ä¸ŠGitHub"><a href="#3ã€å°†ç”Ÿæˆçš„SSHå¯†é’¥è¿æ¥ä¸ŠGitHub" class="headerlink" title="3ã€å°†ç”Ÿæˆçš„SSHå¯†é’¥è¿æ¥ä¸ŠGitHub"></a>3ã€å°†ç”Ÿæˆçš„SSHå¯†é’¥è¿æ¥ä¸ŠGitHub</h3><pre class="line-numbers language-none"><code class="language-none">1ã€ç™»å½•GitHubè¿›å…¥Settings2ã€è¿›å…¥SSH and GPG keys3ã€åˆ›å»ºNew SSH key4ã€ç²˜è´´ä½ çš„å¯†é’¥åˆ°ä½ keyè¾“å…¥æ¡†ä¸­ï¼Œæ ‡é¢˜å¯ä»¥è®¾ç½®å±äºè‡ªå·±çš„æ ‡é¢˜æ–¹ä¾¿æŸ¥çœ‹5ã€ç‚¹å‡»Add SSH key6ã€æœ€ååœ¨Git Bash Here ä¸­è¾“å…¥ ssh -T git@github.com å‘½ä»¤æµ‹è¯•ã€‚å‡ºç°ä»¥ä¸‹ä¿¡æ¯å°±okå•¦ï¼Hi 007leisuping! You've successfully authenticated, but GitHub does not provide s hell access.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœæ²¡æœ‰ç”ŸæˆSSHå¯†é’¥è¿æ¥GitHubï¼Œåœ¨æ¨é€ä»£ç è‡³GitHubä¸Šæ—¶ä¼šæç¤ºä½ éœ€è¦ç”ŸæˆSSHæ‰èƒ½å¤Ÿæ¨é€ä»£ç ã€‚</p><h3 id="4ã€æ‰§è¡ŒGitå‘½ä»¤ä¸Šä¼ ä»£ç "><a href="#4ã€æ‰§è¡ŒGitå‘½ä»¤ä¸Šä¼ ä»£ç " class="headerlink" title="4ã€æ‰§è¡ŒGitå‘½ä»¤ä¸Šä¼ ä»£ç "></a>4ã€æ‰§è¡ŒGitå‘½ä»¤ä¸Šä¼ ä»£ç </h3><pre class="line-numbers language-none"><code class="language-none">é¦–æ¬¡ä¸Šä¼ é¡¹ç›®æ­¥éª¤ï¼šç¬¬ä¸€æ­¥ï¼š cdåˆ°ä½ çš„æœ¬åœ°é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œåˆå§‹åŒ–Gité¡¹ç›®git initç¬¬äºŒæ­¥ï¼šå°†é¡¹ç›®çš„æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ä¸­ï¼Œè¿›å…¥å¾…æäº¤çŠ¶æ€git add .å¦‚æœæƒ³æ·»åŠ æŸä¸ªç‰¹å®šçš„æ–‡ä»¶ï¼Œåªéœ€æŠŠæ¢æˆç‰¹å®šçš„æ–‡ä»¶åå³å¯ç¬¬ä¸‰æ­¥ï¼šå°†å¾…æäº¤çš„æ–‡ä»¶commitåˆ°ä»“åº“git commit -m "æäº¤ç‰ˆæœ¬ä¿¡æ¯"ç¬¬å››æ­¥ï¼šå°†æœ¬åœ°çš„é¡¹ç›®å…³è”GitHubä¸Šï¼ˆä»…ç”¨äºæœªå…³è”GitHubä»“åº“çš„æƒ…å†µä¸‹ï¼‰git remote add origin GitHubä»“åº“çš„åœ°å€ç½‘å€æ ¼å¼ï¼šgit@github.com: + ç”¨æˆ·å/ è¿œç¨‹ä»“åº“åï¼ˆSSHå½¢å¼çš„ï¼‰ç¬¬äº”æ­¥ï¼šä¸Šä¼ GitHubä¹‹å‰æœ€å¥½å…ˆpullä¸€ä¸‹git pull origin masterç¬¬å…­æ­¥ï¼šä¸Šä¼ ä»£ç åˆ°GitHubè¿œç¨‹ä»“åº“git push -u origin master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¹‹åçš„ä»£ç æ›´æ–°å¯æ ¹æ®å®é™…æƒ…å†µæ‰§è¡ŒGitå‘½ä»¤å³å¯å¦‚ï¼š<br>è¿™é‡Œå¦‚æœä»“åº“åœ°å€éœ€è¦æ›´æ”¹å¯æ‰§è¡Œä¸‹é¢çš„è¯­å¥<br>git remote set-url origin ä½ çš„ssh</p><p>git pull</p><p>git add .</p><p>git commit -m â€˜æäº¤ç‰ˆæœ¬ä¿¡æ¯â€™</p><p>git push</p><p>â€¦â€¦</p><p><a href="https://www.runoob.com/git/git-basic-operations.html">Gitå¸¸ç”¨å‘½ä»¤</a></p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
          <category> ä»£ç ç®¡ç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è€æ¿è®©ä½ æŠ—ä½åƒä¸‡çº§æµé‡ï¼Œä½ å¦‚ä½•åšæ¶æ„ç³»ç»Ÿè®¾è®¡ï¼Ÿ</title>
      <link href="/MyBlog/first-blog/"/>
      <url>/MyBlog/first-blog/</url>
      
        <content type="html"><![CDATA[<p>â€ƒéšç€äº’è”ç½‘çš„å‘å±•ï¼Œå„é¡¹è½¯ä»¶çš„å®¢æˆ·é‡æ—¥ç›Šå¢å¤šï¼Œå½“å®¢æˆ·é‡è¾¾åˆ°ä¸€å®šå³°å€¼æ—¶ï¼Œå½“æ•°ä»¥ä¸‡è®¡çš„æµé‡æ¥ä¸´æ—¶ï¼Œç¨‹åºçš„é¡ºåˆ©è¿è¡Œä»¥åŠå³æ—¶å“åº”åˆ™æ˜¾å¾—å°¤ä¸ºé‡è¦ï¼Œå°±åƒåŒ11é‚£å¤©çš„æ·˜å®ä¸€æ ·ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•è®¾è®¡æ¶æ„æ‰èƒ½å¤ŸæŠ—ä½è¿™åƒä¸‡çº§çš„æµé‡å‘¢ï¼Ÿ</p><p>â€ƒé¦–å…ˆï¼Œè¦åœ¨æˆ‘ä»¬æ¶æ„è®¾è®¡çš„æ—¶å€™å»ºç«‹ä¸€äº›åŸåˆ™.</p><h2 id="1ã€å®ç°é«˜å¹¶å‘"><a href="#1ã€å®ç°é«˜å¹¶å‘" class="headerlink" title="1ã€å®ç°é«˜å¹¶å‘"></a>1ã€å®ç°é«˜å¹¶å‘</h2><pre class="line-numbers language-none"><code class="language-none">æœåŠ¡å™¨æ‹†åˆ†ï¼šå°†æ•´ä¸ªé¡¹ç›®æ‹†åˆ†æˆå¤šä¸ªå­é¡¹ç›®æˆ–è€…æ¨¡å—ï¼Œåˆ†è€Œæ²»ä¹‹ï¼Œå°†é¡¹ç›®è¿›è¡Œæ°´å¹³æ‰©å±•æœåŠ¡åŒ–ï¼šè§£å†³æœåŠ¡è°ƒç”¨å¤æ‚ä¹‹åçš„æœåŠ¡çš„æ³¨å†Œå‘ç°é—®é¢˜æ¶ˆæ¯é˜Ÿåˆ—ï¼šè§£è€¦ã€å¼‚æ­¥å¤„ç†ç¼“å­˜ï¼šå„ç§ç¼“å­˜å¸¦æ¥çš„å¹¶å‘<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2ã€å®ç°é«˜å¯ç”¨-é›†ç¾¤ã€é™æµã€é™çº§"><a href="#2ã€å®ç°é«˜å¯ç”¨-é›†ç¾¤ã€é™æµã€é™çº§" class="headerlink" title="2ã€å®ç°é«˜å¯ç”¨(é›†ç¾¤ã€é™æµã€é™çº§)"></a>2ã€å®ç°é«˜å¯ç”¨(é›†ç¾¤ã€é™æµã€é™çº§)</h2><h3 id="é›†ç¾¤"><a href="#é›†ç¾¤" class="headerlink" title="é›†ç¾¤"></a>é›†ç¾¤</h3><h4 id="é›†ç¾¤ä¸åˆ†å¸ƒå¼ï¼šåˆ†å¸ƒå¼å’Œé›†ç¾¤éƒ½æ˜¯éœ€è¦æœ‰å¾ˆå¤šèŠ‚ç‚¹æœåŠ¡å™¨é€šè¿‡ç½‘ç»œååŒå·¥ä½œå®Œæˆæ•´ä½“çš„ä»»åŠ¡ç›®æ ‡"><a href="#é›†ç¾¤ä¸åˆ†å¸ƒå¼ï¼šåˆ†å¸ƒå¼å’Œé›†ç¾¤éƒ½æ˜¯éœ€è¦æœ‰å¾ˆå¤šèŠ‚ç‚¹æœåŠ¡å™¨é€šè¿‡ç½‘ç»œååŒå·¥ä½œå®Œæˆæ•´ä½“çš„ä»»åŠ¡ç›®æ ‡" class="headerlink" title="é›†ç¾¤ä¸åˆ†å¸ƒå¼ï¼šåˆ†å¸ƒå¼å’Œé›†ç¾¤éƒ½æ˜¯éœ€è¦æœ‰å¾ˆå¤šèŠ‚ç‚¹æœåŠ¡å™¨é€šè¿‡ç½‘ç»œååŒå·¥ä½œå®Œæˆæ•´ä½“çš„ä»»åŠ¡ç›®æ ‡"></a>é›†ç¾¤ä¸åˆ†å¸ƒå¼ï¼šåˆ†å¸ƒå¼å’Œé›†ç¾¤éƒ½æ˜¯éœ€è¦æœ‰å¾ˆå¤šèŠ‚ç‚¹æœåŠ¡å™¨é€šè¿‡ç½‘ç»œååŒå·¥ä½œå®Œæˆæ•´ä½“çš„ä»»åŠ¡ç›®æ ‡</h4><pre class="line-numbers language-none"><code class="language-none">é›†ç¾¤çš„ä¸¤ä¸ªç‰¹ç‚¹ï¼š1ã€å¯æ‰©å±•æ€§ï¼šé›†ç¾¤çš„æ€§èƒ½ä¸é™åˆ¶äºå•ä¸€çš„æœåŠ¡å®ä½“ï¼Œæ–°çš„æœåŠ¡å®ä½“å¯ä»¥åŠ¨æ€çš„æ·»åŠ åˆ°é›†ç¾¤ï¼Œä»è€Œå¢å¼ºé›†ç¾¤çš„æ€§èƒ½ã€‚2ã€é«˜å¯ç”¨æ€§ï¼šé›†ç¾¤å½“å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹å‘ç”Ÿæ•…éšœæ—¶ï¼Œè¿™å°èŠ‚ç‚¹ä¸Šé¢æ‰€è¿è¡Œçš„åº”ç”¨ç¨‹åºå°†åœ¨å¦ä¸€å°èŠ‚ç‚¹è¢«è‡ªåŠ¨æ¥ç®¡ï¼Œæ¶ˆé™¤å•ç‚¹æ•…éšœå¯¹äºå¢å¼ºæ•°æ®å¯ç”¨æ€§ã€å¯è¾¾æ€§å’Œå¯é æ€§æ˜¯éå¸¸é‡è¦çš„ã€‚é›†ç¾¤çš„ä¸¤å¤§èƒ½åŠ›1ã€è´Ÿè½½å‡è¡¡ï¼šè´Ÿè½½å‡è¡¡æŠŠä»»åŠ¡æ¯”è¾ƒå‡åŒ€çš„åˆ†å¸ƒåˆ°é›†ç¾¤ç¯å¢ƒä¸‹çš„è®¡ç®—å’Œç½‘ç»œèµ„æºï¼Œä»¥æé«˜æ•°æ®ååé‡ã€‚2ã€é”™è¯¯æ¢å¤ï¼šå¦‚æœé›†ç¾¤ä¸­çš„æŸä¸€å°æœåŠ¡å™¨ç”±äºæ•…éšœæˆ–è€…ç»´æŠ¤éœ€è¦æ— æ³•ä½¿ç”¨ï¼Œèµ„æºå’Œåº”ç”¨ç¨‹åºå°†è½¬ç§»åˆ°å¯ç”¨çš„é›†ç¾¤èŠ‚ç‚¹ä¸Šã€‚è¿™ç§ç”±äºæŸä¸ªèŠ‚ç‚¹çš„èµ„æºä¸èƒ½å·¥ä½œï¼Œå¦ä¸€ä¸ªå¯ç”¨èŠ‚ç‚¹ä¸­çš„èµ„æºèƒ½å¤Ÿé€æ˜çš„æ¥ç®¡å¹¶ç»§ç»­å®Œæˆä»»åŠ¡çš„è¿‡ç¨‹ï¼Œå«åšé”™è¯¯æ¢å¤ã€‚è´Ÿè½½å‡è¡¡å’Œé”™è¯¯æ¢å¤è¦æ±‚å„æœåŠ¡å®ä½“ä¸­æœ‰æ‰§è¡ŒåŒä¸€ä»»åŠ¡çš„èµ„æºå­˜åœ¨ï¼Œè€Œä¸”å¯¹äºåŒä¸€ä»»åŠ¡çš„å„ä¸ªèµ„æºæ¥è¯´ï¼Œæ‰§è¡Œä»»åŠ¡æ‰€éœ€çš„ä¿¡æ¯è§†å›¾å¿…é¡»æ˜¯ç›¸åŒçš„ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdn.net/20180826163836169?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjE4MzMzNg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="æ¯ä¸ªäººéƒ½æœ‰ä¸åŒçš„åˆ†å·¥ï¼Œä¸€èµ·åä½œå¹²ä¸€ä»¶äº‹ï¼Œå«åšåˆ†å¸ƒå¼ã€‚"></p><p><img src="https://img-blog.csdn.net/20180826163853698?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjE4MzMzNg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="æ¯ä¸ªåˆ’æ¡¨äººå¹²çš„éƒ½æ˜¯ä¸€æ ·çš„æ´»ï¼Œå«åšé›†ç¾¤"></p><h3 id="é™æµ"><a href="#é™æµ" class="headerlink" title="é™æµ"></a>é™æµ</h3><pre class="line-numbers language-none"><code class="language-none">é™æµçš„ç›®çš„é™æµçš„ç›®çš„æ˜¯é€šè¿‡å¯¹å¹¶å‘è®¿é—®/è¯·æ±‚è¿›è¡Œé™é€Ÿæˆ–è€…ä¸€ä¸ªæ—¶é—´çª—å£å†…çš„è¯·æ±‚è¿›è¡Œé™é€Ÿæ¥ä¿æŠ¤ç³»ç»Ÿçš„å¯ç”¨æ€§ï¼Œä¸€æ—¦è¾¾åˆ°é™åˆ¶é€Ÿç‡å°±å¯ä»¥æ‹’ç»æœåŠ¡ã€‚å°±åƒæ‰‹æœºé¢„å”®ä¸€æ ·ï¼Œå‡å¦‚è¦å–å‡º3ä¸‡å°ï¼Œåªéœ€è¦æ¥æ”¶3ä¸‡ç”¨æˆ·çš„è¯·æ±‚å°±å¯ä»¥ï¼Œå…¶ä»–çš„ç”¨æˆ·è¯·æ±‚å¯ä»¥é€‰æ‹©è¿‡æ»¤ï¼Œå¯ä»¥æç¤º"å½“å‰æœåŠ¡å™¨è¿‡å¿™ï¼Œè¯·ç¨åå†è¯•"çš„æç¤ºã€‚æ¨èå¤§å®¶çœ‹è¿™ç¯‡æ–‡ç« ï¼šæ¥å£é™æµç®—æ³•ï¼šæ¼æ¡¶ç®—æ³•&amp;ä»¤ç‰Œæ¡¶ç®—æ³•ã€‚é™æµæ–¹å¼ï¼š1. é™åˆ¶ç¬æ—¶å¹¶å‘æ•° ï¼š æ¯”å¦‚åœ¨å…¥å£å±‚ï¼ˆnginxæ·»åŠ nginx_http_limit_conn_moduleï¼‰æ¥é™åˆ¶åŒä¸€ä¸ªipæ¥æºçš„è¿æ¥æ•°ï¼Œé˜²æ­¢æ¶æ„æ”»å‡»è®¿é—®çš„æƒ…å†µã€‚2. é™åˆ¶æ€»å¹¶å‘æ•°ï¼šé€šè¿‡é…ç½®æ•°æ®åº“è¿æ¥æ± ã€çº¿ç¨‹æ± å¤§å°æ¥çº¦æŸæ€»å¹¶å‘æ•°3. é™åˆ¶æ—¶é—´çª—å£å†…çš„å¹³å‡é€Ÿç‡ï¼šåœ¨æ¥å£å±‚é¢ï¼Œé€šè¿‡é™åˆ¶è®¿é—®é€Ÿç‡æ¥æ§åˆ¶æ¥å£çš„å¹¶å‘è¯·æ±‚ã€‚4. å…¶ä»–æ–¹å¼ï¼šé™åˆ¶è¿œç¨‹æ¥å£çš„è°ƒç”¨é€Ÿç‡ã€é™åˆ¶MQçš„æ¶ˆè´¹é€Ÿç‡ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="3ã€ä¸šåŠ¡è®¾è®¡"><a href="#3ã€ä¸šåŠ¡è®¾è®¡" class="headerlink" title="3ã€ä¸šåŠ¡è®¾è®¡"></a>3ã€ä¸šåŠ¡è®¾è®¡</h2><pre class="line-numbers language-none"><code class="language-none">å¹‚ç­‰ï¼šå°±æ˜¯ç”¨æˆ·å¯¹äºåŒä¸€æ“ä½œå‘èµ·çš„ä¸€æ¬¡è¯·æ±‚æˆ–è€…å¤šæ¬¡è¯·æ±‚çš„ç»“æœæ˜¯ä¸€è‡´çš„ï¼Œä¸ä¼šå› ä¸ºå¤šæ¬¡ç‚¹å‡»è€Œäº§ç”Ÿäº†å‰¯ä½œç”¨ï¼Œå°±åƒæ•°å­¦é‡Œçš„æ•°å­—1ï¼Œå¤šå°‘æ¬¡å¹‚çš„ç»“æœéƒ½æ˜¯1ã€‚ä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼Œé‚£å°±æ˜¯æ”¯ä»˜ï¼Œç”¨æˆ·è´­ä¹°å•†å“åæ”¯ä»˜ï¼Œæ”¯ä»˜æ‰£æ¬¾æˆåŠŸï¼Œä½†æ˜¯è¿”å›ç»“æœçš„æ—¶å€™ç½‘ç»œå¼‚å¸¸ï¼Œæ­¤æ—¶é’±å·²ç»æ‰£äº†ï¼Œç”¨æˆ·å†æ¬¡ç‚¹å‡»æŒ‰é’®ï¼Œæ­¤æ—¶ä¼šè¿›è¡Œç¬¬äºŒæ¬¡æ‰£æ¬¾ï¼Œè¿”å›ç»“æœæˆåŠŸï¼Œç”¨æˆ·æŸ¥è¯¢ä½™é¢å‘ç°å¤šæ‰£é’±äº†ï¼Œæµæ°´è®°å½•ä¹Ÿå˜æˆäº†ä¸¤æ¡ã€‚é˜²é‡ï¼šé˜²æ­¢åŒæ ·çš„æ•°æ®åŒæ—¶æäº¤é™¤äº†åœ¨ä¸šåŠ¡æ–¹å‘åˆ¤æ–­å’ŒæŒ‰é’®ç‚¹å‡»ä¹‹åä¸èƒ½ç»§ç»­ç‚¹å‡»çš„é™åˆ¶ä»¥å¤–ï¼Œåœ¨æœåŠ¡å™¨ç«¯ä¹Ÿå¯ä»¥åšåˆ°é˜²é‡ï¼šåœ¨æœåŠ¡å™¨ç«¯ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„éšæœºæ ‡è¯†å·(Token&lt;ä»¤ç‰Œ&gt;)åŒäº‹åœ¨å½“å‰ç”¨æˆ·çš„SessionåŸŸä¸­ä¿å­˜è¿™ä¸ªä»¤ç‰Œï¼Œç„¶åå°†ä»¤ç‰Œå‘é€åˆ°å®¢æˆ·ç«¯çš„formè¡¨å•ä¸­ï¼Œåœ¨formè¡¨å•ä¸­ä½¿ç”¨éšè—åŸŸæ¥å­˜å‚¨è¿™ä¸ªTokenï¼Œè¡¨å•æäº¤çš„æ—¶å€™è”é€šè¿™ä¸ªTokenä¸€èµ·æäº¤åˆ°æœåŠ¡å™¨ï¼Œç„¶ååœ¨æœåŠ¡å™¨ç«¯åˆ¤æ–­å®¢æˆ·æäº¤ä¸Šæ¥çš„Tokenä¸æœåŠ¡å™¨ç«¯ç”Ÿæˆçš„Tokenæ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸ä¸€è‡´ï¼Œé‚£å°±é‡å¤æäº¤äº†ï¼Œæ­¤æ—¶æœåŠ¡å™¨ç«¯å°±å¯ä»¥ä¸å¤„ç†é‡å¤æäº¤çš„è¡¨å•ï¼Œå¦‚æœç›¸åŒåˆ™å¤„ç†è¡¨å•ï¼Œå¤„ç†å®Œåæ¸…å½“å‰ç”¨æˆ·çš„SessionåŸŸä¸­å­˜å‚¨çš„æ ‡è¯†å·ã€‚é«˜å¯ç”¨é«˜å¹¶å‘æ¶æ„å‚è€ƒï¼šé«˜å¯ç”¨é«˜å¹¶å‘çš„ 9 ç§æŠ€æœ¯æ¶æ„ã€‚åœ¨ä¸‹åˆ—æƒ…å†µä¸­ï¼ŒæœåŠ¡å™¨ç¨‹åºå°†æ‹’ç»å¤„ç†ç”¨æˆ·æäº¤çš„è¡¨å•è¯·æ±‚ï¼š 1ï¼‰å­˜å‚¨SessionåŸŸä¸­çš„Tokenä¸è¡¨å•æäº¤çš„Tokenä¸ä¸€è‡´ 2ï¼‰å½“å‰ç”¨æˆ·çš„Sessionä¸­ä¸å­˜åœ¨Token 3ï¼‰ç”¨æˆ·æäº¤çš„è¡¨å•æ•°æ®ä¸­æ²¡æœ‰Tokenã€‚ çŠ¶æ€æœºè½¯ä»¶è®¾è®¡ä¸­çš„çŠ¶æ€æœºæ¦‚å¿µï¼Œä¸€èˆ¬æ˜¯æŒ‡æœ‰é™çŠ¶æ€æœºï¼ˆè‹±è¯­ï¼šfinite-state machineï¼Œç¼©å†™ï¼šFSMï¼‰åˆç§°æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼Œç®€ç§°çŠ¶æ€æœºï¼Œæ˜¯è¡¨ç¤ºæœ‰é™ä¸ªçŠ¶æ€ä»¥åŠåœ¨è¿™äº›çŠ¶æ€ä¹‹é—´çš„è½¬ç§»å’ŒåŠ¨ä½œç­‰è¡Œä¸ºçš„æ•°å­¦æ¨¡å‹ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯¥æ–‡æ¡£è½¬è‡³ ï¼š<a href="https://mp.weixin.qq.com/s/N3YEAryyTGLiY2hmfID-Wg">https://mp.weixin.qq.com/s/N3YEAryyTGLiY2hmfID-Wg</a></p><p>è¯¥æ–‡æ¡£è½¬è‡³ ï¼š<a href="https://blog.csdn.net/weixin_42183336/article/details/82081892">https://blog.csdn.net/weixin_42183336/article/details/82081892</a></p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JAVA </tag>
            
            <tag> é«˜å¹¶å‘ </tag>
            
            <tag> æœåŠ¡ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•å‹ç¼©/è§£å‹Zipæ–‡ä»¶ï¼Ÿ</title>
      <link href="/MyBlog/file-zip/"/>
      <url>/MyBlog/file-zip/</url>
      
        <content type="html"><![CDATA[<blockquote><p>java.util.zipåŒ…æä¾›äº†ç”¨äºè¯»å–å’Œç¼–å†™zipå’Œgzipæ–‡ä»¶æ ¼å¼çš„ç±»ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨java.util.zip.ZipInputStreamå’Œjava.util.zip.ZipFileè§£å‹zipæ–‡ä»¶ï¼Œå¦‚ä½•ä»¥zipæ ¼å¼å‹ç¼©æ–‡ä»¶å’Œç›®å½•ã€‚</p></blockquote><blockquote><p>ZipInputStream - æ­¤ç±»ç”¨äºæŒ‰é¡ºåºè¯»å–zipæ¡ç›®ã€‚<br>ZipFile - æ­¤ç±»åœ¨å†…éƒ¨ä½¿ç”¨éšæœºè®¿é—®æ–‡ä»¶æ¥è¯»å–zipæ¡ç›®ã€‚<br>ä½¿ç”¨java.util.zip.ZipInputStreamè§£å‹ç¼©zipæ–‡ä»¶ï¼ŒZipOutputStreamç±»ç”¨äºå°†zipæ ¼å¼çš„æ•°æ®å†™å…¥è¾“å‡ºæµï¼Œzipæ–‡ä»¶åŒ…å«å¤šä¸ªç”±ZipEntryç±»è¡¨ç¤ºçš„æ¡ç›®ã€‚ </p></blockquote><p>ç¤ºä¾‹ä¸€ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// ä½¿ç”¨java.util.zip.ZipInputStreamè§£å‹ç¼©zipæ–‡ä»¶</span><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>yiibai<span class="token punctuation">.</span>tutorial<span class="token punctuation">.</span>io</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileOutputStream</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>zip<span class="token punctuation">.</span></span><span class="token class-name">ZipEntry</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>zip<span class="token punctuation">.</span></span><span class="token class-name">ZipInputStream</span><span class="token punctuation">;</span><span class="token comment">/** * @author yiibai */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UnzipFileExample1</span> <span class="token punctuation">{</span>     <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token class-name">File</span> zipFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"Test.zip"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token class-name">File</span> output <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"Unzip"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token class-name">FileInputStream</span> fileInputStream <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>         <span class="token class-name">ZipInputStream</span> zipInputStream <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>         <span class="token keyword">try</span> <span class="token punctuation">{</span> fileInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>zipFile<span class="token punctuation">)</span><span class="token punctuation">;</span>             zipInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZipInputStream</span><span class="token punctuation">(</span>fileInputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// Get ZipEntry ZipEntry entry = zipInputStream.getNextEntry(); </span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>entry <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                 <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                     <span class="token comment">// Create directory </span>                    <span class="token class-name">File</span> dir <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>output entry<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>dir<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                         dir<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token punctuation">}</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                    <span class="token comment">// Read zipEntry and write to a file. </span>                    <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>output entry<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">FileOutputStream</span> fileOutputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStre</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">int</span> i<span class="token punctuation">;</span>                     <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                     <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">=</span> zipInputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                 fileOutputStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data <span class="token number">0</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token punctuation">}</span>                     fileOutputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token punctuation">}</span>                 <span class="token comment">// Get next entry </span>                entry <span class="token operator">=</span> zipInputStream<span class="token punctuation">.</span><span class="token function">getNextEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>             e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>            <span class="token keyword">try</span> <span class="token punctuation">{</span>                 <span class="token keyword">if</span> <span class="token punctuation">(</span>fileInputStream <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> fileInputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token punctuation">}</span>                 <span class="token keyword">if</span> <span class="token punctuation">(</span>zipInputStream <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> zipInputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>             <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                 e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token punctuation">}</span>         <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¤ºä¾‹äºŒï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// ä½¿ç”¨java.util.zip.ZipFileè§£å‹ç¼©zipæ–‡ä»¶</span><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>yiibai<span class="token punctuation">.</span>tutorial<span class="token punctuation">.</span>io</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileOutputStream</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Enumeration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>zip<span class="token punctuation">.</span></span><span class="token class-name">ZipEntry</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>zip<span class="token punctuation">.</span></span><span class="token class-name">ZipFile</span><span class="token punctuation">;</span><span class="token comment">/** * @author yiibai */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UnzipFileExample2</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token class-name">File</span> output <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"Unzip2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ZipFile</span> zipFile <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            zipFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZipFile</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"Test.zip"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Enumeration</span> entries <span class="token operator">=</span> zipFile<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>entries<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token class-name">ZipEntry</span> entry <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ZipEntry</span><span class="token punctuation">)</span> entries<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token comment">// Create directory</span>                    <span class="token class-name">File</span> dir <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>output entry<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>dir<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        dir<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                    <span class="token comment">// Get zipEntry name and create an output stream. </span>                    <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>output entry<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token class-name">FileOutputStream</span> fileOutputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> zipFile<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// Read Zip file entry </span>                    <span class="token keyword">int</span> i<span class="token punctuation">;</span>                     <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">=</span> inputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                         fileOutputStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data <span class="token number">0</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token punctuation">}</span>                    fileOutputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    inputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>             <span class="token keyword">try</span> <span class="token punctuation">{</span>                 <span class="token keyword">if</span> <span class="token punctuation">(</span>zipFile <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                     zipFile<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token punctuation">}</span>             <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                 e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>         <span class="token punctuation">}</span>     <span class="token punctuation">}</span> <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å‹ç¼©æ–‡ä»¶çš„ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>yiibai<span class="token punctuation">.</span>tutorial<span class="token punctuation">.</span>io</span><span class="token punctuation">;</span> <span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span><span class="token punctuation">;</span> <span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span><span class="token punctuation">;</span> <span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileOutputStream</span><span class="token punctuation">;</span> <span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span> <span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>zip<span class="token punctuation">.</span></span><span class="token class-name">ZipEntry</span><span class="token punctuation">;</span> <span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>zip<span class="token punctuation">.</span></span><span class="token class-name">ZipOutputStream</span><span class="token punctuation">;</span> <span class="token comment">/** * @author yiibai */</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ZipFileExample</span> <span class="token punctuation">{</span>     <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token comment">// Output zip file </span>        <span class="token class-name">File</span> zipfile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"MyFile.zip"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// Input file to be compressed </span>        <span class="token class-name">File</span> inFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"file.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token class-name">FileInputStream</span> fileInputStream <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>         <span class="token class-name">FileOutputStream</span> fileOutputStream <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>         <span class="token class-name">ZipOutputStream</span> zipOutputStream <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>         <span class="token keyword">try</span> <span class="token punctuation">{</span>             fileInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>inFile<span class="token punctuation">)</span><span class="token punctuation">;</span>             fileOutputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>zipfile<span class="token punctuation">)</span><span class="token punctuation">;</span>             zipOutputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZipOutputStream</span><span class="token punctuation">(</span>fileOutputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// Create ZipEntry </span>            <span class="token class-name">ZipEntry</span> entry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZipEntry</span><span class="token punctuation">(</span>inFile<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// Set position of stream to the start of entry data zipOutputStream.putNextEntry(entry); </span>            <span class="token comment">// Write data to </span>            zipOutputStream <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>             <span class="token keyword">int</span> i<span class="token punctuation">;</span>             <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">=</span> fileInputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                 zipOutputStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data <span class="token number">0</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token punctuation">}</span>             <span class="token comment">// Closes the current ZIP entry and positions the stream for writing </span>            <span class="token comment">// the next entry </span>            zipOutputStream<span class="token punctuation">.</span><span class="token function">closeEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>             <span class="token keyword">try</span> <span class="token punctuation">{</span>                 <span class="token keyword">if</span> <span class="token punctuation">(</span>fileInputStream <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                     fileInputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token punctuation">}</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>zipOutputStream <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                     zipOutputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token punctuation">}</span>             <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                 e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token punctuation">}</span>         <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å‹ç¼©ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½•</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// ä»¥é€’å½’æ–¹å¼éå†ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨ZipOutputStreamå°†å…¶å†™å…¥zipæ–‡ä»¶ã€‚</span><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>yiibai<span class="token punctuation">.</span>tutorial<span class="token punctuation">.</span>io</span><span class="token punctuation">;</span> <span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span><span class="token punctuation">;</span> <span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span><span class="token punctuation">;</span> <span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileOutputStream</span><span class="token punctuation">;</span> <span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span> <span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>zip<span class="token punctuation">.</span></span><span class="token class-name">ZipEntry</span><span class="token punctuation">;</span> <span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>zip<span class="token punctuation">.</span></span><span class="token class-name">ZipOutputStream</span><span class="token punctuation">;</span> <span class="token comment">/** * @author yiibai */</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ZipDirectoryExample</span> <span class="token punctuation">{</span>     <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token class-name">File</span> zipFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"MyZip.zip"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token class-name">File</span> directory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"D:/Work/java"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token class-name">FileOutputStream</span> fileOutputStream <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>         <span class="token class-name">ZipOutputStream</span> zipOutputStream <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>         <span class="token keyword">try</span> <span class="token punctuation">{</span>             fileOutputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>zipFile<span class="token punctuation">)</span><span class="token punctuation">;</span>             zipOutputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZipOutputStream</span><span class="token punctuation">(</span>fileOutputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// Create zip file createZipFile(zipOutputStream directory directory.getAbsolutePath()); </span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>             e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>             <span class="token keyword">try</span> <span class="token punctuation">{</span>                 <span class="token keyword">if</span> <span class="token punctuation">(</span>zipOutputStream <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                     zipOutputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token punctuation">}</span>             <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                 e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token punctuation">}</span>         <span class="token punctuation">}</span>     <span class="token punctuation">}</span>     <span class="token comment">/** * @param zipOutputStream * @param directory * @throws IOException */</span> <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">createZipFile</span><span class="token punctuation">(</span><span class="token class-name">ZipOutputStream</span> zipOutputStream <span class="token class-name">File</span> directory <span class="token class-name">String</span> zipEntryPath<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>         <span class="token class-name">File</span><span class="token punctuation">[</span><span class="token punctuation">]</span> files <span class="token operator">=</span> directory<span class="token punctuation">.</span><span class="token function">listFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">File</span> file <span class="token operator">:</span> files<span class="token punctuation">)</span> <span class="token punctuation">{</span>             <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                 <span class="token function">createZipFile</span><span class="token punctuation">(</span>zipOutputStream file zipEntryPath<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                 <span class="token class-name">FileInputStream</span> fileInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// Create zipEntry </span>                <span class="token class-name">String</span> filePath <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">getAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token class-name">ZipEntry</span> entry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZipEntry</span><span class="token punctuation">(</span>filePath<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>zipEntryPath <span class="token operator">+</span> <span class="token class-name">File</span><span class="token punctuation">.</span>separator <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// Set position of stream to the start of entry data zipOutputStream.putNextEntry(entry); </span>                <span class="token comment">// Write data to zip output stream </span>                <span class="token keyword">byte</span> data<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                 <span class="token keyword">int</span> i<span class="token punctuation">;</span>                 <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">=</span> fileInputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                     zipOutputStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>data <span class="token number">0</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token punctuation">}</span>                 <span class="token comment">// Closes the current ZIP entry zipOutputStream.closeEntry(); </span>                <span class="token comment">// Close file stream </span>                fileInputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åŸæ–‡å‡ºè‡ª<a href="https://www.yiibai.com/">æ˜“ç™¾æ•™ç¨‹</a> åŸæ–‡é“¾æ¥ï¼š<br><a href="https://www.yiibai.com/geek/detail/447">https://www.yiibai.com/geek/detail/447</a><br><a href="https://www.yiibai.com/geek/detail/441">https://www.yiibai.com/geek/detail/441</a></p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IO </tag>
            
            <tag> JAVA </tag>
            
            <tag> ZIP </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
